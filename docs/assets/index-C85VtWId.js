(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Dm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),r}var Lu={exports:{}},di={},Iu={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pn=Symbol.for("react.element"),Um=Symbol.for("react.portal"),Fm=Symbol.for("react.fragment"),Bm=Symbol.for("react.strict_mode"),Wm=Symbol.for("react.profiler"),Vm=Symbol.for("react.provider"),Km=Symbol.for("react.context"),Hm=Symbol.for("react.forward_ref"),qm=Symbol.for("react.suspense"),Gm=Symbol.for("react.memo"),Jm=Symbol.for("react.lazy"),Yc=Symbol.iterator;function Qm(e){return e===null||typeof e!="object"?null:(e=Yc&&e[Yc]||e["@@iterator"],typeof e=="function"?e:null)}var $u={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mu=Object.assign,zu={};function Ns(e,t,r){this.props=e,this.context=t,this.refs=zu,this.updater=r||$u}Ns.prototype.isReactComponent={};Ns.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ns.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Du(){}Du.prototype=Ns.prototype;function To(e,t,r){this.props=e,this.context=t,this.refs=zu,this.updater=r||$u}var Po=To.prototype=new Du;Po.constructor=To;Mu(Po,Ns.prototype);Po.isPureReactComponent=!0;var Xc=Array.isArray,Uu=Object.prototype.hasOwnProperty,Ro={current:null},Fu={key:!0,ref:!0,__self:!0,__source:!0};function Bu(e,t,r){var s,a={},i=null,l=null;if(t!=null)for(s in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Uu.call(t,s)&&!Fu.hasOwnProperty(s)&&(a[s]=t[s]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)a[s]===void 0&&(a[s]=o[s]);return{$$typeof:Pn,type:e,key:i,ref:l,props:a,_owner:Ro.current}}function Ym(e,t){return{$$typeof:Pn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ao(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pn}function Xm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Zc=/\/+/g;function Ii(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xm(""+e.key):t.toString(36)}function ya(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Pn:case Um:l=!0}}if(l)return l=e,a=a(l),e=s===""?"."+Ii(l,0):s,Xc(a)?(r="",e!=null&&(r=e.replace(Zc,"$&/")+"/"),ya(a,t,r,"",function(d){return d})):a!=null&&(Ao(a)&&(a=Ym(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(Zc,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=s===""?".":s+":",Xc(e))for(var o=0;o<e.length;o++){i=e[o];var c=s+Ii(i,o);l+=ya(i,t,r,c,a)}else if(c=Qm(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=s+Ii(i,o++),l+=ya(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Jn(e,t,r){if(e==null)return e;var s=[],a=0;return ya(e,s,"","",function(i){return t.call(r,i,a++)}),s}function Zm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},va={transition:null},ep={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:va,ReactCurrentOwner:Ro};function Wu(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Jn,forEach:function(e,t,r){Jn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Jn(e,function(){t++}),t},toArray:function(e){return Jn(e,function(t){return t})||[]},only:function(e){if(!Ao(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=Ns;G.Fragment=Fm;G.Profiler=Wm;G.PureComponent=To;G.StrictMode=Bm;G.Suspense=qm;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ep;G.act=Wu;G.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Mu({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Ro.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Uu.call(t,c)&&!Fu.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];s.children=o}return{$$typeof:Pn,type:e.type,key:a,ref:i,props:s,_owner:l}};G.createContext=function(e){return e={$$typeof:Km,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vm,_context:e},e.Consumer=e};G.createElement=Bu;G.createFactory=function(e){var t=Bu.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:Hm,render:e}};G.isValidElement=Ao;G.lazy=function(e){return{$$typeof:Jm,_payload:{_status:-1,_result:e},_init:Zm}};G.memo=function(e,t){return{$$typeof:Gm,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=va.transition;va.transition={};try{e()}finally{va.transition=t}};G.unstable_act=Wu;G.useCallback=function(e,t){return Ae.current.useCallback(e,t)};G.useContext=function(e){return Ae.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};G.useEffect=function(e,t){return Ae.current.useEffect(e,t)};G.useId=function(){return Ae.current.useId()};G.useImperativeHandle=function(e,t,r){return Ae.current.useImperativeHandle(e,t,r)};G.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Ae.current.useMemo(e,t)};G.useReducer=function(e,t,r){return Ae.current.useReducer(e,t,r)};G.useRef=function(e){return Ae.current.useRef(e)};G.useState=function(e){return Ae.current.useState(e)};G.useSyncExternalStore=function(e,t,r){return Ae.current.useSyncExternalStore(e,t,r)};G.useTransition=function(){return Ae.current.useTransition()};G.version="18.3.1";Iu.exports=G;var y=Iu.exports;const tp=zm(y);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp=y,sp=Symbol.for("react.element"),np=Symbol.for("react.fragment"),ap=Object.prototype.hasOwnProperty,ip=rp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lp={key:!0,ref:!0,__self:!0,__source:!0};function Vu(e,t,r){var s,a={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(s in t)ap.call(t,s)&&!lp.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:sp,type:e,key:i,ref:l,props:a,_owner:ip.current}}di.Fragment=np;di.jsx=Vu;di.jsxs=Vu;Lu.exports=di;var n=Lu.exports,bl={},Ku={exports:{}},qe={},Hu={exports:{}},qu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,L){var B=T.length;T.push(L);e:for(;0<B;){var W=B-1>>>1,V=T[W];if(0<a(V,L))T[W]=L,T[B]=V,B=W;else break e}}function r(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var L=T[0],B=T.pop();if(B!==L){T[0]=B;e:for(var W=0,V=T.length,Le=V>>>1;W<Le;){var Ne=2*(W+1)-1,nt=T[Ne],ve=Ne+1,Q=T[ve];if(0>a(nt,B))ve<V&&0>a(Q,nt)?(T[W]=Q,T[ve]=B,W=ve):(T[W]=nt,T[Ne]=B,W=Ne);else if(ve<V&&0>a(Q,B))T[W]=Q,T[ve]=B,W=ve;else break e}}return L}function a(T,L){var B=T.sortIndex-L.sortIndex;return B!==0?B:T.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,h=null,m=3,x=!1,v=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(T){for(var L=r(d);L!==null;){if(L.callback===null)s(d);else if(L.startTime<=T)s(d),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(d)}}function b(T){if(w=!1,p(T),!v)if(r(c)!==null)v=!0,_(j);else{var L=r(d);L!==null&&O(b,L.startTime-T)}}function j(T,L){v=!1,w&&(w=!1,g(A),A=-1),x=!0;var B=m;try{for(p(L),h=r(c);h!==null&&(!(h.expirationTime>L)||T&&!D());){var W=h.callback;if(typeof W=="function"){h.callback=null,m=h.priorityLevel;var V=W(h.expirationTime<=L);L=e.unstable_now(),typeof V=="function"?h.callback=V:h===r(c)&&s(c),p(L)}else s(c);h=r(c)}if(h!==null)var Le=!0;else{var Ne=r(d);Ne!==null&&O(b,Ne.startTime-L),Le=!1}return Le}finally{h=null,m=B,x=!1}}var N=!1,C=null,A=-1,F=5,S=-1;function D(){return!(e.unstable_now()-S<F)}function R(){if(C!==null){var T=e.unstable_now();S=T;var L=!0;try{L=C(!0,T)}finally{L?P():(N=!1,C=null)}}else N=!1}var P;if(typeof f=="function")P=function(){f(R)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,z=E.port2;E.port1.onmessage=R,P=function(){z.postMessage(null)}}else P=function(){k(R,0)};function _(T){C=T,N||(N=!0,P())}function O(T,L){A=k(function(){T(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||x||(v=!0,_(j))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var B=m;m=L;try{return T()}finally{m=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,L){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var B=m;m=T;try{return L()}finally{m=B}},e.unstable_scheduleCallback=function(T,L,B){var W=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,T){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=B+V,T={id:u++,callback:L,priorityLevel:T,startTime:B,expirationTime:V,sortIndex:-1},B>W?(T.sortIndex=B,t(d,T),r(c)===null&&T===r(d)&&(w?(g(A),A=-1):w=!0,O(b,B-W))):(T.sortIndex=V,t(c,T),v||x||(v=!0,_(j))),T},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(T){var L=m;return function(){var B=m;m=L;try{return T.apply(this,arguments)}finally{m=B}}}})(qu);Hu.exports=qu;var op=Hu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp=y,He=op;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gu=new Set,cn={};function Lr(e,t){fs(e,t),fs(e+"Capture",t)}function fs(e,t){for(cn[e]=t,e=0;e<t.length;e++)Gu.add(t[e])}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wl=Object.prototype.hasOwnProperty,dp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ed={},td={};function up(e){return wl.call(td,e)?!0:wl.call(ed,e)?!1:dp.test(e)?td[e]=!0:(ed[e]=!0,!1)}function hp(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fp(e,t,r,s){if(t===null||typeof t>"u"||hp(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oe(e,t,r,s,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new Oe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new Oe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new Oe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new Oe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new Oe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new Oe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new Oe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new Oe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new Oe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Oo=/[\-:]([a-z])/g;function Lo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Oo,Lo);je[t]=new Oe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Oo,Lo);je[t]=new Oe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Oo,Lo);je[t]=new Oe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new Oe(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new Oe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Io(e,t,r,s){var a=je.hasOwnProperty(t)?je[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fp(t,r,a,s)&&(r=null),s||a===null?up(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Ft=cp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qn=Symbol.for("react.element"),qr=Symbol.for("react.portal"),Gr=Symbol.for("react.fragment"),$o=Symbol.for("react.strict_mode"),jl=Symbol.for("react.profiler"),Ju=Symbol.for("react.provider"),Qu=Symbol.for("react.context"),Mo=Symbol.for("react.forward_ref"),Nl=Symbol.for("react.suspense"),kl=Symbol.for("react.suspense_list"),zo=Symbol.for("react.memo"),qt=Symbol.for("react.lazy"),Yu=Symbol.for("react.offscreen"),rd=Symbol.iterator;function Is(e){return e===null||typeof e!="object"?null:(e=rd&&e[rd]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,$i;function Ks(e){if($i===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$i=t&&t[1]||""}return`
`+$i+e}var Mi=!1;function zi(e,t){if(!e||Mi)return"";Mi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Mi=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ks(e):""}function mp(e){switch(e.tag){case 5:return Ks(e.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 2:case 15:return e=zi(e.type,!1),e;case 11:return e=zi(e.type.render,!1),e;case 1:return e=zi(e.type,!0),e;default:return""}}function _l(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gr:return"Fragment";case qr:return"Portal";case jl:return"Profiler";case $o:return"StrictMode";case Nl:return"Suspense";case kl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qu:return(e.displayName||"Context")+".Consumer";case Ju:return(e._context.displayName||"Context")+".Provider";case Mo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zo:return t=e.displayName||null,t!==null?t:_l(e.type)||"Memo";case qt:t=e._payload,e=e._init;try{return _l(e(t))}catch{}}return null}function pp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _l(t);case 8:return t===$o?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gp(e){var t=Xu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){s=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(l){s=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yn(e){e._valueTracker||(e._valueTracker=gp(e))}function Zu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Xu(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Aa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sl(e,t){var r=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function sd(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=cr(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function eh(e,t){t=t.checked,t!=null&&Io(e,"checked",t,!1)}function Cl(e,t){eh(e,t);var r=cr(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?El(e,t.type,r):t.hasOwnProperty("defaultValue")&&El(e,t.type,cr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function El(e,t,r){(t!=="number"||Aa(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Hs=Array.isArray;function as(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+cr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Tl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ad(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if(Hs(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:cr(r)}}function th(e,t){var r=cr(t.value),s=cr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function id(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xn,sh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xn=Xn||document.createElement("div"),Xn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xp=["Webkit","ms","Moz","O"];Object.keys(Qs).forEach(function(e){xp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qs[t]=Qs[e]})});function nh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Qs.hasOwnProperty(e)&&Qs[e]?(""+t).trim():t+"px"}function ah(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=nh(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var yp=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rl(e,t){if(t){if(yp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Al(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ol=null;function Do(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ll=null,is=null,ls=null;function ld(e){if(e=On(e)){if(typeof Ll!="function")throw Error(I(280));var t=e.stateNode;t&&(t=pi(t),Ll(e.stateNode,e.type,t))}}function ih(e){is?ls?ls.push(e):ls=[e]:is=e}function lh(){if(is){var e=is,t=ls;if(ls=is=null,ld(e),t)for(e=0;e<t.length;e++)ld(t[e])}}function oh(e,t){return e(t)}function ch(){}var Di=!1;function dh(e,t,r){if(Di)return e(t,r);Di=!0;try{return oh(e,t,r)}finally{Di=!1,(is!==null||ls!==null)&&(ch(),lh())}}function un(e,t){var r=e.stateNode;if(r===null)return null;var s=pi(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var Il=!1;if($t)try{var $s={};Object.defineProperty($s,"passive",{get:function(){Il=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{Il=!1}function vp(e,t,r,s,a,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Ys=!1,Oa=null,La=!1,$l=null,bp={onError:function(e){Ys=!0,Oa=e}};function wp(e,t,r,s,a,i,l,o,c){Ys=!1,Oa=null,vp.apply(bp,arguments)}function jp(e,t,r,s,a,i,l,o,c){if(wp.apply(this,arguments),Ys){if(Ys){var d=Oa;Ys=!1,Oa=null}else throw Error(I(198));La||(La=!0,$l=d)}}function Ir(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function uh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function od(e){if(Ir(e)!==e)throw Error(I(188))}function Np(e){var t=e.alternate;if(!t){if(t=Ir(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return od(a),e;if(i===s)return od(a),t;i=i.sibling}throw Error(I(188))}if(r.return!==s.return)r=a,s=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,s=i;break}if(o===s){l=!0,s=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,s=a;break}if(o===s){l=!0,s=i,r=a;break}o=o.sibling}if(!l)throw Error(I(189))}}if(r.alternate!==s)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function hh(e){return e=Np(e),e!==null?fh(e):null}function fh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fh(e);if(t!==null)return t;e=e.sibling}return null}var mh=He.unstable_scheduleCallback,cd=He.unstable_cancelCallback,kp=He.unstable_shouldYield,_p=He.unstable_requestPaint,ce=He.unstable_now,Sp=He.unstable_getCurrentPriorityLevel,Uo=He.unstable_ImmediatePriority,ph=He.unstable_UserBlockingPriority,Ia=He.unstable_NormalPriority,Cp=He.unstable_LowPriority,gh=He.unstable_IdlePriority,ui=null,Nt=null;function Ep(e){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(ui,e,void 0,(e.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:Rp,Tp=Math.log,Pp=Math.LN2;function Rp(e){return e>>>=0,e===0?32:31-(Tp(e)/Pp|0)|0}var Zn=64,ea=4194304;function qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $a(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?s=qs(o):(i&=l,i!==0&&(s=qs(i)))}else l=r&~a,l!==0?s=qs(l):i!==0&&(s=qs(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-ht(t),a=1<<r,s|=e[r],t&=~a;return s}function Ap(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Op(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-ht(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&s)&&(a[l]=Ap(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Ml(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xh(){var e=Zn;return Zn<<=1,!(Zn&4194240)&&(Zn=64),e}function Ui(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Rn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ht(t),e[t]=r}function Lp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ht(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function Fo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-ht(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var Y=0;function yh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vh,Bo,bh,wh,jh,zl=!1,ta=[],er=null,tr=null,rr=null,hn=new Map,fn=new Map,Jt=[],Ip="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dd(e,t){switch(e){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":hn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fn.delete(t.pointerId)}}function Ms(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=On(t),t!==null&&Bo(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function $p(e,t,r,s,a){switch(t){case"focusin":return er=Ms(er,e,t,r,s,a),!0;case"dragenter":return tr=Ms(tr,e,t,r,s,a),!0;case"mouseover":return rr=Ms(rr,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return hn.set(i,Ms(hn.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,fn.set(i,Ms(fn.get(i)||null,e,t,r,s,a)),!0}return!1}function Nh(e){var t=wr(e.target);if(t!==null){var r=Ir(t);if(r!==null){if(t=r.tag,t===13){if(t=uh(r),t!==null){e.blockedOn=t,jh(e.priority,function(){bh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ba(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Dl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Ol=s,r.target.dispatchEvent(s),Ol=null}else return t=On(r),t!==null&&Bo(t),e.blockedOn=r,!1;t.shift()}return!0}function ud(e,t,r){ba(e)&&r.delete(t)}function Mp(){zl=!1,er!==null&&ba(er)&&(er=null),tr!==null&&ba(tr)&&(tr=null),rr!==null&&ba(rr)&&(rr=null),hn.forEach(ud),fn.forEach(ud)}function zs(e,t){e.blockedOn===t&&(e.blockedOn=null,zl||(zl=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,Mp)))}function mn(e){function t(a){return zs(a,e)}if(0<ta.length){zs(ta[0],e);for(var r=1;r<ta.length;r++){var s=ta[r];s.blockedOn===e&&(s.blockedOn=null)}}for(er!==null&&zs(er,e),tr!==null&&zs(tr,e),rr!==null&&zs(rr,e),hn.forEach(t),fn.forEach(t),r=0;r<Jt.length;r++)s=Jt[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Jt.length&&(r=Jt[0],r.blockedOn===null);)Nh(r),r.blockedOn===null&&Jt.shift()}var os=Ft.ReactCurrentBatchConfig,Ma=!0;function zp(e,t,r,s){var a=Y,i=os.transition;os.transition=null;try{Y=1,Wo(e,t,r,s)}finally{Y=a,os.transition=i}}function Dp(e,t,r,s){var a=Y,i=os.transition;os.transition=null;try{Y=4,Wo(e,t,r,s)}finally{Y=a,os.transition=i}}function Wo(e,t,r,s){if(Ma){var a=Dl(e,t,r,s);if(a===null)Qi(e,t,s,za,r),dd(e,s);else if($p(a,e,t,r,s))s.stopPropagation();else if(dd(e,s),t&4&&-1<Ip.indexOf(e)){for(;a!==null;){var i=On(a);if(i!==null&&vh(i),i=Dl(e,t,r,s),i===null&&Qi(e,t,s,za,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else Qi(e,t,s,null,r)}}var za=null;function Dl(e,t,r,s){if(za=null,e=Do(s),e=wr(e),e!==null)if(t=Ir(e),t===null)e=null;else if(r=t.tag,r===13){if(e=uh(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return za=e,null}function kh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sp()){case Uo:return 1;case ph:return 4;case Ia:case Cp:return 16;case gh:return 536870912;default:return 16}default:return 16}}var Xt=null,Vo=null,wa=null;function _h(){if(wa)return wa;var e,t=Vo,r=t.length,s,a="value"in Xt?Xt.value:Xt.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var l=r-e;for(s=1;s<=l&&t[r-s]===a[i-s];s++);return wa=a.slice(e,1<s?1-s:void 0)}function ja(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ra(){return!0}function hd(){return!1}function Ge(e){function t(r,s,a,i,l){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ra:hd,this.isPropagationStopped=hd,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),t}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ko=Ge(ks),An=ie({},ks,{view:0,detail:0}),Up=Ge(An),Fi,Bi,Ds,hi=ie({},An,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ho,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ds&&(Ds&&e.type==="mousemove"?(Fi=e.screenX-Ds.screenX,Bi=e.screenY-Ds.screenY):Bi=Fi=0,Ds=e),Fi)},movementY:function(e){return"movementY"in e?e.movementY:Bi}}),fd=Ge(hi),Fp=ie({},hi,{dataTransfer:0}),Bp=Ge(Fp),Wp=ie({},An,{relatedTarget:0}),Wi=Ge(Wp),Vp=ie({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),Kp=Ge(Vp),Hp=ie({},ks,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qp=Ge(Hp),Gp=ie({},ks,{data:0}),md=Ge(Gp),Jp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yp[e])?!!t[e]:!1}function Ho(){return Xp}var Zp=ie({},An,{key:function(e){if(e.key){var t=Jp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ja(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ho,charCode:function(e){return e.type==="keypress"?ja(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ja(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),eg=Ge(Zp),tg=ie({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pd=Ge(tg),rg=ie({},An,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ho}),sg=Ge(rg),ng=ie({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),ag=Ge(ng),ig=ie({},hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lg=Ge(ig),og=[9,13,27,32],qo=$t&&"CompositionEvent"in window,Xs=null;$t&&"documentMode"in document&&(Xs=document.documentMode);var cg=$t&&"TextEvent"in window&&!Xs,Sh=$t&&(!qo||Xs&&8<Xs&&11>=Xs),gd=" ",xd=!1;function Ch(e,t){switch(e){case"keyup":return og.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function dg(e,t){switch(e){case"compositionend":return Eh(t);case"keypress":return t.which!==32?null:(xd=!0,gd);case"textInput":return e=t.data,e===gd&&xd?null:e;default:return null}}function ug(e,t){if(Jr)return e==="compositionend"||!qo&&Ch(e,t)?(e=_h(),wa=Vo=Xt=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sh&&t.locale!=="ko"?null:t.data;default:return null}}var hg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hg[e.type]:t==="textarea"}function Th(e,t,r,s){ih(s),t=Da(t,"onChange"),0<t.length&&(r=new Ko("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Zs=null,pn=null;function fg(e){Uh(e,0)}function fi(e){var t=Xr(e);if(Zu(t))return e}function mg(e,t){if(e==="change")return t}var Ph=!1;if($t){var Vi;if($t){var Ki="oninput"in document;if(!Ki){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),Ki=typeof vd.oninput=="function"}Vi=Ki}else Vi=!1;Ph=Vi&&(!document.documentMode||9<document.documentMode)}function bd(){Zs&&(Zs.detachEvent("onpropertychange",Rh),pn=Zs=null)}function Rh(e){if(e.propertyName==="value"&&fi(pn)){var t=[];Th(t,pn,e,Do(e)),dh(fg,t)}}function pg(e,t,r){e==="focusin"?(bd(),Zs=t,pn=r,Zs.attachEvent("onpropertychange",Rh)):e==="focusout"&&bd()}function gg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fi(pn)}function xg(e,t){if(e==="click")return fi(t)}function yg(e,t){if(e==="input"||e==="change")return fi(t)}function vg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:vg;function gn(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!wl.call(t,a)||!pt(e[a],t[a]))return!1}return!0}function wd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jd(e,t){var r=wd(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wd(r)}}function Ah(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ah(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Oh(){for(var e=window,t=Aa();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Aa(e.document)}return t}function Go(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bg(e){var t=Oh(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ah(r.ownerDocument.documentElement,r)){if(s!==null&&Go(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=jd(r,i);var l=jd(r,s);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wg=$t&&"documentMode"in document&&11>=document.documentMode,Qr=null,Ul=null,en=null,Fl=!1;function Nd(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fl||Qr==null||Qr!==Aa(s)||(s=Qr,"selectionStart"in s&&Go(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),en&&gn(en,s)||(en=s,s=Da(Ul,"onSelect"),0<s.length&&(t=new Ko("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Qr)))}function sa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Yr={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionend:sa("Transition","TransitionEnd")},Hi={},Lh={};$t&&(Lh=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function mi(e){if(Hi[e])return Hi[e];if(!Yr[e])return e;var t=Yr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Lh)return Hi[e]=t[r];return e}var Ih=mi("animationend"),$h=mi("animationiteration"),Mh=mi("animationstart"),zh=mi("transitionend"),Dh=new Map,kd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(e,t){Dh.set(e,t),Lr(t,[e])}for(var qi=0;qi<kd.length;qi++){var Gi=kd[qi],jg=Gi.toLowerCase(),Ng=Gi[0].toUpperCase()+Gi.slice(1);ur(jg,"on"+Ng)}ur(Ih,"onAnimationEnd");ur($h,"onAnimationIteration");ur(Mh,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(zh,"onTransitionEnd");fs("onMouseEnter",["mouseout","mouseover"]);fs("onMouseLeave",["mouseout","mouseover"]);fs("onPointerEnter",["pointerout","pointerover"]);fs("onPointerLeave",["pointerout","pointerover"]);Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gs));function _d(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,jp(s,t,void 0,e),e.currentTarget=null}function Uh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var l=s.length-1;0<=l;l--){var o=s[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;_d(a,o,d),i=c}else for(l=0;l<s.length;l++){if(o=s[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;_d(a,o,d),i=c}}}if(La)throw e=$l,La=!1,$l=null,e}function te(e,t){var r=t[Hl];r===void 0&&(r=t[Hl]=new Set);var s=e+"__bubble";r.has(s)||(Fh(t,e,2,!1),r.add(s))}function Ji(e,t,r){var s=0;t&&(s|=4),Fh(r,e,s,t)}var na="_reactListening"+Math.random().toString(36).slice(2);function xn(e){if(!e[na]){e[na]=!0,Gu.forEach(function(r){r!=="selectionchange"&&(kg.has(r)||Ji(r,!1,e),Ji(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[na]||(t[na]=!0,Ji("selectionchange",!1,t))}}function Fh(e,t,r,s){switch(kh(t)){case 1:var a=zp;break;case 4:a=Dp;break;default:a=Wo}r=a.bind(null,t,r,e),a=void 0,!Il||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Qi(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var l=s.tag;if(l===3||l===4){var o=s.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=s.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=wr(o),l===null)return;if(c=l.tag,c===5||c===6){s=i=l;continue e}o=o.parentNode}}s=s.return}dh(function(){var d=i,u=Do(r),h=[];e:{var m=Dh.get(e);if(m!==void 0){var x=Ko,v=e;switch(e){case"keypress":if(ja(r)===0)break e;case"keydown":case"keyup":x=eg;break;case"focusin":v="focus",x=Wi;break;case"focusout":v="blur",x=Wi;break;case"beforeblur":case"afterblur":x=Wi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Bp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=sg;break;case Ih:case $h:case Mh:x=Kp;break;case zh:x=ag;break;case"scroll":x=Up;break;case"wheel":x=lg;break;case"copy":case"cut":case"paste":x=qp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=pd}var w=(t&4)!==0,k=!w&&e==="scroll",g=w?m!==null?m+"Capture":null:m;w=[];for(var f=d,p;f!==null;){p=f;var b=p.stateNode;if(p.tag===5&&b!==null&&(p=b,g!==null&&(b=un(f,g),b!=null&&w.push(yn(f,b,p)))),k)break;f=f.return}0<w.length&&(m=new x(m,v,null,r,u),h.push({event:m,listeners:w}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",m&&r!==Ol&&(v=r.relatedTarget||r.fromElement)&&(wr(v)||v[Mt]))break e;if((x||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,x?(v=r.relatedTarget||r.toElement,x=d,v=v?wr(v):null,v!==null&&(k=Ir(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(x=null,v=d),x!==v)){if(w=fd,b="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=pd,b="onPointerLeave",g="onPointerEnter",f="pointer"),k=x==null?m:Xr(x),p=v==null?m:Xr(v),m=new w(b,f+"leave",x,r,u),m.target=k,m.relatedTarget=p,b=null,wr(u)===d&&(w=new w(g,f+"enter",v,r,u),w.target=p,w.relatedTarget=k,b=w),k=b,x&&v)t:{for(w=x,g=v,f=0,p=w;p;p=Dr(p))f++;for(p=0,b=g;b;b=Dr(b))p++;for(;0<f-p;)w=Dr(w),f--;for(;0<p-f;)g=Dr(g),p--;for(;f--;){if(w===g||g!==null&&w===g.alternate)break t;w=Dr(w),g=Dr(g)}w=null}else w=null;x!==null&&Sd(h,m,x,w,!1),v!==null&&k!==null&&Sd(h,k,v,w,!0)}}e:{if(m=d?Xr(d):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var j=mg;else if(yd(m))if(Ph)j=yg;else{j=gg;var N=pg}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=xg);if(j&&(j=j(e,d))){Th(h,j,r,u);break e}N&&N(e,m,d),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&El(m,"number",m.value)}switch(N=d?Xr(d):window,e){case"focusin":(yd(N)||N.contentEditable==="true")&&(Qr=N,Ul=d,en=null);break;case"focusout":en=Ul=Qr=null;break;case"mousedown":Fl=!0;break;case"contextmenu":case"mouseup":case"dragend":Fl=!1,Nd(h,r,u);break;case"selectionchange":if(wg)break;case"keydown":case"keyup":Nd(h,r,u)}var C;if(qo)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Jr?Ch(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(Sh&&r.locale!=="ko"&&(Jr||A!=="onCompositionStart"?A==="onCompositionEnd"&&Jr&&(C=_h()):(Xt=u,Vo="value"in Xt?Xt.value:Xt.textContent,Jr=!0)),N=Da(d,A),0<N.length&&(A=new md(A,e,null,r,u),h.push({event:A,listeners:N}),C?A.data=C:(C=Eh(r),C!==null&&(A.data=C)))),(C=cg?dg(e,r):ug(e,r))&&(d=Da(d,"onBeforeInput"),0<d.length&&(u=new md("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=C))}Uh(h,t)})}function yn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Da(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=un(e,r),i!=null&&s.unshift(yn(e,i,a)),i=un(e,t),i!=null&&s.push(yn(e,i,a))),e=e.return}return s}function Dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sd(e,t,r,s,a){for(var i=t._reactName,l=[];r!==null&&r!==s;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===s)break;o.tag===5&&d!==null&&(o=d,a?(c=un(r,i),c!=null&&l.unshift(yn(r,c,o))):a||(c=un(r,i),c!=null&&l.push(yn(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var _g=/\r\n?/g,Sg=/\u0000|\uFFFD/g;function Cd(e){return(typeof e=="string"?e:""+e).replace(_g,`
`).replace(Sg,"")}function aa(e,t,r){if(t=Cd(t),Cd(e)!==t&&r)throw Error(I(425))}function Ua(){}var Bl=null,Wl=null;function Vl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kl=typeof setTimeout=="function"?setTimeout:void 0,Cg=typeof clearTimeout=="function"?clearTimeout:void 0,Ed=typeof Promise=="function"?Promise:void 0,Eg=typeof queueMicrotask=="function"?queueMicrotask:typeof Ed<"u"?function(e){return Ed.resolve(null).then(e).catch(Tg)}:Kl;function Tg(e){setTimeout(function(){throw e})}function Yi(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),mn(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);mn(t)}function sr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Td(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var _s=Math.random().toString(36).slice(2),jt="__reactFiber$"+_s,vn="__reactProps$"+_s,Mt="__reactContainer$"+_s,Hl="__reactEvents$"+_s,Pg="__reactListeners$"+_s,Rg="__reactHandles$"+_s;function wr(e){var t=e[jt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Mt]||r[jt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Td(e);e!==null;){if(r=e[jt])return r;e=Td(e)}return t}e=r,r=e.parentNode}return null}function On(e){return e=e[jt]||e[Mt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function pi(e){return e[vn]||null}var ql=[],Zr=-1;function hr(e){return{current:e}}function re(e){0>Zr||(e.current=ql[Zr],ql[Zr]=null,Zr--)}function ee(e,t){Zr++,ql[Zr]=e.current,e.current=t}var dr={},Ee=hr(dr),De=hr(!1),Sr=dr;function ms(e,t){var r=e.type.contextTypes;if(!r)return dr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ue(e){return e=e.childContextTypes,e!=null}function Fa(){re(De),re(Ee)}function Pd(e,t,r){if(Ee.current!==dr)throw Error(I(168));ee(Ee,t),ee(De,r)}function Bh(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(I(108,pp(e)||"Unknown",a));return ie({},r,s)}function Ba(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dr,Sr=Ee.current,ee(Ee,e),ee(De,De.current),!0}function Rd(e,t,r){var s=e.stateNode;if(!s)throw Error(I(169));r?(e=Bh(e,t,Sr),s.__reactInternalMemoizedMergedChildContext=e,re(De),re(Ee),ee(Ee,e)):re(De),ee(De,r)}var Et=null,gi=!1,Xi=!1;function Wh(e){Et===null?Et=[e]:Et.push(e)}function Ag(e){gi=!0,Wh(e)}function fr(){if(!Xi&&Et!==null){Xi=!0;var e=0,t=Y;try{var r=Et;for(Y=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Et=null,gi=!1}catch(a){throw Et!==null&&(Et=Et.slice(e+1)),mh(Uo,fr),a}finally{Y=t,Xi=!1}}return null}var es=[],ts=0,Wa=null,Va=0,Je=[],Qe=0,Cr=null,Pt=1,Rt="";function xr(e,t){es[ts++]=Va,es[ts++]=Wa,Wa=e,Va=t}function Vh(e,t,r){Je[Qe++]=Pt,Je[Qe++]=Rt,Je[Qe++]=Cr,Cr=e;var s=Pt;e=Rt;var a=32-ht(s)-1;s&=~(1<<a),r+=1;var i=32-ht(t)+a;if(30<i){var l=a-a%5;i=(s&(1<<l)-1).toString(32),s>>=l,a-=l,Pt=1<<32-ht(t)+a|r<<a|s,Rt=i+e}else Pt=1<<i|r<<a|s,Rt=e}function Jo(e){e.return!==null&&(xr(e,1),Vh(e,1,0))}function Qo(e){for(;e===Wa;)Wa=es[--ts],es[ts]=null,Va=es[--ts],es[ts]=null;for(;e===Cr;)Cr=Je[--Qe],Je[Qe]=null,Rt=Je[--Qe],Je[Qe]=null,Pt=Je[--Qe],Je[Qe]=null}var Ve=null,We=null,se=!1,dt=null;function Kh(e,t){var r=Ye(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ad(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ve=e,We=sr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ve=e,We=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cr!==null?{id:Pt,overflow:Rt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ye(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ve=e,We=null,!0):!1;default:return!1}}function Gl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jl(e){if(se){var t=We;if(t){var r=t;if(!Ad(e,t)){if(Gl(e))throw Error(I(418));t=sr(r.nextSibling);var s=Ve;t&&Ad(e,t)?Kh(s,r):(e.flags=e.flags&-4097|2,se=!1,Ve=e)}}else{if(Gl(e))throw Error(I(418));e.flags=e.flags&-4097|2,se=!1,Ve=e}}}function Od(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ve=e}function ia(e){if(e!==Ve)return!1;if(!se)return Od(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vl(e.type,e.memoizedProps)),t&&(t=We)){if(Gl(e))throw Hh(),Error(I(418));for(;t;)Kh(e,t),t=sr(t.nextSibling)}if(Od(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){We=sr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}We=null}}else We=Ve?sr(e.stateNode.nextSibling):null;return!0}function Hh(){for(var e=We;e;)e=sr(e.nextSibling)}function ps(){We=Ve=null,se=!1}function Yo(e){dt===null?dt=[e]:dt.push(e)}var Og=Ft.ReactCurrentBatchConfig;function Us(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var s=r.stateNode}if(!s)throw Error(I(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function la(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ld(e){var t=e._init;return t(e._payload)}function qh(e){function t(g,f){if(e){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function r(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function s(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function a(g,f){return g=lr(g,f),g.index=0,g.sibling=null,g}function i(g,f,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,f,p,b){return f===null||f.tag!==6?(f=al(p,g.mode,b),f.return=g,f):(f=a(f,p),f.return=g,f)}function c(g,f,p,b){var j=p.type;return j===Gr?u(g,f,p.props.children,b,p.key):f!==null&&(f.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===qt&&Ld(j)===f.type)?(b=a(f,p.props),b.ref=Us(g,f,p),b.return=g,b):(b=Ta(p.type,p.key,p.props,null,g.mode,b),b.ref=Us(g,f,p),b.return=g,b)}function d(g,f,p,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=il(p,g.mode,b),f.return=g,f):(f=a(f,p.children||[]),f.return=g,f)}function u(g,f,p,b,j){return f===null||f.tag!==7?(f=_r(p,g.mode,b,j),f.return=g,f):(f=a(f,p),f.return=g,f)}function h(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=al(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Qn:return p=Ta(f.type,f.key,f.props,null,g.mode,p),p.ref=Us(g,null,f),p.return=g,p;case qr:return f=il(f,g.mode,p),f.return=g,f;case qt:var b=f._init;return h(g,b(f._payload),p)}if(Hs(f)||Is(f))return f=_r(f,g.mode,p,null),f.return=g,f;la(g,f)}return null}function m(g,f,p,b){var j=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return j!==null?null:o(g,f,""+p,b);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Qn:return p.key===j?c(g,f,p,b):null;case qr:return p.key===j?d(g,f,p,b):null;case qt:return j=p._init,m(g,f,j(p._payload),b)}if(Hs(p)||Is(p))return j!==null?null:u(g,f,p,b,null);la(g,p)}return null}function x(g,f,p,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(p)||null,o(f,g,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qn:return g=g.get(b.key===null?p:b.key)||null,c(f,g,b,j);case qr:return g=g.get(b.key===null?p:b.key)||null,d(f,g,b,j);case qt:var N=b._init;return x(g,f,p,N(b._payload),j)}if(Hs(b)||Is(b))return g=g.get(p)||null,u(f,g,b,j,null);la(f,b)}return null}function v(g,f,p,b){for(var j=null,N=null,C=f,A=f=0,F=null;C!==null&&A<p.length;A++){C.index>A?(F=C,C=null):F=C.sibling;var S=m(g,C,p[A],b);if(S===null){C===null&&(C=F);break}e&&C&&S.alternate===null&&t(g,C),f=i(S,f,A),N===null?j=S:N.sibling=S,N=S,C=F}if(A===p.length)return r(g,C),se&&xr(g,A),j;if(C===null){for(;A<p.length;A++)C=h(g,p[A],b),C!==null&&(f=i(C,f,A),N===null?j=C:N.sibling=C,N=C);return se&&xr(g,A),j}for(C=s(g,C);A<p.length;A++)F=x(C,g,A,p[A],b),F!==null&&(e&&F.alternate!==null&&C.delete(F.key===null?A:F.key),f=i(F,f,A),N===null?j=F:N.sibling=F,N=F);return e&&C.forEach(function(D){return t(g,D)}),se&&xr(g,A),j}function w(g,f,p,b){var j=Is(p);if(typeof j!="function")throw Error(I(150));if(p=j.call(p),p==null)throw Error(I(151));for(var N=j=null,C=f,A=f=0,F=null,S=p.next();C!==null&&!S.done;A++,S=p.next()){C.index>A?(F=C,C=null):F=C.sibling;var D=m(g,C,S.value,b);if(D===null){C===null&&(C=F);break}e&&C&&D.alternate===null&&t(g,C),f=i(D,f,A),N===null?j=D:N.sibling=D,N=D,C=F}if(S.done)return r(g,C),se&&xr(g,A),j;if(C===null){for(;!S.done;A++,S=p.next())S=h(g,S.value,b),S!==null&&(f=i(S,f,A),N===null?j=S:N.sibling=S,N=S);return se&&xr(g,A),j}for(C=s(g,C);!S.done;A++,S=p.next())S=x(C,g,A,S.value,b),S!==null&&(e&&S.alternate!==null&&C.delete(S.key===null?A:S.key),f=i(S,f,A),N===null?j=S:N.sibling=S,N=S);return e&&C.forEach(function(R){return t(g,R)}),se&&xr(g,A),j}function k(g,f,p,b){if(typeof p=="object"&&p!==null&&p.type===Gr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Qn:e:{for(var j=p.key,N=f;N!==null;){if(N.key===j){if(j=p.type,j===Gr){if(N.tag===7){r(g,N.sibling),f=a(N,p.props.children),f.return=g,g=f;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===qt&&Ld(j)===N.type){r(g,N.sibling),f=a(N,p.props),f.ref=Us(g,N,p),f.return=g,g=f;break e}r(g,N);break}else t(g,N);N=N.sibling}p.type===Gr?(f=_r(p.props.children,g.mode,b,p.key),f.return=g,g=f):(b=Ta(p.type,p.key,p.props,null,g.mode,b),b.ref=Us(g,f,p),b.return=g,g=b)}return l(g);case qr:e:{for(N=p.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){r(g,f.sibling),f=a(f,p.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else t(g,f);f=f.sibling}f=il(p,g.mode,b),f.return=g,g=f}return l(g);case qt:return N=p._init,k(g,f,N(p._payload),b)}if(Hs(p))return v(g,f,p,b);if(Is(p))return w(g,f,p,b);la(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(r(g,f.sibling),f=a(f,p),f.return=g,g=f):(r(g,f),f=al(p,g.mode,b),f.return=g,g=f),l(g)):r(g,f)}return k}var gs=qh(!0),Gh=qh(!1),Ka=hr(null),Ha=null,rs=null,Xo=null;function Zo(){Xo=rs=Ha=null}function ec(e){var t=Ka.current;re(Ka),e._currentValue=t}function Ql(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function cs(e,t){Ha=e,Xo=rs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ze=!0),e.firstContext=null)}function tt(e){var t=e._currentValue;if(Xo!==e)if(e={context:e,memoizedValue:t,next:null},rs===null){if(Ha===null)throw Error(I(308));rs=e,Ha.dependencies={lanes:0,firstContext:e}}else rs=rs.next=e;return t}var jr=null;function tc(e){jr===null?jr=[e]:jr.push(e)}function Jh(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,tc(t)):(r.next=a.next,a.next=r),t.interleaved=r,zt(e,s)}function zt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Gt=!1;function rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function At(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nr(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,J&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,zt(e,r)}return a=s.interleaved,a===null?(t.next=t,tc(s)):(t.next=a.next,a.next=t),s.interleaved=t,zt(e,r)}function Na(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Fo(e,r)}}function Id(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function qa(e,t,r,s){var a=e.updateQueue;Gt=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;l=0,u=d=c=null,o=i;do{var m=o.lane,x=o.eventTime;if((s&m)===m){u!==null&&(u=u.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,w=o;switch(m=t,x=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(x,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,m=typeof v=="function"?v.call(x,h,m):v,m==null)break e;h=ie({},h,m);break e;case 2:Gt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[o]:m.push(o))}else x={eventTime:x,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=x,c=h):u=u.next=x,l|=m;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;m=o,o=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Tr|=l,e.lanes=l,e.memoizedState=h}}function $d(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(I(191,a));a.call(s)}}}var Ln={},kt=hr(Ln),bn=hr(Ln),wn=hr(Ln);function Nr(e){if(e===Ln)throw Error(I(174));return e}function sc(e,t){switch(ee(wn,t),ee(bn,e),ee(kt,Ln),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pl(t,e)}re(kt),ee(kt,t)}function xs(){re(kt),re(bn),re(wn)}function Yh(e){Nr(wn.current);var t=Nr(kt.current),r=Pl(t,e.type);t!==r&&(ee(bn,e),ee(kt,r))}function nc(e){bn.current===e&&(re(kt),re(bn))}var ne=hr(0);function Ga(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zi=[];function ac(){for(var e=0;e<Zi.length;e++)Zi[e]._workInProgressVersionPrimary=null;Zi.length=0}var ka=Ft.ReactCurrentDispatcher,el=Ft.ReactCurrentBatchConfig,Er=0,ae=null,me=null,xe=null,Ja=!1,tn=!1,jn=0,Lg=0;function _e(){throw Error(I(321))}function ic(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pt(e[r],t[r]))return!1;return!0}function lc(e,t,r,s,a,i){if(Er=i,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ka.current=e===null||e.memoizedState===null?zg:Dg,e=r(s,a),tn){i=0;do{if(tn=!1,jn=0,25<=i)throw Error(I(301));i+=1,xe=me=null,t.updateQueue=null,ka.current=Ug,e=r(s,a)}while(tn)}if(ka.current=Qa,t=me!==null&&me.next!==null,Er=0,xe=me=ae=null,Ja=!1,t)throw Error(I(300));return e}function oc(){var e=jn!==0;return jn=0,e}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?ae.memoizedState=xe=e:xe=xe.next=e,xe}function rt(){if(me===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=xe===null?ae.memoizedState:xe.next;if(t!==null)xe=t,me=e;else{if(e===null)throw Error(I(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},xe===null?ae.memoizedState=xe=e:xe=xe.next=e}return xe}function Nn(e,t){return typeof t=="function"?t(e):t}function tl(e){var t=rt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var s=me,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((Er&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,l=s):c=c.next=h,ae.lanes|=u,Tr|=u}d=d.next}while(d!==null&&d!==i);c===null?l=s:c.next=o,pt(s,t.memoizedState)||(ze=!0),t.memoizedState=s,t.baseState=l,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,ae.lanes|=i,Tr|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function rl(e){var t=rt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);pt(i,t.memoizedState)||(ze=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function Xh(){}function Zh(e,t){var r=ae,s=rt(),a=t(),i=!pt(s.memoizedState,a);if(i&&(s.memoizedState=a,ze=!0),s=s.queue,cc(rf.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||xe!==null&&xe.memoizedState.tag&1){if(r.flags|=2048,kn(9,tf.bind(null,r,s,a,t),void 0,null),ye===null)throw Error(I(349));Er&30||ef(r,t,a)}return a}function ef(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function tf(e,t,r,s){t.value=r,t.getSnapshot=s,sf(t)&&nf(e)}function rf(e,t,r){return r(function(){sf(t)&&nf(e)})}function sf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pt(e,r)}catch{return!0}}function nf(e){var t=zt(e,1);t!==null&&ft(t,e,1,-1)}function Md(e){var t=vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},t.queue=e,e=e.dispatch=Mg.bind(null,ae,e),[t.memoizedState,e]}function kn(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function af(){return rt().memoizedState}function _a(e,t,r,s){var a=vt();ae.flags|=e,a.memoizedState=kn(1|t,r,void 0,s===void 0?null:s)}function xi(e,t,r,s){var a=rt();s=s===void 0?null:s;var i=void 0;if(me!==null){var l=me.memoizedState;if(i=l.destroy,s!==null&&ic(s,l.deps)){a.memoizedState=kn(t,r,i,s);return}}ae.flags|=e,a.memoizedState=kn(1|t,r,i,s)}function zd(e,t){return _a(8390656,8,e,t)}function cc(e,t){return xi(2048,8,e,t)}function lf(e,t){return xi(4,2,e,t)}function of(e,t){return xi(4,4,e,t)}function cf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function df(e,t,r){return r=r!=null?r.concat([e]):null,xi(4,4,cf.bind(null,t,e),r)}function dc(){}function uf(e,t){var r=rt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&ic(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function hf(e,t){var r=rt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&ic(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function ff(e,t,r){return Er&21?(pt(r,t)||(r=xh(),ae.lanes|=r,Tr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ze=!0),e.memoizedState=r)}function Ig(e,t){var r=Y;Y=r!==0&&4>r?r:4,e(!0);var s=el.transition;el.transition={};try{e(!1),t()}finally{Y=r,el.transition=s}}function mf(){return rt().memoizedState}function $g(e,t,r){var s=ir(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},pf(e))gf(t,r);else if(r=Jh(e,t,r,s),r!==null){var a=Re();ft(r,e,s,a),xf(r,t,s)}}function Mg(e,t,r){var s=ir(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(pf(e))gf(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,pt(o,l)){var c=t.interleaved;c===null?(a.next=a,tc(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Jh(e,t,a,s),r!==null&&(a=Re(),ft(r,e,s,a),xf(r,t,s))}}function pf(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function gf(e,t){tn=Ja=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function xf(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Fo(e,r)}}var Qa={readContext:tt,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},zg={readContext:tt,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:zd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,_a(4194308,4,cf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return _a(4194308,4,e,t)},useInsertionEffect:function(e,t){return _a(4,2,e,t)},useMemo:function(e,t){var r=vt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=vt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=$g.bind(null,ae,e),[s.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:Md,useDebugValue:dc,useDeferredValue:function(e){return vt().memoizedState=e},useTransition:function(){var e=Md(!1),t=e[0];return e=Ig.bind(null,e[1]),vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=ae,a=vt();if(se){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),ye===null)throw Error(I(349));Er&30||ef(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,zd(rf.bind(null,s,i,e),[e]),s.flags|=2048,kn(9,tf.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=vt(),t=ye.identifierPrefix;if(se){var r=Rt,s=Pt;r=(s&~(1<<32-ht(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=jn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Lg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dg={readContext:tt,useCallback:uf,useContext:tt,useEffect:cc,useImperativeHandle:df,useInsertionEffect:lf,useLayoutEffect:of,useMemo:hf,useReducer:tl,useRef:af,useState:function(){return tl(Nn)},useDebugValue:dc,useDeferredValue:function(e){var t=rt();return ff(t,me.memoizedState,e)},useTransition:function(){var e=tl(Nn)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Xh,useSyncExternalStore:Zh,useId:mf,unstable_isNewReconciler:!1},Ug={readContext:tt,useCallback:uf,useContext:tt,useEffect:cc,useImperativeHandle:df,useInsertionEffect:lf,useLayoutEffect:of,useMemo:hf,useReducer:rl,useRef:af,useState:function(){return rl(Nn)},useDebugValue:dc,useDeferredValue:function(e){var t=rt();return me===null?t.memoizedState=e:ff(t,me.memoizedState,e)},useTransition:function(){var e=rl(Nn)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Xh,useSyncExternalStore:Zh,useId:mf,unstable_isNewReconciler:!1};function lt(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Yl(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:ie({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yi={isMounted:function(e){return(e=e._reactInternals)?Ir(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Re(),a=ir(e),i=At(s,a);i.payload=t,r!=null&&(i.callback=r),t=nr(e,i,a),t!==null&&(ft(t,e,a,s),Na(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Re(),a=ir(e),i=At(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=nr(e,i,a),t!==null&&(ft(t,e,a,s),Na(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Re(),s=ir(e),a=At(r,s);a.tag=2,t!=null&&(a.callback=t),t=nr(e,a,s),t!==null&&(ft(t,e,s,r),Na(t,e,s))}};function Dd(e,t,r,s,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,l):t.prototype&&t.prototype.isPureReactComponent?!gn(r,s)||!gn(a,i):!0}function yf(e,t,r){var s=!1,a=dr,i=t.contextType;return typeof i=="object"&&i!==null?i=tt(i):(a=Ue(t)?Sr:Ee.current,s=t.contextTypes,i=(s=s!=null)?ms(e,a):dr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yi,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ud(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&yi.enqueueReplaceState(t,t.state,null)}function Xl(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},rc(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=tt(i):(i=Ue(t)?Sr:Ee.current,a.context=ms(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Yl(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&yi.enqueueReplaceState(a,a.state,null),qa(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ys(e,t){try{var r="",s=t;do r+=mp(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function sl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Zl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Fg=typeof WeakMap=="function"?WeakMap:Map;function vf(e,t,r){r=At(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Xa||(Xa=!0,co=s),Zl(e,t)},r}function bf(e,t,r){r=At(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){Zl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Zl(e,t),typeof s!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Fd(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Fg;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=t0.bind(null,e,t,r),t.then(e,e))}function Bd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wd(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=At(-1,1),t.tag=2,nr(r,t,1))),r.lanes|=1),e)}var Bg=Ft.ReactCurrentOwner,ze=!1;function Pe(e,t,r,s){t.child=e===null?Gh(t,null,r,s):gs(t,e.child,r,s)}function Vd(e,t,r,s,a){r=r.render;var i=t.ref;return cs(t,a),s=lc(e,t,r,s,i,a),r=oc(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Dt(e,t,a)):(se&&r&&Jo(t),t.flags|=1,Pe(e,t,s,a),t.child)}function Kd(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!yc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,wf(e,t,i,s,a)):(e=Ta(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:gn,r(l,s)&&e.ref===t.ref)return Dt(e,t,a)}return t.flags|=1,e=lr(i,s),e.ref=t.ref,e.return=t,t.child=e}function wf(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(gn(i,s)&&e.ref===t.ref)if(ze=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(ze=!0);else return t.lanes=e.lanes,Dt(e,t,a)}return eo(e,t,r,s,a)}function jf(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(ns,Be),Be|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(ns,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,ee(ns,Be),Be|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,ee(ns,Be),Be|=s;return Pe(e,t,a,r),t.child}function Nf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function eo(e,t,r,s,a){var i=Ue(r)?Sr:Ee.current;return i=ms(t,i),cs(t,a),r=lc(e,t,r,s,i,a),s=oc(),e!==null&&!ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Dt(e,t,a)):(se&&s&&Jo(t),t.flags|=1,Pe(e,t,r,a),t.child)}function Hd(e,t,r,s,a){if(Ue(r)){var i=!0;Ba(t)}else i=!1;if(cs(t,a),t.stateNode===null)Sa(e,t),yf(t,r,s),Xl(t,r,s,a),s=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=tt(d):(d=Ue(r)?Sr:Ee.current,d=ms(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==s||c!==d)&&Ud(t,l,s,d),Gt=!1;var m=t.memoizedState;l.state=m,qa(t,s,l,a),c=t.memoizedState,o!==s||m!==c||De.current||Gt?(typeof u=="function"&&(Yl(t,r,u,s),c=t.memoizedState),(o=Gt||Dd(t,r,o,s,m,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),l.props=s,l.state=c,l.context=d,s=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{l=t.stateNode,Qh(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:lt(t.type,o),l.props=d,h=t.pendingProps,m=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=tt(c):(c=Ue(r)?Sr:Ee.current,c=ms(t,c));var x=r.getDerivedStateFromProps;(u=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||m!==c)&&Ud(t,l,s,c),Gt=!1,m=t.memoizedState,l.state=m,qa(t,s,l,a);var v=t.memoizedState;o!==h||m!==v||De.current||Gt?(typeof x=="function"&&(Yl(t,r,x,s),v=t.memoizedState),(d=Gt||Dd(t,r,d,s,m,v,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(s,v,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(s,v,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=v),l.props=s,l.state=v,l.context=c,s=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return to(e,t,r,s,i,a)}function to(e,t,r,s,a,i){Nf(e,t);var l=(t.flags&128)!==0;if(!s&&!l)return a&&Rd(t,r,!1),Dt(e,t,i);s=t.stateNode,Bg.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&l?(t.child=gs(t,e.child,null,i),t.child=gs(t,null,o,i)):Pe(e,t,o,i),t.memoizedState=s.state,a&&Rd(t,r,!0),t.child}function kf(e){var t=e.stateNode;t.pendingContext?Pd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pd(e,t.context,!1),sc(e,t.containerInfo)}function qd(e,t,r,s,a){return ps(),Yo(a),t.flags|=256,Pe(e,t,r,s),t.child}var ro={dehydrated:null,treeContext:null,retryLane:0};function so(e){return{baseLanes:e,cachePool:null,transitions:null}}function _f(e,t,r){var s=t.pendingProps,a=ne.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ee(ne,a&1),e===null)return Jl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=s.children,e=s.fallback,i?(s=t.mode,i=t.child,l={mode:"hidden",children:l},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=wi(l,s,0,null),e=_r(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=so(r),t.memoizedState=ro,e):uc(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Wg(e,t,l,s,o,a,r);if(i){i=s.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:s.children};return!(l&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=lr(a,c),s.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=lr(o,i):(i=_r(i,l,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,l=e.child.memoizedState,l=l===null?so(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=ro,s}return i=e.child,e=i.sibling,s=lr(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function uc(e,t){return t=wi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oa(e,t,r,s){return s!==null&&Yo(s),gs(t,e.child,null,r),e=uc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wg(e,t,r,s,a,i,l){if(r)return t.flags&256?(t.flags&=-257,s=sl(Error(I(422))),oa(e,t,l,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=wi({mode:"visible",children:s.children},a,0,null),i=_r(i,a,l,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&gs(t,e.child,null,l),t.child.memoizedState=so(l),t.memoizedState=ro,i);if(!(t.mode&1))return oa(e,t,l,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var o=s.dgst;return s=o,i=Error(I(419)),s=sl(i,s,void 0),oa(e,t,l,s)}if(o=(l&e.childLanes)!==0,ze||o){if(s=ye,s!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,zt(e,a),ft(s,e,a,-1))}return xc(),s=sl(Error(I(421))),oa(e,t,l,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=r0.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,We=sr(a.nextSibling),Ve=t,se=!0,dt=null,e!==null&&(Je[Qe++]=Pt,Je[Qe++]=Rt,Je[Qe++]=Cr,Pt=e.id,Rt=e.overflow,Cr=t),t=uc(t,s.children),t.flags|=4096,t)}function Gd(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ql(e.return,t,r)}function nl(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function Sf(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Pe(e,t,s.children,r),s=ne.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gd(e,r,t);else if(e.tag===19)Gd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ee(ne,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Ga(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),nl(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ga(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}nl(t,!0,r,null,i);break;case"together":nl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Tr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=lr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=lr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Vg(e,t,r){switch(t.tag){case 3:kf(t),ps();break;case 5:Yh(t);break;case 1:Ue(t.type)&&Ba(t);break;case 4:sc(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;ee(Ka,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ee(ne,ne.current&1),t.flags|=128,null):r&t.child.childLanes?_f(e,t,r):(ee(ne,ne.current&1),e=Dt(e,t,r),e!==null?e.sibling:null);ee(ne,ne.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Sf(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ee(ne,ne.current),s)break;return null;case 22:case 23:return t.lanes=0,jf(e,t,r)}return Dt(e,t,r)}var Cf,no,Ef,Tf;Cf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};no=function(){};Ef=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Nr(kt.current);var i=null;switch(r){case"input":a=Sl(e,a),s=Sl(e,s),i=[];break;case"select":a=ie({},a,{value:void 0}),s=ie({},s,{value:void 0}),i=[];break;case"textarea":a=Tl(e,a),s=Tl(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ua)}Rl(r,s);var l;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(cn.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(o=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(cn.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&te("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Tf=function(e,t,r,s){r!==s&&(t.flags|=4)};function Fs(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Kg(e,t,r){var s=t.pendingProps;switch(Qo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return Ue(t.type)&&Fa(),Se(t),null;case 3:return s=t.stateNode,xs(),re(De),re(Ee),ac(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ia(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dt!==null&&(fo(dt),dt=null))),no(e,t),Se(t),null;case 5:nc(t);var a=Nr(wn.current);if(r=t.type,e!==null&&t.stateNode!=null)Ef(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(I(166));return Se(t),null}if(e=Nr(kt.current),ia(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[jt]=t,s[vn]=i,e=(t.mode&1)!==0,r){case"dialog":te("cancel",s),te("close",s);break;case"iframe":case"object":case"embed":te("load",s);break;case"video":case"audio":for(a=0;a<Gs.length;a++)te(Gs[a],s);break;case"source":te("error",s);break;case"img":case"image":case"link":te("error",s),te("load",s);break;case"details":te("toggle",s);break;case"input":sd(s,i),te("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},te("invalid",s);break;case"textarea":ad(s,i),te("invalid",s)}Rl(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?s.textContent!==o&&(i.suppressHydrationWarning!==!0&&aa(s.textContent,o,e),a=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&aa(s.textContent,o,e),a=["children",""+o]):cn.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&te("scroll",s)}switch(r){case"input":Yn(s),nd(s,i,!0);break;case"textarea":Yn(s),id(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Ua)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rh(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=l.createElement(r,{is:s.is}):(e=l.createElement(r),r==="select"&&(l=e,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):e=l.createElementNS(e,r),e[jt]=t,e[vn]=s,Cf(e,t,!1,!1),t.stateNode=e;e:{switch(l=Al(r,s),r){case"dialog":te("cancel",e),te("close",e),a=s;break;case"iframe":case"object":case"embed":te("load",e),a=s;break;case"video":case"audio":for(a=0;a<Gs.length;a++)te(Gs[a],e);a=s;break;case"source":te("error",e),a=s;break;case"img":case"image":case"link":te("error",e),te("load",e),a=s;break;case"details":te("toggle",e),a=s;break;case"input":sd(e,s),a=Sl(e,s),te("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=ie({},s,{value:void 0}),te("invalid",e);break;case"textarea":ad(e,s),a=Tl(e,s),te("invalid",e);break;default:a=s}Rl(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?ah(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sh(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&dn(e,c):typeof c=="number"&&dn(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&te("scroll",e):c!=null&&Io(e,i,c,l))}switch(r){case"input":Yn(e),nd(e,s,!1);break;case"textarea":Yn(e),id(e);break;case"option":s.value!=null&&e.setAttribute("value",""+cr(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?as(e,!!s.multiple,i,!1):s.defaultValue!=null&&as(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ua)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)Tf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(I(166));if(r=Nr(wn.current),Nr(kt.current),ia(t)){if(s=t.stateNode,r=t.memoizedProps,s[jt]=t,(i=s.nodeValue!==r)&&(e=Ve,e!==null))switch(e.tag){case 3:aa(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&aa(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[jt]=t,t.stateNode=s}return Se(t),null;case 13:if(re(ne),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&We!==null&&t.mode&1&&!(t.flags&128))Hh(),ps(),t.flags|=98560,i=!1;else if(i=ia(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[jt]=t}else ps(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),i=!1}else dt!==null&&(fo(dt),dt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?pe===0&&(pe=3):xc())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return xs(),no(e,t),e===null&&xn(t.stateNode.containerInfo),Se(t),null;case 10:return ec(t.type._context),Se(t),null;case 17:return Ue(t.type)&&Fa(),Se(t),null;case 19:if(re(ne),i=t.memoizedState,i===null)return Se(t),null;if(s=(t.flags&128)!==0,l=i.rendering,l===null)if(s)Fs(i,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ga(e),l!==null){for(t.flags|=128,Fs(i,!1),s=l.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ee(ne,ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&ce()>vs&&(t.flags|=128,s=!0,Fs(i,!1),t.lanes=4194304)}else{if(!s)if(e=Ga(l),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Fs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!se)return Se(t),null}else 2*ce()-i.renderingStartTime>vs&&r!==1073741824&&(t.flags|=128,s=!0,Fs(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ce(),t.sibling=null,r=ne.current,ee(ne,s?r&1|2:r&1),t):(Se(t),null);case 22:case 23:return gc(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Be&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Hg(e,t){switch(Qo(t),t.tag){case 1:return Ue(t.type)&&Fa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xs(),re(De),re(Ee),ac(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nc(t),null;case 13:if(re(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(ne),null;case 4:return xs(),null;case 10:return ec(t.type._context),null;case 22:case 23:return gc(),null;case 24:return null;default:return null}}var ca=!1,Ce=!1,qg=typeof WeakSet=="function"?WeakSet:Set,U=null;function ss(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){le(e,t,s)}else r.current=null}function ao(e,t,r){try{r()}catch(s){le(e,t,s)}}var Jd=!1;function Gg(e,t){if(Bl=Ma,e=Oh(),Go(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var x;h!==r||a!==0&&h.nodeType!==3||(o=l+a),h!==i||s!==0&&h.nodeType!==3||(c=l+s),h.nodeType===3&&(l+=h.nodeValue.length),(x=h.firstChild)!==null;)m=h,h=x;for(;;){if(h===e)break t;if(m===r&&++d===a&&(o=l),m===i&&++u===s&&(c=l),(x=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=x}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wl={focusedElem:e,selectionRange:r},Ma=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,k=v.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:lt(t.type,w),k);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(b){le(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return v=Jd,Jd=!1,v}function rn(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&ao(t,r,i)}a=a.next}while(a!==s)}}function vi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function io(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Pf(e){var t=e.alternate;t!==null&&(e.alternate=null,Pf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jt],delete t[vn],delete t[Hl],delete t[Pg],delete t[Rg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rf(e){return e.tag===5||e.tag===3||e.tag===4}function Qd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lo(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ua));else if(s!==4&&(e=e.child,e!==null))for(lo(e,t,r),e=e.sibling;e!==null;)lo(e,t,r),e=e.sibling}function oo(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(oo(e,t,r),e=e.sibling;e!==null;)oo(e,t,r),e=e.sibling}var be=null,ot=!1;function Vt(e,t,r){for(r=r.child;r!==null;)Af(e,t,r),r=r.sibling}function Af(e,t,r){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(ui,r)}catch{}switch(r.tag){case 5:Ce||ss(r,t);case 6:var s=be,a=ot;be=null,Vt(e,t,r),be=s,ot=a,be!==null&&(ot?(e=be,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):be.removeChild(r.stateNode));break;case 18:be!==null&&(ot?(e=be,r=r.stateNode,e.nodeType===8?Yi(e.parentNode,r):e.nodeType===1&&Yi(e,r),mn(e)):Yi(be,r.stateNode));break;case 4:s=be,a=ot,be=r.stateNode.containerInfo,ot=!0,Vt(e,t,r),be=s,ot=a;break;case 0:case 11:case 14:case 15:if(!Ce&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&ao(r,t,l),a=a.next}while(a!==s)}Vt(e,t,r);break;case 1:if(!Ce&&(ss(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(o){le(r,t,o)}Vt(e,t,r);break;case 21:Vt(e,t,r);break;case 22:r.mode&1?(Ce=(s=Ce)||r.memoizedState!==null,Vt(e,t,r),Ce=s):Vt(e,t,r);break;default:Vt(e,t,r)}}function Yd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new qg),t.forEach(function(s){var a=s0.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function at(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:be=o.stateNode,ot=!1;break e;case 3:be=o.stateNode.containerInfo,ot=!0;break e;case 4:be=o.stateNode.containerInfo,ot=!0;break e}o=o.return}if(be===null)throw Error(I(160));Af(i,l,a),be=null,ot=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){le(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Of(t,e),t=t.sibling}function Of(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(at(t,e),yt(e),s&4){try{rn(3,e,e.return),vi(3,e)}catch(w){le(e,e.return,w)}try{rn(5,e,e.return)}catch(w){le(e,e.return,w)}}break;case 1:at(t,e),yt(e),s&512&&r!==null&&ss(r,r.return);break;case 5:if(at(t,e),yt(e),s&512&&r!==null&&ss(r,r.return),e.flags&32){var a=e.stateNode;try{dn(a,"")}catch(w){le(e,e.return,w)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&eh(a,i),Al(o,l);var d=Al(o,i);for(l=0;l<c.length;l+=2){var u=c[l],h=c[l+1];u==="style"?ah(a,h):u==="dangerouslySetInnerHTML"?sh(a,h):u==="children"?dn(a,h):Io(a,u,h,d)}switch(o){case"input":Cl(a,i);break;case"textarea":th(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?as(a,!!i.multiple,x,!1):m!==!!i.multiple&&(i.defaultValue!=null?as(a,!!i.multiple,i.defaultValue,!0):as(a,!!i.multiple,i.multiple?[]:"",!1))}a[vn]=i}catch(w){le(e,e.return,w)}}break;case 6:if(at(t,e),yt(e),s&4){if(e.stateNode===null)throw Error(I(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(w){le(e,e.return,w)}}break;case 3:if(at(t,e),yt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{mn(t.containerInfo)}catch(w){le(e,e.return,w)}break;case 4:at(t,e),yt(e);break;case 13:at(t,e),yt(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(mc=ce())),s&4&&Yd(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Ce=(d=Ce)||u,at(t,e),Ce=d):at(t,e),yt(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(U=e,u=e.child;u!==null;){for(h=U=u;U!==null;){switch(m=U,x=m.child,m.tag){case 0:case 11:case 14:case 15:rn(4,m,m.return);break;case 1:ss(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){s=m,r=m.return;try{t=s,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){le(s,r,w)}}break;case 5:ss(m,m.return);break;case 22:if(m.memoizedState!==null){Zd(h);continue}}x!==null?(x.return=m,U=x):Zd(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=nh("display",l))}catch(w){le(e,e.return,w)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(w){le(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:at(t,e),yt(e),s&4&&Yd(e);break;case 21:break;default:at(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Rf(r)){var s=r;break e}r=r.return}throw Error(I(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(dn(a,""),s.flags&=-33);var i=Qd(e);oo(e,i,a);break;case 3:case 4:var l=s.stateNode.containerInfo,o=Qd(e);lo(e,o,l);break;default:throw Error(I(161))}}catch(c){le(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jg(e,t,r){U=e,Lf(e)}function Lf(e,t,r){for(var s=(e.mode&1)!==0;U!==null;){var a=U,i=a.child;if(a.tag===22&&s){var l=a.memoizedState!==null||ca;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Ce;o=ca;var d=Ce;if(ca=l,(Ce=c)&&!d)for(U=a;U!==null;)l=U,c=l.child,l.tag===22&&l.memoizedState!==null?eu(a):c!==null?(c.return=l,U=c):eu(a);for(;i!==null;)U=i,Lf(i),i=i.sibling;U=a,ca=o,Ce=d}Xd(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,U=i):Xd(e)}}function Xd(e){for(;U!==null;){var t=U;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ce||vi(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ce)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:lt(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&$d(t,i,s);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$d(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&mn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ce||t.flags&512&&io(t)}catch(m){le(t,t.return,m)}}if(t===e){U=null;break}if(r=t.sibling,r!==null){r.return=t.return,U=r;break}U=t.return}}function Zd(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var r=t.sibling;if(r!==null){r.return=t.return,U=r;break}U=t.return}}function eu(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{vi(4,t)}catch(c){le(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){le(t,a,c)}}var i=t.return;try{io(t)}catch(c){le(t,i,c)}break;case 5:var l=t.return;try{io(t)}catch(c){le(t,l,c)}}}catch(c){le(t,t.return,c)}if(t===e){U=null;break}var o=t.sibling;if(o!==null){o.return=t.return,U=o;break}U=t.return}}var Qg=Math.ceil,Ya=Ft.ReactCurrentDispatcher,hc=Ft.ReactCurrentOwner,Xe=Ft.ReactCurrentBatchConfig,J=0,ye=null,ue=null,we=0,Be=0,ns=hr(0),pe=0,_n=null,Tr=0,bi=0,fc=0,sn=null,Ie=null,mc=0,vs=1/0,St=null,Xa=!1,co=null,ar=null,da=!1,Zt=null,Za=0,nn=0,uo=null,Ca=-1,Ea=0;function Re(){return J&6?ce():Ca!==-1?Ca:Ca=ce()}function ir(e){return e.mode&1?J&2&&we!==0?we&-we:Og.transition!==null?(Ea===0&&(Ea=xh()),Ea):(e=Y,e!==0||(e=window.event,e=e===void 0?16:kh(e.type)),e):1}function ft(e,t,r,s){if(50<nn)throw nn=0,uo=null,Error(I(185));Rn(e,r,s),(!(J&2)||e!==ye)&&(e===ye&&(!(J&2)&&(bi|=r),pe===4&&Qt(e,we)),Fe(e,s),r===1&&J===0&&!(t.mode&1)&&(vs=ce()+500,gi&&fr()))}function Fe(e,t){var r=e.callbackNode;Op(e,t);var s=$a(e,e===ye?we:0);if(s===0)r!==null&&cd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&cd(r),t===1)e.tag===0?Ag(tu.bind(null,e)):Wh(tu.bind(null,e)),Eg(function(){!(J&6)&&fr()}),r=null;else{switch(yh(s)){case 1:r=Uo;break;case 4:r=ph;break;case 16:r=Ia;break;case 536870912:r=gh;break;default:r=Ia}r=Bf(r,If.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function If(e,t){if(Ca=-1,Ea=0,J&6)throw Error(I(327));var r=e.callbackNode;if(ds()&&e.callbackNode!==r)return null;var s=$a(e,e===ye?we:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=ei(e,s);else{t=s;var a=J;J|=2;var i=Mf();(ye!==e||we!==t)&&(St=null,vs=ce()+500,kr(e,t));do try{Zg();break}catch(o){$f(e,o)}while(!0);Zo(),Ya.current=i,J=a,ue!==null?t=0:(ye=null,we=0,t=pe)}if(t!==0){if(t===2&&(a=Ml(e),a!==0&&(s=a,t=ho(e,a))),t===1)throw r=_n,kr(e,0),Qt(e,s),Fe(e,ce()),r;if(t===6)Qt(e,s);else{if(a=e.current.alternate,!(s&30)&&!Yg(a)&&(t=ei(e,s),t===2&&(i=Ml(e),i!==0&&(s=i,t=ho(e,i))),t===1))throw r=_n,kr(e,0),Qt(e,s),Fe(e,ce()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(I(345));case 2:yr(e,Ie,St);break;case 3:if(Qt(e,s),(s&130023424)===s&&(t=mc+500-ce(),10<t)){if($a(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Re(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Kl(yr.bind(null,e,Ie,St),t);break}yr(e,Ie,St);break;case 4:if(Qt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var l=31-ht(s);i=1<<l,l=t[l],l>a&&(a=l),s&=~i}if(s=a,s=ce()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Qg(s/1960))-s,10<s){e.timeoutHandle=Kl(yr.bind(null,e,Ie,St),s);break}yr(e,Ie,St);break;case 5:yr(e,Ie,St);break;default:throw Error(I(329))}}}return Fe(e,ce()),e.callbackNode===r?If.bind(null,e):null}function ho(e,t){var r=sn;return e.current.memoizedState.isDehydrated&&(kr(e,t).flags|=256),e=ei(e,t),e!==2&&(t=Ie,Ie=r,t!==null&&fo(t)),e}function fo(e){Ie===null?Ie=e:Ie.push.apply(Ie,e)}function Yg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!pt(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qt(e,t){for(t&=~fc,t&=~bi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ht(t),s=1<<r;e[r]=-1,t&=~s}}function tu(e){if(J&6)throw Error(I(327));ds();var t=$a(e,0);if(!(t&1))return Fe(e,ce()),null;var r=ei(e,t);if(e.tag!==0&&r===2){var s=Ml(e);s!==0&&(t=s,r=ho(e,s))}if(r===1)throw r=_n,kr(e,0),Qt(e,t),Fe(e,ce()),r;if(r===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yr(e,Ie,St),Fe(e,ce()),null}function pc(e,t){var r=J;J|=1;try{return e(t)}finally{J=r,J===0&&(vs=ce()+500,gi&&fr())}}function Pr(e){Zt!==null&&Zt.tag===0&&!(J&6)&&ds();var t=J;J|=1;var r=Xe.transition,s=Y;try{if(Xe.transition=null,Y=1,e)return e()}finally{Y=s,Xe.transition=r,J=t,!(J&6)&&fr()}}function gc(){Be=ns.current,re(ns)}function kr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Cg(r)),ue!==null)for(r=ue.return;r!==null;){var s=r;switch(Qo(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Fa();break;case 3:xs(),re(De),re(Ee),ac();break;case 5:nc(s);break;case 4:xs();break;case 13:re(ne);break;case 19:re(ne);break;case 10:ec(s.type._context);break;case 22:case 23:gc()}r=r.return}if(ye=e,ue=e=lr(e.current,null),we=Be=t,pe=0,_n=null,fc=bi=Tr=0,Ie=sn=null,jr!==null){for(t=0;t<jr.length;t++)if(r=jr[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,s.next=l}r.pending=s}jr=null}return e}function $f(e,t){do{var r=ue;try{if(Zo(),ka.current=Qa,Ja){for(var s=ae.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Ja=!1}if(Er=0,xe=me=ae=null,tn=!1,jn=0,hc.current=null,r===null||r.return===null){pe=1,_n=t,ue=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=we,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=Bd(l);if(x!==null){x.flags&=-257,Wd(x,l,o,i,t),x.mode&1&&Fd(i,d,t),t=x,c=d;var v=t.updateQueue;if(v===null){var w=new Set;w.add(c),t.updateQueue=w}else v.add(c);break e}else{if(!(t&1)){Fd(i,d,t),xc();break e}c=Error(I(426))}}else if(se&&o.mode&1){var k=Bd(l);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Wd(k,l,o,i,t),Yo(ys(c,o));break e}}i=c=ys(c,o),pe!==4&&(pe=2),sn===null?sn=[i]:sn.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=vf(i,c,t);Id(i,g);break e;case 1:o=c;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ar===null||!ar.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=bf(i,o,t);Id(i,b);break e}}i=i.return}while(i!==null)}Df(r)}catch(j){t=j,ue===r&&r!==null&&(ue=r=r.return);continue}break}while(!0)}function Mf(){var e=Ya.current;return Ya.current=Qa,e===null?Qa:e}function xc(){(pe===0||pe===3||pe===2)&&(pe=4),ye===null||!(Tr&268435455)&&!(bi&268435455)||Qt(ye,we)}function ei(e,t){var r=J;J|=2;var s=Mf();(ye!==e||we!==t)&&(St=null,kr(e,t));do try{Xg();break}catch(a){$f(e,a)}while(!0);if(Zo(),J=r,Ya.current=s,ue!==null)throw Error(I(261));return ye=null,we=0,pe}function Xg(){for(;ue!==null;)zf(ue)}function Zg(){for(;ue!==null&&!kp();)zf(ue)}function zf(e){var t=Ff(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?Df(e):ue=t,hc.current=null}function Df(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Hg(r,t),r!==null){r.flags&=32767,ue=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,ue=null;return}}else if(r=Kg(r,t,Be),r!==null){ue=r;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);pe===0&&(pe=5)}function yr(e,t,r){var s=Y,a=Xe.transition;try{Xe.transition=null,Y=1,e0(e,t,r,s)}finally{Xe.transition=a,Y=s}return null}function e0(e,t,r,s){do ds();while(Zt!==null);if(J&6)throw Error(I(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Lp(e,i),e===ye&&(ue=ye=null,we=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||da||(da=!0,Bf(Ia,function(){return ds(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Xe.transition,Xe.transition=null;var l=Y;Y=1;var o=J;J|=4,hc.current=null,Gg(e,r),Of(r,e),bg(Wl),Ma=!!Bl,Wl=Bl=null,e.current=r,Jg(r),_p(),J=o,Y=l,Xe.transition=i}else e.current=r;if(da&&(da=!1,Zt=e,Za=a),i=e.pendingLanes,i===0&&(ar=null),Ep(r.stateNode),Fe(e,ce()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Xa)throw Xa=!1,e=co,co=null,e;return Za&1&&e.tag!==0&&ds(),i=e.pendingLanes,i&1?e===uo?nn++:(nn=0,uo=e):nn=0,fr(),null}function ds(){if(Zt!==null){var e=yh(Za),t=Xe.transition,r=Y;try{if(Xe.transition=null,Y=16>e?16:e,Zt===null)var s=!1;else{if(e=Zt,Zt=null,Za=0,J&6)throw Error(I(331));var a=J;for(J|=4,U=e.current;U!==null;){var i=U,l=i.child;if(U.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(U=d;U!==null;){var u=U;switch(u.tag){case 0:case 11:case 15:rn(8,u,i)}var h=u.child;if(h!==null)h.return=u,U=h;else for(;U!==null;){u=U;var m=u.sibling,x=u.return;if(Pf(u),u===d){U=null;break}if(m!==null){m.return=x,U=m;break}U=x}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}U=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,U=l;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:rn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,U=g;break e}U=i.return}}var f=e.current;for(U=f;U!==null;){l=U;var p=l.child;if(l.subtreeFlags&2064&&p!==null)p.return=l,U=p;else e:for(l=f;U!==null;){if(o=U,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:vi(9,o)}}catch(j){le(o,o.return,j)}if(o===l){U=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,U=b;break e}U=o.return}}if(J=a,fr(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(ui,e)}catch{}s=!0}return s}finally{Y=r,Xe.transition=t}}return!1}function ru(e,t,r){t=ys(r,t),t=vf(e,t,1),e=nr(e,t,1),t=Re(),e!==null&&(Rn(e,1,t),Fe(e,t))}function le(e,t,r){if(e.tag===3)ru(e,e,r);else for(;t!==null;){if(t.tag===3){ru(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ar===null||!ar.has(s))){e=ys(r,e),e=bf(t,e,1),t=nr(t,e,1),e=Re(),t!==null&&(Rn(t,1,e),Fe(t,e));break}}t=t.return}}function t0(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&r,ye===e&&(we&r)===r&&(pe===4||pe===3&&(we&130023424)===we&&500>ce()-mc?kr(e,0):fc|=r),Fe(e,t)}function Uf(e,t){t===0&&(e.mode&1?(t=ea,ea<<=1,!(ea&130023424)&&(ea=4194304)):t=1);var r=Re();e=zt(e,t),e!==null&&(Rn(e,t,r),Fe(e,r))}function r0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Uf(e,r)}function s0(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(I(314))}s!==null&&s.delete(t),Uf(e,r)}var Ff;Ff=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||De.current)ze=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ze=!1,Vg(e,t,r);ze=!!(e.flags&131072)}else ze=!1,se&&t.flags&1048576&&Vh(t,Va,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Sa(e,t),e=t.pendingProps;var a=ms(t,Ee.current);cs(t,r),a=lc(null,t,s,e,a,r);var i=oc();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ue(s)?(i=!0,Ba(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,rc(t),a.updater=yi,t.stateNode=a,a._reactInternals=t,Xl(t,s,e,r),t=to(null,t,s,!0,i,r)):(t.tag=0,se&&i&&Jo(t),Pe(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Sa(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=a0(s),e=lt(s,e),a){case 0:t=eo(null,t,s,e,r);break e;case 1:t=Hd(null,t,s,e,r);break e;case 11:t=Vd(null,t,s,e,r);break e;case 14:t=Kd(null,t,s,lt(s.type,e),r);break e}throw Error(I(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:lt(s,a),eo(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:lt(s,a),Hd(e,t,s,a,r);case 3:e:{if(kf(t),e===null)throw Error(I(387));s=t.pendingProps,i=t.memoizedState,a=i.element,Qh(e,t),qa(t,s,null,r);var l=t.memoizedState;if(s=l.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ys(Error(I(423)),t),t=qd(e,t,s,r,a);break e}else if(s!==a){a=ys(Error(I(424)),t),t=qd(e,t,s,r,a);break e}else for(We=sr(t.stateNode.containerInfo.firstChild),Ve=t,se=!0,dt=null,r=Gh(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ps(),s===a){t=Dt(e,t,r);break e}Pe(e,t,s,r)}t=t.child}return t;case 5:return Yh(t),e===null&&Jl(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,Vl(s,a)?l=null:i!==null&&Vl(s,i)&&(t.flags|=32),Nf(e,t),Pe(e,t,l,r),t.child;case 6:return e===null&&Jl(t),null;case 13:return _f(e,t,r);case 4:return sc(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=gs(t,null,s,r):Pe(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:lt(s,a),Vd(e,t,s,a,r);case 7:return Pe(e,t,t.pendingProps,r),t.child;case 8:return Pe(e,t,t.pendingProps.children,r),t.child;case 12:return Pe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,ee(Ka,s._currentValue),s._currentValue=l,i!==null)if(pt(i.value,l)){if(i.children===a.children&&!De.current){t=Dt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=At(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Ql(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(I(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Ql(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Pe(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,cs(t,r),a=tt(a),s=s(a),t.flags|=1,Pe(e,t,s,r),t.child;case 14:return s=t.type,a=lt(s,t.pendingProps),a=lt(s.type,a),Kd(e,t,s,a,r);case 15:return wf(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:lt(s,a),Sa(e,t),t.tag=1,Ue(s)?(e=!0,Ba(t)):e=!1,cs(t,r),yf(t,s,a),Xl(t,s,a,r),to(null,t,s,!0,e,r);case 19:return Sf(e,t,r);case 22:return jf(e,t,r)}throw Error(I(156,t.tag))};function Bf(e,t){return mh(e,t)}function n0(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(e,t,r,s){return new n0(e,t,r,s)}function yc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function a0(e){if(typeof e=="function")return yc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mo)return 11;if(e===zo)return 14}return 2}function lr(e,t){var r=e.alternate;return r===null?(r=Ye(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ta(e,t,r,s,a,i){var l=2;if(s=e,typeof e=="function")yc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Gr:return _r(r.children,a,i,t);case $o:l=8,a|=8;break;case jl:return e=Ye(12,r,t,a|2),e.elementType=jl,e.lanes=i,e;case Nl:return e=Ye(13,r,t,a),e.elementType=Nl,e.lanes=i,e;case kl:return e=Ye(19,r,t,a),e.elementType=kl,e.lanes=i,e;case Yu:return wi(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ju:l=10;break e;case Qu:l=9;break e;case Mo:l=11;break e;case zo:l=14;break e;case qt:l=16,s=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=Ye(l,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function _r(e,t,r,s){return e=Ye(7,e,s,t),e.lanes=r,e}function wi(e,t,r,s){return e=Ye(22,e,s,t),e.elementType=Yu,e.lanes=r,e.stateNode={isHidden:!1},e}function al(e,t,r){return e=Ye(6,e,null,t),e.lanes=r,e}function il(e,t,r){return t=Ye(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function i0(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ui(0),this.expirationTimes=Ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function vc(e,t,r,s,a,i,l,o,c){return e=new i0(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ye(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rc(i),e}function l0(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qr,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Wf(e){if(!e)return dr;e=e._reactInternals;e:{if(Ir(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var r=e.type;if(Ue(r))return Bh(e,r,t)}return t}function Vf(e,t,r,s,a,i,l,o,c){return e=vc(r,s,!0,e,a,i,l,o,c),e.context=Wf(null),r=e.current,s=Re(),a=ir(r),i=At(s,a),i.callback=t??null,nr(r,i,a),e.current.lanes=a,Rn(e,a,s),Fe(e,s),e}function ji(e,t,r,s){var a=t.current,i=Re(),l=ir(a);return r=Wf(r),t.context===null?t.context=r:t.pendingContext=r,t=At(i,l),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=nr(a,t,l),e!==null&&(ft(e,a,l,i),Na(e,a,l)),l}function ti(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function su(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function bc(e,t){su(e,t),(e=e.alternate)&&su(e,t)}function o0(){return null}var Kf=typeof reportError=="function"?reportError:function(e){console.error(e)};function wc(e){this._internalRoot=e}Ni.prototype.render=wc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));ji(e,t,null,null)};Ni.prototype.unmount=wc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pr(function(){ji(null,e,null,null)}),t[Mt]=null}};function Ni(e){this._internalRoot=e}Ni.prototype.unstable_scheduleHydration=function(e){if(e){var t=wh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Jt.length&&t!==0&&t<Jt[r].priority;r++);Jt.splice(r,0,e),r===0&&Nh(e)}};function jc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ki(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nu(){}function c0(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=ti(l);i.call(d)}}var l=Vf(t,s,e,0,null,!1,!1,"",nu);return e._reactRootContainer=l,e[Mt]=l.current,xn(e.nodeType===8?e.parentNode:e),Pr(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var o=s;s=function(){var d=ti(c);o.call(d)}}var c=vc(e,0,!1,null,null,!1,!1,"",nu);return e._reactRootContainer=c,e[Mt]=c.current,xn(e.nodeType===8?e.parentNode:e),Pr(function(){ji(t,c,r,s)}),c}function _i(e,t,r,s,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=ti(l);o.call(c)}}ji(t,l,e,a)}else l=c0(r,t,e,a,s);return ti(l)}vh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=qs(t.pendingLanes);r!==0&&(Fo(t,r|1),Fe(t,ce()),!(J&6)&&(vs=ce()+500,fr()))}break;case 13:Pr(function(){var s=zt(e,1);if(s!==null){var a=Re();ft(s,e,1,a)}}),bc(e,1)}};Bo=function(e){if(e.tag===13){var t=zt(e,134217728);if(t!==null){var r=Re();ft(t,e,134217728,r)}bc(e,134217728)}};bh=function(e){if(e.tag===13){var t=ir(e),r=zt(e,t);if(r!==null){var s=Re();ft(r,e,t,s)}bc(e,t)}};wh=function(){return Y};jh=function(e,t){var r=Y;try{return Y=e,t()}finally{Y=r}};Ll=function(e,t,r){switch(t){case"input":if(Cl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=pi(s);if(!a)throw Error(I(90));Zu(s),Cl(s,a)}}}break;case"textarea":th(e,r);break;case"select":t=r.value,t!=null&&as(e,!!r.multiple,t,!1)}};oh=pc;ch=Pr;var d0={usingClientEntryPoint:!1,Events:[On,Xr,pi,ih,lh,pc]},Bs={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u0={bundleType:Bs.bundleType,version:Bs.version,rendererPackageName:Bs.rendererPackageName,rendererConfig:Bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hh(e),e===null?null:e.stateNode},findFiberByHostInstance:Bs.findFiberByHostInstance||o0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ua.isDisabled&&ua.supportsFiber)try{ui=ua.inject(u0),Nt=ua}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d0;qe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jc(t))throw Error(I(200));return l0(e,t,null,r)};qe.createRoot=function(e,t){if(!jc(e))throw Error(I(299));var r=!1,s="",a=Kf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=vc(e,1,!1,null,null,r,!1,s,a),e[Mt]=t.current,xn(e.nodeType===8?e.parentNode:e),new wc(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=hh(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return Pr(e)};qe.hydrate=function(e,t,r){if(!ki(t))throw Error(I(200));return _i(null,e,t,!0,r)};qe.hydrateRoot=function(e,t,r){if(!jc(e))throw Error(I(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",l=Kf;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Vf(t,null,e,1,r??null,a,!1,i,l),e[Mt]=t.current,xn(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ni(t)};qe.render=function(e,t,r){if(!ki(t))throw Error(I(200));return _i(null,e,t,!1,r)};qe.unmountComponentAtNode=function(e){if(!ki(e))throw Error(I(40));return e._reactRootContainer?(Pr(function(){_i(null,null,e,!1,function(){e._reactRootContainer=null,e[Mt]=null})}),!0):!1};qe.unstable_batchedUpdates=pc;qe.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!ki(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return _i(e,t,r,!1,s)};qe.version="18.3.1-next-f1338f8080-20240426";function Hf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hf)}catch(e){console.error(e)}}Hf(),Ku.exports=qe;var h0=Ku.exports,au=h0;bl.createRoot=au.createRoot,bl.hydrateRoot=au.hydrateRoot;/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iu="popstate";function f0(e={}){function t(a,i){let{pathname:l="/",search:o="",hash:c=""}=Ss(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),mo("",{pathname:l,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){let l=a.document.querySelector("base"),o="";if(l&&l.getAttribute("href")){let c=a.location.href,d=c.indexOf("#");o=d===-1?c:c.slice(0,d)}return o+"#"+(typeof i=="string"?i:Sn(i))}function s(a,i){st(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return p0(t,r,s,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function st(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function m0(){return Math.random().toString(36).substring(2,10)}function lu(e,t){return{usr:e.state,key:e.key,idx:t}}function mo(e,t,r=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ss(t):t,state:r,key:t&&t.key||s||m0()}}function Sn({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ss(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function p0(e,t,r,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,l=a.history,o="POP",c=null,d=u();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function u(){return(l.state||{idx:null}).idx}function h(){o="POP";let k=u(),g=k==null?null:k-d;d=k,c&&c({action:o,location:w.location,delta:g})}function m(k,g){o="PUSH";let f=mo(w.location,k,g);r&&r(f,k),d=u()+1;let p=lu(f,d),b=w.createHref(f);try{l.pushState(p,"",b)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(b)}i&&c&&c({action:o,location:w.location,delta:1})}function x(k,g){o="REPLACE";let f=mo(w.location,k,g);r&&r(f,k),d=u();let p=lu(f,d),b=w.createHref(f);l.replaceState(p,"",b),i&&c&&c({action:o,location:w.location,delta:0})}function v(k){return g0(k)}let w={get action(){return o},get location(){return e(a,l)},listen(k){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(iu,h),c=k,()=>{a.removeEventListener(iu,h),c=null}},createHref(k){return t(a,k)},createURL:v,encodeLocation(k){let g=v(k);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:x,go(k){return l.go(k)}};return w}function g0(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ge(r,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Sn(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function qf(e,t,r="/"){return x0(e,t,r,!1)}function x0(e,t,r,s){let a=typeof t=="string"?Ss(t):t,i=Ut(a.pathname||"/",r);if(i==null)return null;let l=Gf(e);y0(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=T0(i);o=C0(l[c],d,s)}return o}function Gf(e,t=[],r=[],s="",a=!1){let i=(l,o,c=a,d)=>{let u={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(s)&&c)return;ge(u.relativePath.startsWith(s),`Absolute route path "${u.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(s.length)}let h=Ot([s,u.relativePath]),m=r.concat(u);l.children&&l.children.length>0&&(ge(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Gf(l.children,t,m,h,c)),!(l.path==null&&!l.index)&&t.push({path:h,score:_0(h,l.index),routesMeta:m})};return e.forEach((l,o)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))i(l,o);else for(let d of Jf(l.path))i(l,o,!0,d)}),t}function Jf(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let l=Jf(s.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function y0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:S0(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var v0=/^:[\w-]+$/,b0=3,w0=2,j0=1,N0=10,k0=-2,ou=e=>e==="*";function _0(e,t){let r=e.split("/"),s=r.length;return r.some(ou)&&(s+=k0),t&&(s+=w0),r.filter(a=>!ou(a)).reduce((a,i)=>a+(v0.test(i)?b0:i===""?j0:N0),s)}function S0(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function C0(e,t,r=!1){let{routesMeta:s}=e,a={},i="/",l=[];for(let o=0;o<s.length;++o){let c=s[o],d=o===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=ri({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&r&&!s[s.length-1].route.index&&(h=ri({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(a,h.params),l.push({params:a,pathname:Ot([i,h.pathname]),pathnameBase:L0(Ot([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Ot([i,h.pathnameBase]))}return l}function ri(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=E0(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:s.reduce((d,{paramName:u,isOptional:h},m)=>{if(u==="*"){let v=o[m]||"";l=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=o[m];return h&&!x?d[u]=void 0:d[u]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function E0(e,t=!1,r=!0){st(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(s.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function T0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return st(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ut(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}var P0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R0=e=>P0.test(e);function A0(e,t="/"){let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?Ss(e):e,i;if(r)if(R0(r))i=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),st(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${r}`)}r.startsWith("/")?i=cu(r.substring(1),"/"):i=cu(r,t)}else i=t;return{pathname:i,search:I0(s),hash:$0(a)}}function cu(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ll(e,t,r,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Qf(e){let t=O0(e);return t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase)}function Yf(e,t,r,s=!1){let a;typeof e=="string"?a=Ss(e):(a={...e},ge(!a.pathname||!a.pathname.includes("?"),ll("?","pathname","search",a)),ge(!a.pathname||!a.pathname.includes("#"),ll("#","pathname","hash",a)),ge(!a.search||!a.search.includes("#"),ll("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=r;else{let h=t.length-1;if(!s&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}o=h>=0?t[h]:"/"}let c=A0(a,o),d=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var Ot=e=>e.join("/").replace(/\/\/+/g,"/"),L0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),I0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function M0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function z0(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Xf=["POST","PUT","PATCH","DELETE"];new Set(Xf);var D0=["GET",...Xf];new Set(D0);var Cs=y.createContext(null);Cs.displayName="DataRouter";var Si=y.createContext(null);Si.displayName="DataRouterState";y.createContext(!1);var Zf=y.createContext({isTransitioning:!1});Zf.displayName="ViewTransition";var U0=y.createContext(new Map);U0.displayName="Fetchers";var F0=y.createContext(null);F0.displayName="Await";var xt=y.createContext(null);xt.displayName="Navigation";var Ci=y.createContext(null);Ci.displayName="Location";var Bt=y.createContext({outlet:null,matches:[],isDataRoute:!1});Bt.displayName="Route";var Nc=y.createContext(null);Nc.displayName="RouteError";function B0(e,{relative:t}={}){ge(In(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=y.useContext(xt),{hash:a,pathname:i,search:l}=$n(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:Ot([r,i])),s.createHref({pathname:o,search:l,hash:a})}function In(){return y.useContext(Ci)!=null}function $r(){return ge(In(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Ci).location}var em="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tm(e){y.useContext(xt).static||y.useLayoutEffect(e)}function W0(){let{isDataRoute:e}=y.useContext(Bt);return e?rx():V0()}function V0(){ge(In(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(Cs),{basename:t,navigator:r}=y.useContext(xt),{matches:s}=y.useContext(Bt),{pathname:a}=$r(),i=JSON.stringify(Qf(s)),l=y.useRef(!1);return tm(()=>{l.current=!0}),y.useCallback((c,d={})=>{if(st(l.current,em),!l.current)return;if(typeof c=="number"){r.go(c);return}let u=Yf(c,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Ot([t,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[t,r,i,a,e])}y.createContext(null);function $n(e,{relative:t}={}){let{matches:r}=y.useContext(Bt),{pathname:s}=$r(),a=JSON.stringify(Qf(r));return y.useMemo(()=>Yf(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function K0(e,t,r,s,a){ge(In(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=y.useContext(xt),{matches:l}=y.useContext(Bt),o=l[l.length-1],c=o?o.params:{},d=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let f=h&&h.path||"";rm(d,!h||f.endsWith("*")||f.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${f}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${f}"> to <Route path="${f==="/"?"*":`${f}/*`}">.`)}let m=$r(),x;x=m;let v=x.pathname||"/",w=v;if(u!=="/"){let f=u.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(f.length).join("/")}let k=qf(e,{pathname:w});return st(h||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),st(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Q0(k&&k.map(f=>Object.assign({},f,{params:Object.assign({},c,f.params),pathname:Ot([u,i.encodeLocation?i.encodeLocation(f.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?u:Ot([u,i.encodeLocation?i.encodeLocation(f.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:f.pathnameBase])})),l,r,s,a)}function H0(){let e=tx(),t=M0(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,l)}var q0=y.createElement(H0,null),G0=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement(Bt.Provider,{value:this.props.routeContext},y.createElement(Nc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function J0({routeContext:e,match:t,children:r}){let s=y.useContext(Cs);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(Bt.Provider,{value:e},r)}function Q0(e,t=[],r=null,s=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=r==null?void 0:r.errors;if(l!=null){let u=i.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);ge(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,c=-1;if(r)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:m,errors:x}=r,v=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!x||x[h.route.id]===void 0);if(h.route.lazy||v){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let d=r&&s?(u,h)=>{var m,x;s(u,{location:r.location,params:((x=(m=r.matches)==null?void 0:m[0])==null?void 0:x.params)??{},unstable_pattern:z0(r.matches),errorInfo:h})}:void 0;return i.reduceRight((u,h,m)=>{let x,v=!1,w=null,k=null;r&&(x=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||q0,o&&(c<0&&m===0?(rm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,k=null):c===m&&(v=!0,k=h.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,m+1)),f=()=>{let p;return x?p=w:v?p=k:h.route.Component?p=y.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=u,y.createElement(J0,{match:h,routeContext:{outlet:u,matches:g,isDataRoute:r!=null},children:p})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?y.createElement(G0,{location:r.location,revalidation:r.revalidation,component:w,error:x,children:f(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:d}):f()},null)}function kc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y0(e){let t=y.useContext(Cs);return ge(t,kc(e)),t}function X0(e){let t=y.useContext(Si);return ge(t,kc(e)),t}function Z0(e){let t=y.useContext(Bt);return ge(t,kc(e)),t}function _c(e){let t=Z0(e),r=t.matches[t.matches.length-1];return ge(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function ex(){return _c("useRouteId")}function tx(){var s;let e=y.useContext(Nc),t=X0("useRouteError"),r=_c("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[r]}function rx(){let{router:e}=Y0("useNavigate"),t=_c("useNavigate"),r=y.useRef(!1);return tm(()=>{r.current=!0}),y.useCallback(async(a,i={})=>{st(r.current,em),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var du={};function rm(e,t,r){!t&&!du[e]&&(du[e]=!0,st(!1,r))}y.memo(sx);function sx({routes:e,future:t,state:r,unstable_onError:s}){return K0(e,void 0,r,s,t)}function nx({basename:e="/",children:t=null,location:r,navigationType:s="POP",navigator:a,static:i=!1,unstable_useTransitions:l}){ge(!In(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:o,navigator:a,static:i,unstable_useTransitions:l,future:{}}),[o,a,i,l]);typeof r=="string"&&(r=Ss(r));let{pathname:d="/",search:u="",hash:h="",state:m=null,key:x="default"}=r,v=y.useMemo(()=>{let w=Ut(d,o);return w==null?null:{location:{pathname:w,search:u,hash:h,state:m,key:x},navigationType:s}},[o,d,u,h,m,x,s]);return st(v!=null,`<Router basename="${o}"> is not able to match the URL "${d}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:y.createElement(xt.Provider,{value:c},y.createElement(Ci.Provider,{children:t,value:v}))}var Pa="get",Ra="application/x-www-form-urlencoded";function Ei(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function ax(e){return Ei(e)&&e.tagName.toLowerCase()==="button"}function ix(e){return Ei(e)&&e.tagName.toLowerCase()==="form"}function lx(e){return Ei(e)&&e.tagName.toLowerCase()==="input"}function ox(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cx(e,t){return e.button===0&&(!t||t==="_self")&&!ox(e)}var ha=null;function dx(){if(ha===null)try{new FormData(document.createElement("form"),0),ha=!1}catch{ha=!0}return ha}var ux=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ol(e){return e!=null&&!ux.has(e)?(st(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ra}"`),null):e}function hx(e,t){let r,s,a,i,l;if(ix(e)){let o=e.getAttribute("action");s=o?Ut(o,t):null,r=e.getAttribute("method")||Pa,a=ol(e.getAttribute("enctype"))||Ra,i=new FormData(e)}else if(ax(e)||lx(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(s=c?Ut(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Pa,a=ol(e.getAttribute("formenctype"))||ol(o.getAttribute("enctype"))||Ra,i=new FormData(o,e),!dx()){let{name:d,type:u,value:h}=e;if(u==="image"){let m=d?`${d}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else d&&i.append(d,h)}}else{if(Ei(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Pa,s=null,a=Ra,l=e}return i&&a==="text/plain"&&(l=i,i=void 0),{action:s,method:r.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fx(e,t,r){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${r}`:t&&Ut(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function mx(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function px(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function gx(e,t,r){let s=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let l=await mx(i,r);return l.links?l.links():[]}return[]}));return bx(s.flat(1).filter(px).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function uu(e,t,r,s,a,i){let l=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,o=(c,d)=>{var u;return r[d].pathname!==c.pathname||((u=r[d].route.path)==null?void 0:u.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,d)=>l(c,d)||o(c,d)):i==="data"?t.filter((c,d)=>{var h;let u=s.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(l(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function xx(e,t,{includeHydrateFallback:r}={}){return yx(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function yx(e){return[...new Set(e)]}function vx(e){let t={},r=Object.keys(e).sort();for(let s of r)t[s]=e[s];return t}function bx(e,t){let r=new Set;return new Set(t),e.reduce((s,a)=>{let i=JSON.stringify(vx(a));return r.has(i)||(r.add(i),s.push({key:i,link:a})),s},[])}function sm(){let e=y.useContext(Cs);return Sc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function wx(){let e=y.useContext(Si);return Sc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Cc=y.createContext(void 0);Cc.displayName="FrameworkContext";function nm(){let e=y.useContext(Cc);return Sc(e,"You must render this element inside a <HydratedRouter> element"),e}function jx(e,t){let r=y.useContext(Cc),[s,a]=y.useState(!1),[i,l]=y.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=t,m=y.useRef(null);y.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let w=g=>{g.forEach(f=>{l(f.isIntersecting)})},k=new IntersectionObserver(w,{threshold:.5});return m.current&&k.observe(m.current),()=>{k.disconnect()}}},[e]),y.useEffect(()=>{if(s){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[s]);let x=()=>{a(!0)},v=()=>{a(!1),l(!1)};return r?e!=="intent"?[i,m,{}]:[i,m,{onFocus:Ws(o,x),onBlur:Ws(c,v),onMouseEnter:Ws(d,x),onMouseLeave:Ws(u,v),onTouchStart:Ws(h,x)}]:[!1,m,{}]}function Ws(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Nx({page:e,...t}){let{router:r}=sm(),s=y.useMemo(()=>qf(r.routes,e,r.basename),[r.routes,e,r.basename]);return s?y.createElement(_x,{page:e,matches:s,...t}):null}function kx(e){let{manifest:t,routeModules:r}=nm(),[s,a]=y.useState([]);return y.useEffect(()=>{let i=!1;return gx(e,t,r).then(l=>{i||a(l)}),()=>{i=!0}},[e,t,r]),s}function _x({page:e,matches:t,...r}){let s=$r(),{manifest:a,routeModules:i}=nm(),{basename:l}=sm(),{loaderData:o,matches:c}=wx(),d=y.useMemo(()=>uu(e,t,c,a,s,"data"),[e,t,c,a,s]),u=y.useMemo(()=>uu(e,t,c,a,s,"assets"),[e,t,c,a,s]),h=y.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let v=new Set,w=!1;if(t.forEach(g=>{var p;let f=a.routes[g.route.id];!f||!f.hasLoader||(!d.some(b=>b.route.id===g.route.id)&&g.route.id in o&&((p=i[g.route.id])!=null&&p.shouldRevalidate)||f.hasClientLoader?w=!0:v.add(g.route.id))}),v.size===0)return[];let k=fx(e,l,"data");return w&&v.size>0&&k.searchParams.set("_routes",t.filter(g=>v.has(g.route.id)).map(g=>g.route.id).join(",")),[k.pathname+k.search]},[l,o,s,a,d,t,e,i]),m=y.useMemo(()=>xx(u,a),[u,a]),x=kx(u);return y.createElement(y.Fragment,null,h.map(v=>y.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),m.map(v=>y.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),x.map(({key:v,link:w})=>y.createElement("link",{key:v,nonce:r.nonce,...w})))}function Sx(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var am=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{am&&(window.__reactRouterVersion="7.10.1")}catch{}function Cx({basename:e,children:t,unstable_useTransitions:r,window:s}){let a=y.useRef();a.current==null&&(a.current=f0({window:s,v5Compat:!0}));let i=a.current,[l,o]=y.useState({action:i.action,location:i.location}),c=y.useCallback(d=>{r===!1?o(d):y.startTransition(()=>o(d))},[r]);return y.useLayoutEffect(()=>i.listen(c),[i,c]),y.createElement(nx,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:i,unstable_useTransitions:r===!0})}var im=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lm=y.forwardRef(function({onClick:t,discover:r="render",prefetch:s="none",relative:a,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:h,...m},x){let{basename:v,unstable_useTransitions:w}=y.useContext(xt),k=typeof d=="string"&&im.test(d),g,f=!1;if(typeof d=="string"&&k&&(g=d,am))try{let S=new URL(window.location.href),D=d.startsWith("//")?new URL(S.protocol+d):new URL(d),R=Ut(D.pathname,v);D.origin===S.origin&&R!=null?d=R+D.search+D.hash:f=!0}catch{st(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=B0(d,{relative:a}),[b,j,N]=jx(s,m),C=Rx(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:a,viewTransition:h,unstable_useTransitions:w});function A(S){t&&t(S),S.defaultPrevented||C(S)}let F=y.createElement("a",{...m,...N,href:g||p,onClick:f||i?t:A,ref:Sx(x,j),target:c,"data-discover":!k&&r==="render"?"true":void 0});return b&&!k?y.createElement(y.Fragment,null,F,y.createElement(Nx,{page:p})):F});lm.displayName="Link";var Ex=y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:s="",end:a=!1,style:i,to:l,viewTransition:o,children:c,...d},u){let h=$n(l,{relative:d.relative}),m=$r(),x=y.useContext(Si),{navigator:v,basename:w}=y.useContext(xt),k=x!=null&&$x(h)&&o===!0,g=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,f=m.pathname,p=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(f=f.toLowerCase(),p=p?p.toLowerCase():null,g=g.toLowerCase()),p&&w&&(p=Ut(p,w)||p);const b=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let j=f===g||!a&&f.startsWith(g)&&f.charAt(b)==="/",N=p!=null&&(p===g||!a&&p.startsWith(g)&&p.charAt(g.length)==="/"),C={isActive:j,isPending:N,isTransitioning:k},A=j?t:void 0,F;typeof s=="function"?F=s(C):F=[s,j?"active":null,N?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let S=typeof i=="function"?i(C):i;return y.createElement(lm,{...d,"aria-current":A,className:F,ref:u,style:S,to:l,viewTransition:o},typeof c=="function"?c(C):c)});Ex.displayName="NavLink";var Tx=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:s,replace:a,state:i,method:l=Pa,action:o,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:h,...m},x)=>{let{unstable_useTransitions:v}=y.useContext(xt),w=Lx(),k=Ix(o,{relative:d}),g=l.toLowerCase()==="get"?"get":"post",f=typeof o=="string"&&im.test(o),p=b=>{if(c&&c(b),b.defaultPrevented)return;b.preventDefault();let j=b.nativeEvent.submitter,N=(j==null?void 0:j.getAttribute("formmethod"))||l,C=()=>w(j||b.currentTarget,{fetcherKey:t,method:N,navigate:r,replace:a,state:i,relative:d,preventScrollReset:u,viewTransition:h});v&&r!==!1?y.startTransition(()=>C()):C()};return y.createElement("form",{ref:x,method:g,action:k,onSubmit:s?c:p,...m,"data-discover":!f&&e==="render"?"true":void 0})});Tx.displayName="Form";function Px(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function om(e){let t=y.useContext(Cs);return ge(t,Px(e)),t}function Rx(e,{target:t,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:l,unstable_useTransitions:o}={}){let c=W0(),d=$r(),u=$n(e,{relative:i});return y.useCallback(h=>{if(cx(h,t)){h.preventDefault();let m=r!==void 0?r:Sn(d)===Sn(u),x=()=>c(e,{replace:m,state:s,preventScrollReset:a,relative:i,viewTransition:l});o?y.startTransition(()=>x()):x()}},[d,c,u,r,s,t,e,a,i,l,o])}var Ax=0,Ox=()=>`__${String(++Ax)}__`;function Lx(){let{router:e}=om("useSubmit"),{basename:t}=y.useContext(xt),r=ex(),s=e.fetch,a=e.navigate;return y.useCallback(async(i,l={})=>{let{action:o,method:c,encType:d,formData:u,body:h}=hx(i,t);if(l.navigate===!1){let m=l.fetcherKey||Ox();await s(m,r,l.action||o,{preventScrollReset:l.preventScrollReset,formData:u,body:h,formMethod:l.method||c,formEncType:l.encType||d,flushSync:l.flushSync})}else await a(l.action||o,{preventScrollReset:l.preventScrollReset,formData:u,body:h,formMethod:l.method||c,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,a,t,r])}function Ix(e,{relative:t}={}){let{basename:r}=y.useContext(xt),s=y.useContext(Bt);ge(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i={...$n(e||".",{relative:t})},l=$r();if(e==null){i.search=l.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(u=>u==="")){o.delete("index"),c.filter(h=>h).forEach(h=>o.append("index",h));let u=o.toString();i.search=u?`?${u}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Ot([r,i.pathname])),Sn(i)}function $x(e,{relative:t}={}){let r=y.useContext(Zf);ge(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=om("useViewTransitionState"),a=$n(e,{relative:t});if(!r.isTransitioning)return!1;let i=Ut(r.currentLocation.pathname,s)||r.currentLocation.pathname,l=Ut(r.nextLocation.pathname,s)||r.nextLocation.pathname;return ri(a.pathname,l)!=null||ri(a.pathname,i)!=null}const Mx="modulepreload",zx=function(e){return"/stemNroot/"+e},hu={},Mn=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=zx(c),c in hu)return;hu[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Mx,d||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),d)return new Promise((m,x)=>{h.addEventListener("load",m),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},Dx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mn(async()=>{const{default:s}=await Promise.resolve().then(()=>Es);return{default:s}},[]).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)};class Ec extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class Ux extends Ec{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class fu extends Ec{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class mu extends Ec{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var po;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(po||(po={}));var Fx=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(s.next(u))}catch(h){l(h)}}function c(u){try{d(s.throw(u))}catch(h){l(h)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((s=s.apply(e,t||[])).next())})};class Bx{constructor(t,{headers:r={},customFetch:s,region:a=po.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Dx(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var s;return Fx(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:l}=r;let o={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=l):typeof l=="string"?(o["Content-Type"]="text/plain",u=l):typeof FormData<"u"&&l instanceof FormData?u=l:(o["Content-Type"]="application/json",u=JSON.stringify(l)));const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:u}).catch(w=>{throw new Ux(w)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new fu(h);if(!h.ok)throw new mu(h);let x=((s=h.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),v;return x==="application/json"?v=yield h.json():x==="application/octet-stream"?v=yield h.blob():x==="text/event-stream"?v=h:x==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(a){return{data:null,error:a,response:a instanceof mu||a instanceof fu?a.context:void 0}}})}}var $e={},Tc={},Ti={},zn={},Pi={},Ri={},Wx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bs=Wx();const Vx=bs.fetch,cm=bs.fetch.bind(bs),dm=bs.Headers,Kx=bs.Request,Hx=bs.Response,Es=Object.freeze(Object.defineProperty({__proto__:null,Headers:dm,Request:Kx,Response:Hx,default:cm,fetch:Vx},Symbol.toStringTag,{value:"Module"})),qx=Dm(Es);var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});let Gx=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ai.default=Gx;var um=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ri,"__esModule",{value:!0});const Jx=um(qx),Qx=um(Ai);let Yx=class{constructor(t){var r,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(s=t.isMaybeSingle)!==null&&s!==void 0?s:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Jx.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var l,o,c,d;let u=null,h=null,m=null,x=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?h=f:h=JSON.parse(f))}const k=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");k&&g&&g.length>1&&(m=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,x=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const k=await i.text();try{u=JSON.parse(k),Array.isArray(u)&&i.status===404&&(h=[],u=null,x=200,v="OK")}catch{i.status===404&&k===""?(x=204,v="No Content"):u={message:k}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,x=200,v="OK"),u&&this.shouldThrowOnError)throw new Qx.default(u)}return{error:u,data:h,count:m,status:x,statusText:v}});return this.shouldThrowOnError||(a=a.catch(i=>{var l,o,c;return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Ri.default=Yx;var Xx=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pi,"__esModule",{value:!0});const Zx=Xx(Ri);let ey=class extends Zx.default{select(t){let r=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:s,foreignTable:a,referencedTable:i=a}={}){const l=i?`${i}.order`:"order",o=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:s,referencedTable:a=s}={}){const i=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:s=!1,buffers:a=!1,wal:i=!1,format:l="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,s?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${d}"; options=${c};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Pi.default=ey;var ty=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zn,"__esModule",{value:!0});const ry=ty(Pi);let sy=class extends ry.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const s=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:s,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const l=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${i}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(t,r,s){return this.url.searchParams.append(t,`not.${r}.${s}`),this}or(t,{foreignTable:r,referencedTable:s=r}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,s){return this.url.searchParams.append(t,`${r}.${s}`),this}};zn.default=sy;var ny=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ti,"__esModule",{value:!0});const Vs=ny(zn);let ay=class{constructor(t,{headers:r={},schema:s,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=s,this.fetch=a}select(t,{head:r=!1,count:s}={}){const a=r?"HEAD":"GET";let i=!1;const l=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",l),s&&this.headers.append("Prefer",`count=${s}`),new Vs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:s=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(l.length>0){const o=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Vs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:s=!1,count:a,defaultToNull:i=!0}={}){var l;const o="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Vs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:r}={}){var s;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Vs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:t}={}){var r;const s="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Vs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Ti.default=ay;var hm=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tc,"__esModule",{value:!0});const iy=hm(Ti),ly=hm(zn);let oy=class fm{constructor(t,{headers:r={},schema:s,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=s,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new iy.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new fm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:s=!1,get:a=!1,count:i}={}){var l;let o;const c=new URL(`${this.url}/rpc/${t}`);let d;s||a?(o=s?"HEAD":"GET",Object.entries(r).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{c.searchParams.append(h,m)})):(o="POST",d=r);const u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new ly.default({method:o,url:c,headers:u,schema:this.schemaName,body:d,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};Tc.default=oy;var Ts=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($e,"__esModule",{value:!0});$e.PostgrestError=$e.PostgrestBuilder=$e.PostgrestTransformBuilder=$e.PostgrestFilterBuilder=$e.PostgrestQueryBuilder=$e.PostgrestClient=void 0;const mm=Ts(Tc);$e.PostgrestClient=mm.default;const pm=Ts(Ti);$e.PostgrestQueryBuilder=pm.default;const gm=Ts(zn);$e.PostgrestFilterBuilder=gm.default;const xm=Ts(Pi);$e.PostgrestTransformBuilder=xm.default;const ym=Ts(Ri);$e.PostgrestBuilder=ym.default;const vm=Ts(Ai);$e.PostgrestError=vm.default;var cy=$e.default={PostgrestClient:mm.default,PostgrestQueryBuilder:pm.default,PostgrestFilterBuilder:gm.default,PostgrestTransformBuilder:xm.default,PostgrestBuilder:ym.default,PostgrestError:vm.default};const{PostgrestClient:dy,PostgrestQueryBuilder:cw,PostgrestFilterBuilder:dw,PostgrestTransformBuilder:uw,PostgrestBuilder:hw,PostgrestError:fw}=cy;class uy{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const s=this.getWebSocketConstructor();return new s(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const hy="2.15.5",fy=`realtime-js/${hy}`,my="1.0.0",go=1e4,py=1e3,gy=100;var an;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(an||(an={}));var he;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(he||(he={}));var ct;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ct||(ct={}));var xo;(function(e){e.websocket="websocket"})(xo||(xo={}));var br;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(br||(br={}));class xy{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,r,s)}_decodeBroadcast(t,r,s){const a=r.getUint8(1),i=r.getUint8(2);let l=this.HEADER_LENGTH+2;const o=s.decode(t.slice(l,l+a));l=l+a;const c=s.decode(t.slice(l,l+i));l=l+i;const d=JSON.parse(s.decode(t.slice(l,t.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class bm{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Z;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Z||(Z={}));const pu=(e,t,r={})=>{var s;const a=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((i,l)=>(i[l]=yy(l,e,t,a),i),{})},yy=(e,t,r,s)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,l=r[e];return i&&!s.includes(i)?wm(i,l):yo(l)},wm=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return jy(t,r)}switch(e){case Z.bool:return vy(t);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return by(t);case Z.json:case Z.jsonb:return wy(t);case Z.timestamp:return Ny(t);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return yo(t);default:return yo(t)}},yo=e=>e,vy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},by=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wy=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},jy=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(o=>wm(t,o))}return e},Ny=e=>typeof e=="string"?e.replace(" ","T"):e,jm=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class cl{constructor(t,r,s={},a=go){this.channel=t,this.event=r,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(gu||(gu={}));class ln{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ln.syncState(this.state,a,i,l),this.pendingDiffs.forEach(c=>{this.state=ln.syncDiff(this.state,c,i,l)}),this.pendingDiffs=[],o()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:l,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ln.syncDiff(this.state,a,i,l),o())}),this.onJoin((a,i,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:l})}),this.onLeave((a,i,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,a){const i=this.cloneDeep(t),l=this.transformState(r),o={},c={};return this.map(i,(d,u)=>{l[d]||(c[d]=u)}),this.map(l,(d,u)=>{const h=i[d];if(h){const m=u.map(k=>k.presence_ref),x=h.map(k=>k.presence_ref),v=u.filter(k=>x.indexOf(k.presence_ref)<0),w=h.filter(k=>m.indexOf(k.presence_ref)<0);v.length>0&&(o[d]=v),w.length>0&&(c[d]=w)}else o[d]=u}),this.syncDiff(i,{joins:o,leaves:c},s,a)}static syncDiff(t,r,s,a){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(o,c)=>{var d;const u=(d=t[o])!==null&&d!==void 0?d:[];if(t[o]=this.cloneDeep(c),u.length>0){const h=t[o].map(x=>x.presence_ref),m=u.filter(x=>h.indexOf(x.presence_ref)<0);t[o].unshift(...m)}s(o,u,c)}),this.map(l,(o,c)=>{let d=t[o];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[o]=d,a(o,d,c),d.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const a=t[s];return"metas"in a?r[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xu||(xu={}));var on;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(on||(on={}));var Ct;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ct||(Ct={}));class Pc{constructor(t,r={config:{}},s){this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=he.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new cl(this,ct.join,this.params,this.timeout),this.rejoinTimer=new bm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=he.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=he.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ct.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new ln(this),this.broadcastEndpointURL=jm(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var s,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==he.closed){const{config:{broadcast:l,presence:o,private:c}}=this.params,d=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(x=>x.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[on.PRESENCE]&&this.bindings[on.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:l,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(Ct.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(Ct.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var v;if(this.socket.setAuth(),x===void 0){t==null||t(Ct.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,k=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,g=[];for(let f=0;f<k;f++){const p=w[f],{filter:{event:b,schema:j,table:N,filter:C}}=p,A=x&&x[f];if(A&&A.event===b&&A.schema===j&&A.table===N&&A.filter===C)g.push(Object.assign(Object.assign({},p),{id:A.id}));else{this.unsubscribe(),this.state=he.errored,t==null||t(Ct.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Ct.SUBSCRIBED);return}}).receive("error",x=>{this.state=he.errored,t==null||t(Ct.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ct.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this.state===he.joined&&t===on.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,s)}async send(t,r={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:l}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,o,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(l=this.params)===null||l===void 0?void 0:l.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=he.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ct.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new cl(this,ct.leave,{},t),s.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=he.closed,this.bindings={}}async _fetchWithTimeout(t,r,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),l}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new cl(this,t,r,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>gy){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var a,i;const l=t.toLocaleLowerCase(),{close:o,error:c,leave:d,join:u}=ct;if(s&&[o,c,d,u].indexOf(l)>=0&&s!==this._joinRef())return;let m=this._onMessage(l,r,s);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var v,w,k;return((v=x.filter)===null||v===void 0?void 0:v.event)==="*"||((k=(w=x.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===l}).map(x=>x.callback(m,s)):(i=this.bindings[l])===null||i===void 0||i.filter(x=>{var v,w,k,g,f,p;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const b=x.id,j=(v=x.filter)===null||v===void 0?void 0:v.event;return b&&((w=r.ids)===null||w===void 0?void 0:w.includes(b))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const b=(f=(g=x==null?void 0:x.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return b==="*"||b===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:w,table:k,commit_timestamp:g,type:f,errors:p}=v;m=Object.assign(Object.assign({},{schema:w,table:k,commit_timestamp:g,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(v))}x.callback(m,s)})}_isClosed(){return this.state===he.closed}_isJoined(){return this.state===he.joined}_isJoining(){return this.state===he.joining}_isLeaving(){return this.state===he.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Pc.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ct.close,{},t)}_onError(t){this._on(ct.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=he.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=pu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=pu(t.columns,t.old_record)),r}}const dl=()=>{},fa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ky=[1e3,2e3,5e3,1e4],_y=1e4,Sy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Cy{constructor(t,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=go,this.transport=null,this.heartbeatIntervalMs=fa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dl,this.ref=0,this.reconnectTimer=null,this.logger=dl,this.conn=null,this.sendBuffer=[],this.serializer=new xy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...l)=>Mn(async()=>{const{default:o}=await Promise.resolve().then(()=>Es);return{default:o}},void 0).then(({default:o})=>o(...l)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...l)=>i(...l)},!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${xo.websocket}`,this.httpEndpoint=jm(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=uy.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:my}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case an.connecting:return br.Connecting;case an.open:return br.Open;case an.closing:return br.Closing;default:return br.Closed}}isConnected(){return this.connectionState()===br.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const s=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new Pc(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:s,payload:a,ref:i}=t,l=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${s} (${i})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(py,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},fa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:i,ref:l}=r,o=l?`(${l})`:"",c=i.status||"";this.log("receive",`${c} ${s} ${a} ${o}`.trim(),i),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(a,i,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ct.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${s}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([Sy],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:fy};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(ct.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new bm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,s,a,i,l,o,c,d,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:go,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:fa.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:dl,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>ky[h-1]||_y,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(h,m)=>m(JSON.stringify(h)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Rc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function fe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ey extends Rc{constructor(t,r,s){super(t),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vo extends Rc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Ty=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(s.next(u))}catch(h){l(h)}}function c(u){try{d(s.throw(u))}catch(h){l(h)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((s=s.apply(e,t||[])).next())})};const Nm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mn(async()=>{const{default:s}=await Promise.resolve().then(()=>Es);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},Py=()=>Ty(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mn(()=>Promise.resolve().then(()=>Es),void 0)).Response:Response}),bo=e=>{if(Array.isArray(e))return e.map(r=>bo(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=bo(s)}),t},Ry=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Mr=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(s.next(u))}catch(h){l(h)}}function c(u){try{d(s.throw(u))}catch(h){l(h)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((s=s.apply(e,t||[])).next())})};const ul=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ay=(e,t,r)=>Mr(void 0,void 0,void 0,function*(){const s=yield Py();e instanceof s&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,l=(a==null?void 0:a.statusCode)||i+"";t(new Ey(ul(a),i,l))}).catch(a=>{t(new vo(ul(a),a))}):t(new vo(ul(e),e))}),Oy=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?a:(Ry(s)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(s)):a.body=s,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Dn(e,t,r,s,a,i){return Mr(this,void 0,void 0,function*(){return new Promise((l,o)=>{e(r,Oy(t,s,a,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>Ay(c,o,s))})})}function si(e,t,r,s){return Mr(this,void 0,void 0,function*(){return Dn(e,"GET",t,r,s)})}function bt(e,t,r,s,a){return Mr(this,void 0,void 0,function*(){return Dn(e,"POST",t,s,a,r)})}function wo(e,t,r,s,a){return Mr(this,void 0,void 0,function*(){return Dn(e,"PUT",t,s,a,r)})}function Ly(e,t,r,s){return Mr(this,void 0,void 0,function*(){return Dn(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function km(e,t,r,s,a){return Mr(this,void 0,void 0,function*(){return Dn(e,"DELETE",t,s,a,r)})}var Te=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(s.next(u))}catch(h){l(h)}}function c(u){try{d(s.throw(u))}catch(h){l(h)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((s=s.apply(e,t||[])).next())})};const Iy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $y{constructor(t,r={},s,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=s,this.fetch=Nm(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,s,a){return Te(this,void 0,void 0,function*(){try{let i;const l=Object.assign(Object.assign({},yu),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",l.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,o["cache-control"]=`max-age=${l.cacheControl}`,o["content-type"]=l.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(t=="PUT"?wo:bt)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:o},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fe(i))return{data:null,error:i};throw i}})}upload(t,r,s){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,s)})}uploadToSignedUrl(t,r,s,a){return Te(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),l=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${l}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:yu.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield wo(this.fetch,o.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(fe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Te(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield bt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),l=new URL(this.url+i.url),o=l.searchParams.get("token");if(!o)throw new Rc("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:o},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}update(t,r,s){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,s)})}move(t,r,s){return Te(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fe(a))return{data:null,error:a};throw a}})}copy(t,r,s){return Te(this,void 0,void 0,function*(){try{return{data:{path:(yield bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fe(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,s){return Te(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield bt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const l=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fe(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,s){return Te(this,void 0,void 0,function*(){try{const a=yield bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fe(a))return{data:null,error:a};throw a}})}download(t,r){return Te(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield si(this.fetch,`${this.url}/${a}/${o}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(fe(o))return{data:null,error:o};throw o}})}info(t){return Te(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const s=yield si(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:bo(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}exists(t){return Te(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Ly(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s)&&s instanceof vo){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,r){const s=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${s}${d}`)}}}remove(t){return Te(this,void 0,void 0,function*(){try{return{data:yield km(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}list(t,r,s){return Te(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Iy),r),{prefix:t||""});return{data:yield bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fe(a))return{data:null,error:a};throw a}})}listV2(t,r){return Te(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield bt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const My="2.12.1",zy={"X-Client-Info":`storage-js/${My}`};var Ur=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(s.next(u))}catch(h){l(h)}}function c(u){try{d(s.throw(u))}catch(h){l(h)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((s=s.apply(e,t||[])).next())})};class Dy{constructor(t,r={},s,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},zy),r),this.fetch=Nm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ur(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(fe(t))return{data:null,error:t};throw t}})}getBucket(t){return Ur(this,void 0,void 0,function*(){try{return{data:yield si(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ur(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return Ur(this,void 0,void 0,function*(){try{return{data:yield wo(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Ur(this,void 0,void 0,function*(){try{return{data:yield bt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ur(this,void 0,void 0,function*(){try{return{data:yield km(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}}class Uy extends Dy{constructor(t,r={},s,a){super(t,r,s,a)}from(t){return new $y(this.url,this.headers,t,this.fetch)}}const Fy="2.57.4";let Js="";typeof Deno<"u"?Js="deno":typeof document<"u"?Js="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Js="react-native":Js="node";const By={"X-Client-Info":`supabase-js-${Js}/${Fy}`},Wy={headers:By},Vy={schema:"public"},Ky={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hy={};var qy=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(s.next(u))}catch(h){l(h)}}function c(u){try{d(s.throw(u))}catch(h){l(h)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((s=s.apply(e,t||[])).next())})};const Gy=e=>{let t;return e?t=e:typeof fetch>"u"?t=cm:t=fetch,(...r)=>t(...r)},Jy=()=>typeof Headers>"u"?dm:Headers,Qy=(e,t,r)=>{const s=Gy(r),a=Jy();return(i,l)=>qy(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let d=new a(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},l),{headers:d}))})};var Yy=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(s.next(u))}catch(h){l(h)}}function c(u){try{d(s.throw(u))}catch(h){l(h)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((s=s.apply(e,t||[])).next())})};function Xy(e){return e.endsWith("/")?e:e+"/"}function Zy(e,t){var r,s;const{db:a,auth:i,realtime:l,global:o}=e,{db:c,auth:d,realtime:u,global:h}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),l),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(s=o==null?void 0:o.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Yy(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function ev(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Xy(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const _m="2.71.1",Kr=30*1e3,jo=3,hl=jo*Kr,tv="http://localhost:9999",rv="supabase.auth.token",sv={"X-Client-Info":`gotrue-js/${_m}`},No="X-Supabase-Api-Version",Sm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,av=10*60*1e3;class Ac extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function H(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class iv extends Ac{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function lv(e){return H(e)&&e.name==="AuthApiError"}class Cm extends Ac{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class mr extends Ac{constructor(t,r,s,a){super(t,s,a),this.name=r,this.status=s}}class Ht extends mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ov(e){return H(e)&&e.name==="AuthSessionMissingError"}class ma extends mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pa extends mr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ga extends mr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cv(e){return H(e)&&e.name==="AuthImplicitGrantRedirectError"}class vu extends mr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ko extends mr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function fl(e){return H(e)&&e.name==="AuthRetryableFetchError"}class bu extends mr{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class _o extends mr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ni="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wu=` 	
\r=`.split(""),dv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<wu.length;t+=1)e[wu[t].charCodeAt(0)]=-2;for(let t=0;t<ni.length;t+=1)e[ni[t].charCodeAt(0)]=t;return e})();function ju(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(ni[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(ni[s]),t.queuedBits-=6}}function Em(e,t,r){const s=dv[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Nu(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=l=>{fv(l,s,r)};for(let l=0;l<e.length;l+=1)Em(e.charCodeAt(l),a,i);return t.join("")}function uv(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function hv(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}uv(s,t)}}function fv(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function mv(e){const t=[],r={queue:0,queuedBits:0},s=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)Em(e.charCodeAt(a),r,s);return new Uint8Array(t)}function pv(e){const t=[];return hv(e,r=>t.push(r)),new Uint8Array(t)}function gv(e){const t=[],r={queue:0,queuedBits:0},s=a=>{t.push(a)};return e.forEach(a=>ju(a,r,s)),ju(null,r,s),t.join("")}function xv(e){return Math.round(Date.now()/1e3)+e}function yv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const it=()=>typeof window<"u"&&typeof document<"u",pr={tested:!1,writable:!1},Tm=()=>{if(!it())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pr.tested)return pr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),pr.tested=!0,pr.writable=!0}catch{pr.tested=!0,pr.writable=!1}return pr.writable};function vv(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((s,a)=>{t[a]=s}),t}const Pm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mn(async()=>{const{default:s}=await Promise.resolve().then(()=>Es);return{default:s}},void 0).then(({default:s})=>s(...r)):t=fetch,(...r)=>t(...r)},bv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Hr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},gr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Kt=async(e,t)=>{await e.removeItem(t)};class Oi{constructor(){this.promise=new Oi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Oi.promiseConstructor=Promise;function ml(e){const t=e.split(".");if(t.length!==3)throw new _o("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!nv.test(t[s]))throw new _o("JWT not in base64url format");return{header:JSON.parse(Nu(t[0])),payload:JSON.parse(Nu(t[1])),signature:mv(t[2]),raw:{header:t[0],payload:t[1]}}}async function wv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function jv(e,t){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){s(l);return}}catch(l){if(!t(i,l)){a(l);return}}})()})}function Nv(e){return("0"+e.toString(16)).substr(-2)}function kv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,Nv).join("")}async function _v(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Sv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await _v(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fr(e,t,r=!1){const s=kv();let a=s;r&&(a+="/PASSWORD_RECOVERY"),await Hr(e,`${t}-code-verifier`,a);const i=await Sv(s);return[i,s===i?"plain":"s256"]}const Cv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ev(e){const t=e.headers.get(No);if(!t||!t.match(Cv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Tv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Pv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Rv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Br(e){if(!Rv.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pl(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ku(e){return JSON.parse(JSON.stringify(e))}var Av=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r};const vr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ov=[502,503,504];async function _u(e){var t;if(!bv(e))throw new ko(vr(e),0);if(Ov.includes(e.status))throw new ko(vr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Cm(vr(i),i)}let s;const a=Ev(e);if(a&&a.getTime()>=Sm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new bu(vr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Ht}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new bu(vr(r),e.status,r.weak_password.reasons);throw new iv(vr(r),e.status||500,s)}const Lv=(e,t,r,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),r))};async function q(e,t,r,s){var a;const i=Object.assign({},s==null?void 0:s.headers);i[No]||(i[No]=Sm["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const l=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(l.redirect_to=s.redirectTo);const o=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await Iv(e,t,r+o,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function Iv(e,t,r,s,a,i){const l=Lv(t,s,a,i);let o;try{o=await e(r,Object.assign({},l))}catch(c){throw console.error(c),new ko(vr(c),0)}if(o.ok||await _u(o),s!=null&&s.noResolveJson)return o;try{return await o.json()}catch(c){await _u(c)}}function _t(e){var t;let r=null;Dv(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=xv(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function Su(e){const t=_t(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Yt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $v(e){return{data:e,error:null}}function Mv(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i}=e,l=Av(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i},c=Object.assign({},l);return{data:{properties:o,user:c},error:null}}function zv(e){return e}function Dv(e){return e.access_token&&e.refresh_token&&e.expires_in}const gl=["global","local","others"];var Uv=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r};class Fv{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=Pm(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=gl[0]){if(gl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gl.join(", ")}`);try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Yt})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=Uv(t,["options"]),a=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Mv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(H(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Yt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,a,i,l,o,c;try{const d={nextPage:null,lastPage:0,total:0},u=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:zv});if(u.error)throw u.error;const h=await u.json(),m=(l=u.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);d[`${k}Page`]=w}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(H(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Br(t);try{return await q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Yt})}catch(r){if(H(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Br(t);try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Yt})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){Br(t);try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Yt})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Br(t.userId);try{const{data:r,error:s}=await q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:s}}catch(r){if(H(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Br(t.userId),Br(t.id);try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}}function Cu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Bv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wr={debug:!!(globalThis&&Tm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Rm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Wv extends Rm{}async function Vv(e,t,r){Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Wv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Bv();const Kv={url:tv,storageKey:rv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Eu(e,t,r){return await r()}const Vr={};class Cn{constructor(t){var r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Cn.nextInstanceID,Cn.nextInstanceID+=1,this.instanceID>0&&it()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Kv),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Fv({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Pm(a.fetch),this.lock=a.lock||Eu,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:it()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Vv:this.lock=Eu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Tm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cu(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Cu(this.memoryStorage)),it()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Vr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Vr[this.storageKey]=Object.assign(Object.assign({},Vr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Vr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vr[this.storageKey]=Object.assign(Object.assign({},Vr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_m}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=vv(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),it()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),cv(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",o),await this._saveSession(l),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return H(r)?{error:r}:{error:new Cm("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,a;try{const i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:_t}),{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,s,a;try{let i;if("email"in t){const{email:u,password:h,options:m}=t;let x=null,v=null;this.flowType==="pkce"&&([x,v]=await Fr(this.storage,this.storageKey)),i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:x,code_challenge_method:v},xform:_t})}else if("phone"in t){const{phone:u,password:h,options:m}=t;i=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:_t})}else throw new pa("You must provide either an email or phone number and a password");const{data:l,error:o}=i;if(o||!l)return{data:{user:null,session:null},error:o};const c=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:o}=t;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Su})}else if("phone"in t){const{phone:i,password:l,options:o}=t;r=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Su})}else throw new pa("You must provide either an email or phone number and a password");const{data:s,error:a}=r;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ma}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,s,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,s,a,i,l,o,c,d,u,h,m,x;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:k,wallet:g,statement:f,options:p}=t;let b;if(it())if(typeof g=="object")b=g;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))b=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const j=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const N=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),f?{statement:f}:null));let C;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")C=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)C=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),w=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(s=p==null?void 0:p.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((d=p==null?void 0:p.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(u=p==null?void 0:p.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const N=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=N}}try{const{data:k,error:g}=await q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:gv(w)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:_t});if(g)throw g;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new ma}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:g})}catch(k){if(H(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const r=await gr(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(r??"").split("/");try{const{data:i,error:l}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:_t});if(await Kt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ma}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:l})}catch(i){if(H(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:s,token:a,access_token:i,nonce:l}=t,o=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:_t}),{data:c,error:d}=o;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ma}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,s,a,i,l;try{if("email"in t){const{email:o,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Fr(this.storage,this.storageKey));const{error:h}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:c}=t,{data:d,error:u}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new pa("You must provide either an email or phone number.")}catch(o){if(H(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,s;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:l,error:o}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:_t});if(o)throw o;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,d=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,s,a;try{let i=null,l=null;return this.flowType==="pkce"&&([i,l]=await Fr(this.storage,this.storageKey)),await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:l}),headers:this.headers,xform:$v})}catch(i){if(H(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new Ht;const{error:a}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(H(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:i}=t,{error:l}=await q(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:s,type:a,options:i}=t,{data:l,error:o}=await q(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:o}}throw new pa("You must provide either an email or phone number and a type")}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await gr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<hl:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const l=await gr(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=pl()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!l&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Yt}):await this._useSession(async r=>{var s,a,i;const{data:l,error:o}=r;if(o)throw o;return!(!((s=l.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Yt})})}catch(r){if(H(r))return ov(r)&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new Ht;const l=a.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Fr(this.storage,this.storageKey));const{data:d,error:u}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:l.access_token,xform:Yt});if(u)throw u;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ht;const r=Date.now()/1e3;let s=r,a=!0,i=null;const{payload:l}=ml(t.access_token);if(l.exp&&(s=l.exp,a=s<=r),a){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(H(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:l,error:o}=r;if(o)throw o;t=(s=l.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Ht;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!it())throw new ga("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ga(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ga("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vu("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:l,expires_in:o,expires_at:c,token_type:d}=t;if(!i||!o||!l||!d)throw new ga("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(o);let m=u+h;c&&(m=parseInt(c));const x=m-u;x*1e3<=Kr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${h}s`);const v=m-h;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,u);const{data:w,error:k}=await this._getUser(i);if(k)throw k;const g={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:m,refresh_token:l,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(s){if(H(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await gr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return{error:i};const l=(s=a.session)===null||s===void 0?void 0:s.access_token;if(l){const{error:o}=await this.admin.signOut(l,t);if(o&&!(lv(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=yv(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,a;try{const{data:{session:i},error:l}=r;if(l)throw l;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Fr(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(H(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(H(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:s,error:a}=await this._useSession(async i=>{var l,o,c,d,u;const{data:h,error:m}=i;if(m)throw m;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",x,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return it()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(H(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:l}=r;if(l)throw l;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await jv(async a=>(a>0&&await wv(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_t})),(a,i)=>{const l=200*Math.pow(2,a);return i&&fl(i)&&Date.now()+l-s<Kr})}catch(s){if(this._debug(r,"error",s),H(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),it()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await gr(this.storage,this.storageKey);if(a&&this.userStorage){let l=await gr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Hr(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:pl()}else if(a&&!a.user&&!a.user){const l=await gr(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(a.user=l.user,await Kt(this.storage,this.storageKey+"-user"),await Hr(this.storage,this.storageKey,a)):a.user=pl()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<hl;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${hl}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),fl(l)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:o}=await this._getUser(a.access_token);!o&&(l!=null&&l.user)?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(s,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Oi;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new Ht;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),H(i)){const l={session:null,error:i};return fl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(l),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Hr(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=ku(a);await Hr(this.storage,this.storageKey,i)}else{const a=ku(r);await Hr(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Kt(this.storage,this.storageKey),await Kt(this.storage,this.storageKey+"-code-verifier"),await Kt(this.storage,this.storageKey+"-user"),this.userStorage&&await Kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&it()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Kr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/Kr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Kr}ms, refresh threshold is ${jo} ticks`),a<=jo&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Rm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!it()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const a=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,l]=await Fr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(o.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?{data:null,error:i}:await q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,a;const{data:i,error:l}=r;if(l)return{data:null,error:l};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await q(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(H(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:l,error:o}=await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:o})})}catch(r){if(H(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?{data:null,error:i}:await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(H(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=(t==null?void 0:t.factors)||[],a=s.filter(l=>l.factor_type==="totp"&&l.status==="verified"),i=s.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:s,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,s;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=ml(a.access_token);let o=null;l.aal&&(o=l.aal);let c=o;((s=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const u=l.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(o=>o.kid===t);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(o=>o.kid===t),s&&this.jwks_cached_at+av>a)return s;const{data:i,error:l}=await q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,s=i.keys.find(o=>o.kid===t),!s)?null:s}async getClaims(t,r={}){try{let s=t;if(!s){const{data:x,error:v}=await this.getSession();if(v||!x.session)return{data:null,error:v};s=x.session.access_token}const{header:a,payload:i,signature:l,raw:{header:o,payload:c}}=ml(s);r!=null&&r.allowExpired||Tv(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:i,header:a,signature:l},error:null}}const u=Pv(a.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,l,pv(`${o}.${c}`)))throw new _o("Invalid JWT signature");return{data:{claims:i,header:a,signature:l},error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}}}Cn.nextInstanceID=0;const Hv=Cn;class qv extends Hv{constructor(t){super(t)}}var Gv=function(e,t,r,s){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function o(u){try{d(s.next(u))}catch(h){l(h)}}function c(u){try{d(s.throw(u))}catch(h){l(h)}}function d(u){u.done?i(u.value):a(u.value).then(o,c)}d((s=s.apply(e,t||[])).next())})};class Jv{constructor(t,r,s){var a,i,l;this.supabaseUrl=t,this.supabaseKey=r;const o=ev(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:Vy,realtime:Hy,auth:Object.assign(Object.assign({},Ky),{storageKey:c}),global:Wy},u=Zy(s??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=u.auth)!==null&&l!==void 0?l:{},this.headers,u.global.fetch),this.fetch=Qy(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new dy(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Uy(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Bx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},s={}){return this.rest.rpc(t,r,s)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Gv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:i,storageKey:l,flowType:o,lock:c,debug:d},u,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qv({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:l,autoRefreshToken:t,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:i,flowType:o,lock:c,debug:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Cy(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,r,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Qv=(e,t,r)=>new Jv(e,t,r);function Yv(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Yv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xv="https://gdapdajutjvrwexssjfa.supabase.co",Zv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdkYXBkYWp1dGp2cndleHNzamZhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1NjQ1NzIsImV4cCI6MjA3NTE0MDU3Mn0.4YrpjyytcMUAfyC2bQIJhE5zJx5cks66aHeBPA1FKig",$=Qv(Xv,Zv),Am=y.createContext(void 0);function eb({children:e}){const[t,r]=y.useState(null),[s,a]=y.useState(null),[i,l]=y.useState(!0);y.useEffect(()=>{$.auth.getSession().then(({data:{session:h}})=>{r((h==null?void 0:h.user)??null),h!=null&&h.user&&o(h.user.id),l(!1)});const{data:{subscription:u}}=$.auth.onAuthStateChange((h,m)=>{r((m==null?void 0:m.user)??null),m!=null&&m.user?o(m.user.id):a(null)});return()=>u.unsubscribe()},[]);const o=async u=>{const{data:h}=await $.from("users").select("role").eq("id",u).maybeSingle();h&&a(h.role)},c=async(u,h)=>{const{error:m}=await $.auth.signInWithPassword({email:u,password:h});if(m)throw m},d=async()=>{const{error:u}=await $.auth.signOut();if(u)throw u};return n.jsx(Am.Provider,{value:{user:t,userRole:s,loading:i,signIn:c,signOut:d},children:e})}function Oc(){const e=y.useContext(Am);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),M=(e,t)=>{const r=y.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...d},u)=>y.createElement("svg",{ref:u,...tb,width:a,height:a,stroke:s,strokeWidth:l?Number(i)*24/Number(a):i,className:["lucide",`lucide-${rb(e)}`,o].join(" "),...d},[...t.map(([h,m])=>y.createElement(h,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=M("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=M("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=M("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=M("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=M("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=M("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=M("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=M("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=M("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=M("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=M("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=M("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=M("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=M("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=M("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=M("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=M("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=M("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=M("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=M("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=M("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=M("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=M("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=M("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=M("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=M("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=M("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=M("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=M("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=M("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=M("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=M("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=M("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=M("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=M("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=M("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=M("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=M("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=M("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=M("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=M("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=M("MousePointer",[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z",key:"y2ucgo"}],["path",{d:"m13 13 6 6",key:"1nhxnf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=M("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=M("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=M("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=M("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=M("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=M("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=M("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=M("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=M("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=M("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=M("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=M("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=M("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=M("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=M("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=M("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=M("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=M("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=M("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=M("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=M("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=M("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=M("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=M("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=M("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=M("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=M("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=M("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=M("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=M("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=M("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=M("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Au(){const[e,t]=y.useState({totalVisits:0,visitsTrend:0,uniqueVisitors:0,conversionRate:0,conversionTrend:0,totalRevenue:0,revenueTrend:18,newLeads:0,leadsTrend:8,totalOrders:0,avgOrderValue:0,emailCampaigns:0,emailOpenRate:0,socialPosts:0,socialEngagement:0,contentScheduled:0,activeCampaigns:0,websitePages:0,seoKeywords:0,products:0,bounceRate:0}),[r,s]=y.useState({campaigns:{active:0,total:0,performance:0},leads:{total:0,new:0,converted:0},content:{scheduled:0,published:0},email:{campaigns:0,subscribers:0,openRate:0},social:{posts:0,followers:0,engagement:0},website:{pages:0,views:0,sessions:0},ecommerce:{orders:0,revenue:0,products:0},seo:{keywords:0,avgRank:0}}),[a,i]=y.useState([]),[l,o]=y.useState(!0);y.useEffect(()=>{c()},[]);const c=async()=>{try{await Promise.all([d(),u(),h()])}catch(f){console.error("Error fetching dashboard data:",f)}finally{o(!1)}},d=async()=>{var f,p,b,j,N,C,A,F;try{const{data:{user:S}}=await $.auth.getUser();if(!S)return;const[D,R,P,E,z,_,O,T,L,B,W]=await Promise.all([$.from("leads").select("*",{count:"exact"}),$.from("orders").select("total_amount",{count:"exact"}),$.from("campaign_performance").select("clicks, conversions, revenue"),$.from("email_campaigns").select("open_count, sent_count",{count:"exact"}),$.from("social_media_posts").select("engagement, reach",{count:"exact"}),$.from("content_calendar").select("status",{count:"exact"}),$.from("campaigns").select("status",{count:"exact"}),$.from("website_pages").select("page_views",{count:"exact"}),$.from("seo_keywords").select("*",{count:"exact"}),$.from("products").select("*",{count:"exact"}),$.from("website_connections").select("*").eq("user_id",S.id).maybeSingle()]),V=D.count||0,Le=R.count||0,Ne=((f=R.data)==null?void 0:f.reduce((X,de)=>X+Number(de.total_amount),0))||0,nt=Le>0?Ne/Le:0,ve=((p=P.data)==null?void 0:p.reduce((X,de)=>X+(de.clicks||0),0))||0,Q=((b=P.data)==null?void 0:b.reduce((X,de)=>X+(de.conversions||0),0))||0,ke=ve>0?Q/ve*100:0,zr=E.count||0,Ps=((j=E.data)==null?void 0:j.reduce((X,de)=>X+(de.sent_count||0),0))||0,Un=((N=E.data)==null?void 0:N.reduce((X,de)=>X+(de.open_count||0),0))||0,Fn=Ps>0?Un/Ps*100:0,Bn=z.count||0,Wn=((C=z.data)==null?void 0:C.reduce((X,de)=>X+(de.engagement||0),0))||0,Vn=((A=_.data)==null?void 0:A.filter(X=>X.status==="scheduled").length)||0,Kn=((F=O.data)==null?void 0:F.filter(X=>X.status==="active"||X.status==="draft").length)||0,Hn=T.count||0,qn=L.count||0,Gn=B.count||0;let Rs=0,As=0,Os=0;if(W.data){const{data:X}=await $.from("website_analytics").select("*").eq("connection_id",W.data.id).order("date",{ascending:!1}).limit(30);X&&X.length>0&&(Rs=X.reduce((de,Wt)=>de+(Wt.page_views||0),0),As=X.reduce((de,Wt)=>de+(Wt.unique_visitors||0),0),Os=X.reduce((de,Wt)=>de+(Wt.bounce_rate||0),0)/X.length)}t({totalVisits:Rs,visitsTrend:12.5,uniqueVisitors:As,conversionRate:Number(ke.toFixed(2)),conversionTrend:-.5,totalRevenue:Ne,revenueTrend:18,newLeads:V,leadsTrend:8,totalOrders:Le,avgOrderValue:nt,emailCampaigns:zr,emailOpenRate:Number(Fn.toFixed(1)),socialPosts:Bn,socialEngagement:Wn,contentScheduled:Vn,activeCampaigns:Kn,websitePages:Hn,seoKeywords:qn,products:Gn,bounceRate:Number(Os.toFixed(1))})}catch(S){console.error("Error fetching KPI data:",S)}},u=async()=>{var f,p,b,j,N,C,A,F,S,D,R,P,E,z,_,O,T;try{const[L,B,W,V,Le,Ne,nt,ve]=await Promise.all([$.from("campaigns").select("status",{count:"exact"}),$.from("leads").select("status",{count:"exact"}),$.from("content_calendar").select("status",{count:"exact"}),$.from("email_campaigns").select("sent_count, open_count"),$.from("social_media_posts").select("engagement"),$.from("website_pages").select("page_views"),$.from("orders").select("total_amount"),$.from("seo_keywords").select("current_rank")]);s({campaigns:{active:((f=L.data)==null?void 0:f.filter(Q=>Q.status==="active").length)||0,total:L.count||0,performance:85},leads:{total:B.count||0,new:((p=B.data)==null?void 0:p.filter(Q=>Q.status==="new").length)||0,converted:((b=B.data)==null?void 0:b.filter(Q=>Q.status==="converted").length)||0},content:{scheduled:((j=W.data)==null?void 0:j.filter(Q=>Q.status==="scheduled").length)||0,published:((N=W.data)==null?void 0:N.filter(Q=>Q.status==="published").length)||0},email:{campaigns:((C=V.data)==null?void 0:C.length)||0,subscribers:1250,openRate:((A=V.data)==null?void 0:A.reduce((Q,ke)=>{const zr=ke.sent_count>0?ke.open_count/ke.sent_count*100:0;return Q+zr},0))/(((F=V.data)==null?void 0:F.length)||1)||0},social:{posts:((S=Le.data)==null?void 0:S.length)||0,followers:8500,engagement:((D=Le.data)==null?void 0:D.reduce((Q,ke)=>Q+(ke.engagement||0),0))||0},website:{pages:((R=Ne.data)==null?void 0:R.length)||0,views:((P=Ne.data)==null?void 0:P.reduce((Q,ke)=>Q+(ke.page_views||0),0))||0,sessions:12e3},ecommerce:{orders:((E=nt.data)==null?void 0:E.length)||0,revenue:((z=nt.data)==null?void 0:z.reduce((Q,ke)=>Q+Number(ke.total_amount),0))||0,products:0},seo:{keywords:((_=ve.data)==null?void 0:_.length)||0,avgRank:((O=ve.data)==null?void 0:O.reduce((Q,ke)=>Q+(ke.current_rank||0),0))/(((T=ve.data)==null?void 0:T.length)||1)||0}})}catch(L){console.error("Error fetching module metrics:",L)}},h=async()=>{var f,p,b,j,N;try{const C=[],[A,F,S,D,R]=await Promise.all([$.from("leads").select("name, created_at").order("created_at",{ascending:!1}).limit(3),$.from("orders").select("order_number, created_at, total_amount").order("created_at",{ascending:!1}).limit(3),$.from("email_campaigns").select("name, created_at").order("created_at",{ascending:!1}).limit(2),$.from("content_calendar").select("title, created_at").order("created_at",{ascending:!1}).limit(2),$.from("social_media_posts").select("platform, created_at").order("created_at",{ascending:!1}).limit(2)]);(f=A.data)==null||f.forEach(P=>{C.push({action:`New lead: ${P.name}`,time:m(new Date(P.created_at)),type:"lead",module:"Leads"})}),(p=F.data)==null||p.forEach(P=>{C.push({action:`New order ${P.order_number} - PKR ${Number(P.total_amount).toLocaleString()}`,time:m(new Date(P.created_at)),type:"order",module:"E-commerce"})}),(b=S.data)==null||b.forEach(P=>{C.push({action:`Email campaign "${P.name}" created`,time:m(new Date(P.created_at)),type:"email",module:"Email Marketing"})}),(j=D.data)==null||j.forEach(P=>{C.push({action:`Content "${P.title}" scheduled`,time:m(new Date(P.created_at)),type:"content",module:"Content Calendar"})}),(N=R.data)==null||N.forEach(P=>{C.push({action:`${P.platform} post published`,time:m(new Date(P.created_at)),type:"social",module:"Social Media"})}),C.sort((P,E)=>{const z=x(P.time),_=x(E.time);return z-_}),i(C.slice(0,8))}catch(C){console.error("Error fetching recent activities:",C)}},m=f=>{const p=Math.floor((new Date().getTime()-f.getTime())/1e3);if(p<60)return"Just now";const b=Math.floor(p/60);if(b<60)return`${b} minute${b>1?"s":""} ago`;const j=Math.floor(b/60);if(j<24)return`${j} hour${j>1?"s":""} ago`;const N=Math.floor(j/24);return`${N} day${N>1?"s":""} ago`},x=f=>{if(f==="Just now")return 0;const p=f.match(/(\d+)/);if(!p)return 0;const b=parseInt(p[1]);return f.includes("minute")?b:f.includes("hour")?b*60:f.includes("day")?b*1440:0},v=({title:f,value:p,trend:b,icon:j,prefix:N="",suffix:C="",color:A="green"})=>{const F=b>0,S=F?nb:sb,D={green:"bg-green-50 text-green-600",blue:"bg-blue-50 text-blue-600",purple:"bg-purple-50 text-purple-600",orange:"bg-orange-50 text-orange-600",cyan:"bg-cyan-50 text-cyan-600",red:"bg-red-50 text-red-600"};return n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:f}),n.jsx("div",{className:`p-2 rounded-lg ${D[A]}`,children:n.jsx(j,{size:20})})]}),n.jsx("div",{className:"flex items-end justify-between",children:n.jsxs("div",{children:[n.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[N,typeof p=="number"?p.toLocaleString():p,C]}),b!==void 0&&n.jsxs("div",{className:`flex items-center mt-2 text-sm ${F?"text-green-600":"text-red-600"}`,children:[n.jsx(S,{size:16,className:"mr-1"}),n.jsxs("span",{children:[Math.abs(b),"% vs last month"]})]})]})})]})},w=({title:f,metrics:p,icon:b,color:j})=>n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${j}`,children:n.jsx(b,{size:20})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f})]})}),n.jsx("div",{className:"space-y-3",children:p.map((N,C)=>n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:N.label}),n.jsx("span",{className:"text-lg font-bold text-gray-900",children:N.value})]},C))})]}),k=f=>{switch(f){case"lead":return Ke;case"order":return Ze;case"email":return It;case"content":return oe;case"social":return Tn;case"campaign":return or;default:return ai}},g=f=>{switch(f){case"lead":return"bg-blue-500";case"order":return"bg-green-500";case"email":return"bg-purple-500";case"content":return"bg-yellow-500";case"social":return"bg-pink-500";case"campaign":return"bg-orange-500";default:return"bg-gray-500"}};return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Executive Dashboard"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive overview of all your marketing operations"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(v,{title:"Website Visits",value:e.totalVisits,trend:e.visitsTrend,icon:yb,color:"blue"}),n.jsx(v,{title:"Unique Visitors",value:e.uniqueVisitors,trend:5.2,icon:Ke,color:"green"}),n.jsx(v,{title:"Total Revenue",value:e.totalRevenue,trend:e.revenueTrend,icon:ut,prefix:"PKR ",color:"purple"}),n.jsx(v,{title:"Conversion Rate",value:e.conversionRate,trend:e.conversionTrend,icon:Me,suffix:"%",color:"orange"})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(v,{title:"New Leads",value:e.newLeads,trend:e.leadsTrend,icon:or,color:"cyan"}),n.jsx(v,{title:"Total Orders",value:e.totalOrders,trend:15.3,icon:Ze,color:"green"}),n.jsx(v,{title:"Email Open Rate",value:e.emailOpenRate,trend:2.1,icon:It,suffix:"%",color:"purple"}),n.jsx(v,{title:"Bounce Rate",value:e.bounceRate,trend:-3.5,icon:Eb,suffix:"%",color:"red"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsx(w,{title:"Campaigns",icon:or,color:"bg-blue-50 text-blue-600",metrics:[{label:"Active",value:r.campaigns.active},{label:"Total",value:r.campaigns.total},{label:"Performance",value:`${r.campaigns.performance}%`}]}),n.jsx(w,{title:"Leads & CRM",icon:Ke,color:"bg-green-50 text-green-600",metrics:[{label:"Total Leads",value:r.leads.total},{label:"New",value:r.leads.new},{label:"Converted",value:r.leads.converted}]}),n.jsx(w,{title:"Content Calendar",icon:En,color:"bg-purple-50 text-purple-600",metrics:[{label:"Scheduled",value:r.content.scheduled},{label:"Published",value:r.content.published},{label:"Total",value:r.content.scheduled+r.content.published}]}),n.jsx(w,{title:"Email Marketing",icon:It,color:"bg-orange-50 text-orange-600",metrics:[{label:"Campaigns",value:r.email.campaigns},{label:"Subscribers",value:r.email.subscribers.toLocaleString()},{label:"Open Rate",value:`${r.email.openRate.toFixed(1)}%`}]}),n.jsx(w,{title:"Social Media",icon:Tn,color:"bg-pink-50 text-pink-600",metrics:[{label:"Posts",value:r.social.posts},{label:"Followers",value:r.social.followers.toLocaleString()},{label:"Engagement",value:r.social.engagement}]}),n.jsx(w,{title:"Website",icon:Or,color:"bg-cyan-50 text-cyan-600",metrics:[{label:"Pages",value:r.website.pages},{label:"Total Views",value:r.website.views.toLocaleString()},{label:"Sessions",value:r.website.sessions.toLocaleString()}]}),n.jsx(w,{title:"E-commerce",icon:Ze,color:"bg-green-50 text-green-600",metrics:[{label:"Orders",value:r.ecommerce.orders},{label:"Revenue",value:`PKR ${r.ecommerce.revenue.toLocaleString()}`},{label:"Avg Order",value:`PKR ${e.avgOrderValue.toLocaleString()}`}]}),n.jsx(w,{title:"SEO",icon:Rr,color:"bg-yellow-50 text-yellow-600",metrics:[{label:"Keywords",value:r.seo.keywords},{label:"Avg Rank",value:r.seo.avgRank.toFixed(1)},{label:"Organic Traffic",value:"12.5K"}]}),n.jsx(w,{title:"Products",icon:Tt,color:"bg-blue-50 text-blue-600",metrics:[{label:"Total Products",value:e.products},{label:"In Stock",value:e.products},{label:"Categories",value:"8"}]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 p-6 rounded-xl shadow-sm text-white",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(ai,{size:20}),"Quick Stats"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-green-100 text-sm mb-1",children:"Active Campaigns"}),n.jsx("p",{className:"text-3xl font-bold",children:e.activeCampaigns})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-green-100 text-sm mb-1",children:"Content Scheduled"}),n.jsx("p",{className:"text-3xl font-bold",children:e.contentScheduled})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-green-100 text-sm mb-1",children:"Email Campaigns"}),n.jsx("p",{className:"text-3xl font-bold",children:e.emailCampaigns})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-green-100 text-sm mb-1",children:"Social Posts"}),n.jsx("p",{className:"text-3xl font-bold",children:e.socialPosts})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-6 rounded-xl shadow-sm text-white",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Me,{size:20}),"Performance Highlights"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-blue-100",children:"Total Website Pages"}),n.jsx("span",{className:"text-2xl font-bold",children:e.websitePages})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-blue-100",children:"SEO Keywords Tracked"}),n.jsx("span",{className:"text-2xl font-bold",children:e.seoKeywords})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-blue-100",children:"Products Listed"}),n.jsx("span",{className:"text-2xl font-bold",children:e.products})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(ii,{size:20,className:"text-gray-700"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"})]}),n.jsx("div",{className:"space-y-3",children:a.length>0?a.map((f,p)=>{const b=k(f.type);return n.jsxs("div",{className:"flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[n.jsx("div",{className:`p-2 rounded-lg ${g(f.type)} bg-opacity-10 flex-shrink-0`,children:n.jsx(b,{size:16,className:g(f.type).replace("bg-","text-")})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:f.action}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("span",{className:"text-xs text-gray-500",children:f.time}),n.jsx("span",{className:"text-xs text-gray-400",children:""}),n.jsx("span",{className:"text-xs text-gray-500",children:f.module})]})]})]},p)}):n.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No recent activity"})})]})]})}function Ab(){var F,S,D;const[e,t]=y.useState([]),[r,s]=y.useState(!0),[a,i]=y.useState(!1),[l,o]=y.useState(!1),[c,d]=y.useState({url:"",name:"",isConnected:!1}),[u,h]=y.useState({pageViews:0,uniqueVisitors:0,sessions:0,bounceRate:0,avgSessionDuration:0}),[m,x]=y.useState({websiteUrl:"",websiteName:"",platform:"google_analytics",apiKey:"",siteId:""}),[v,w]=y.useState({title:"",slug:"",content:"",meta_title:"",meta_description:"",status:"draft"});y.useEffect(()=>{k(),g()},[]);const k=async()=>{try{const{data:R}=await $.from("website_pages").select("*").order("created_at",{ascending:!1});R&&t(R)}catch(R){console.error("Error fetching pages:",R)}finally{s(!1)}},g=async()=>{try{const{data:{user:R}}=await $.auth.getUser();if(!R)return;const{data:P}=await $.from("website_connections").select("*").eq("user_id",R.id).maybeSingle();P&&(d({id:P.id,url:P.website_url,name:P.website_name,isConnected:P.is_connected,lastSync:P.last_sync,apiKey:P.api_key,platform:P.analytics_platform,siteId:P.site_id}),P.is_connected&&f(P.id))}catch(R){console.error("Error fetching website connection:",R)}},f=async R=>{try{const P=new Date,E=new Date(P);E.setDate(P.getDate()-30);const{data:z}=await $.from("website_analytics").select("*").eq("connection_id",R).gte("date",E.toISOString().split("T")[0]).order("date",{ascending:!1});if(z&&z.length>0){const _=z.reduce((T,L)=>({pageViews:T.pageViews+(L.page_views||0),uniqueVisitors:T.uniqueVisitors+(L.unique_visitors||0),sessions:T.sessions+(L.sessions||0),bounceRate:T.bounceRate+(L.bounce_rate||0),avgSessionDuration:T.avgSessionDuration+(L.avg_session_duration||0)}),{pageViews:0,uniqueVisitors:0,sessions:0,bounceRate:0,avgSessionDuration:0}),O=z[0];h({pageViews:_.pageViews,uniqueVisitors:_.uniqueVisitors,sessions:_.sessions,bounceRate:z.length>0?_.bounceRate/z.length:0,avgSessionDuration:z.length>0?Math.round(_.avgSessionDuration/z.length):0,topPages:O.top_pages||[],trafficSources:O.traffic_sources||[]})}}catch(P){console.error("Error fetching analytics:",P)}},p=async()=>{try{const{data:{user:R}}=await $.auth.getUser();if(!R)throw new Error("User not authenticated");const{data:P,error:E}=await $.from("website_connections").insert({user_id:R.id,website_url:m.websiteUrl,website_name:m.websiteName,analytics_platform:m.platform,api_key:m.apiKey,site_id:m.siteId,is_connected:!0,last_sync:new Date().toISOString()}).select().single();if(E)throw E;d({id:P.id,url:P.website_url,name:P.website_name,isConnected:!0,lastSync:P.last_sync,apiKey:P.api_key,platform:P.analytics_platform,siteId:P.site_id}),await b(P.id),o(!1),x({websiteUrl:"",websiteName:"",platform:"google_analytics",apiKey:"",siteId:""}),alert("Website connected successfully! Sample analytics data has been generated."),g()}catch(R){console.error("Error connecting website:",R),alert(R.message||"Failed to connect website. Please try again.")}},b=async R=>{const P=[],E=new Date;for(let z=0;z<30;z++){const _=new Date(E);_.setDate(E.getDate()-z);const O=1e3+Math.floor(Math.random()*2e3);P.push({connection_id:R,date:_.toISOString().split("T")[0],page_views:O,unique_visitors:Math.floor(O*.6),sessions:Math.floor(O*.7),bounce_rate:35+Math.random()*25,avg_session_duration:120+Math.floor(Math.random()*180),new_visitors:Math.floor(O*.4),returning_visitors:Math.floor(O*.2),top_pages:[{page:"/",views:Math.floor(O*.3)},{page:"/about",views:Math.floor(O*.15)},{page:"/products",views:Math.floor(O*.2)},{page:"/contact",views:Math.floor(O*.1)},{page:"/blog",views:Math.floor(O*.15)}],traffic_sources:[{source:"Organic Search",visits:Math.floor(O*.45)},{source:"Direct",visits:Math.floor(O*.25)},{source:"Social Media",visits:Math.floor(O*.15)},{source:"Referral",visits:Math.floor(O*.1)},{source:"Email",visits:Math.floor(O*.05)}],device_breakdown:{desktop:Math.floor(O*.6),mobile:Math.floor(O*.35),tablet:Math.floor(O*.05)}})}await $.from("website_analytics").insert(P)},j=async()=>{if(c.id)try{await f(c.id),await $.from("website_connections").update({last_sync:new Date().toISOString()}).eq("id",c.id),d(R=>({...R,lastSync:new Date().toISOString()})),alert("Analytics synced successfully!")}catch(R){console.error("Error syncing analytics:",R),alert("Failed to sync analytics. Please try again.")}},N=async R=>{R.preventDefault();try{const{error:P}=await $.from("website_pages").insert([v]);if(P)throw P;alert("Page created successfully!"),i(!1),w({title:"",slug:"",content:"",meta_title:"",meta_description:"",status:"draft"}),k()}catch(P){console.error("Error creating page:",P),alert(P.message||"Failed to create page. Please try again.")}},C=async R=>{if(confirm("Are you sure you want to delete this page?"))try{const{error:P}=await $.from("website_pages").delete().eq("id",R);if(P)throw P;alert("Page deleted successfully!"),k()}catch(P){console.error("Error deleting page:",P),alert("Failed to delete page. Please try again.")}},A=R=>{const P=Math.floor(R/60),E=R%60;return`${P}m ${E}s`};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Website Management"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor your website analytics and manage pages"})]}),n.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(mt,{size:20,className:"mr-2"}),"New Page"]})]}),n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:n.jsx(Or,{size:32,className:"text-blue-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Website Connection"}),n.jsx("p",{className:"text-sm text-gray-700",children:"Connect your website to view live analytics and traffic data"})]}),c.isConnected&&n.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700",children:[n.jsx(Pb,{size:14,className:"mr-1"}),"Connected"]})]}),c.isConnected?n.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Co,{size:20,className:"text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:c.name}),n.jsx("p",{className:"text-xs text-gray-600",children:c.url}),c.lastSync&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last synced: ",new Date(c.lastSync).toLocaleString()]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[n.jsx(ai,{size:14}),"Sync"]}),n.jsxs("button",{onClick:()=>window.open(c.url,"_blank"),className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[n.jsx(Lt,{size:14}),"Visit"]})]})]}),n.jsx("div",{className:"pt-3 border-t border-gray-200",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[n.jsx("span",{className:"px-2 py-1 bg-blue-50 rounded",children:(F=c.platform)==null?void 0:F.replace("_"," ").toUpperCase()}),c.siteId&&n.jsxs("span",{className:"px-2 py-1 bg-gray-100 rounded",children:["Site ID: ",c.siteId]})]})})]}):n.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Co,{size:16}),"Connect Website"]})]})]})}),c.isConnected&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Rr,{size:20,className:"text-gray-700"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Analytics Overview (Last 30 Days)"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[n.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Ar,{size:20,className:"text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Page Views"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.pageViews.toLocaleString()})]})]})}),n.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(Ke,{size:20,className:"text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Unique Visitors"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.uniqueVisitors.toLocaleString()})]})]})}),n.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(Ic,{size:20,className:"text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Sessions"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.sessions.toLocaleString()})]})]})}),n.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(Me,{size:20,className:"text-orange-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Bounce Rate"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[u.bounceRate.toFixed(1),"%"]})]})]})}),n.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-cyan-100 rounded-lg",children:n.jsx(ai,{size:20,className:"text-cyan-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Avg. Duration"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A(u.avgSessionDuration)})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Top Pages"}),n.jsx("div",{className:"space-y-3",children:(S=u.topPages)==null?void 0:S.map((R,P)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-xs font-medium text-gray-500 w-6",children:P+1}),n.jsx("span",{className:"text-sm text-gray-900",children:R.page})]}),n.jsx("span",{className:"text-sm font-semibold text-blue-600",children:R.views.toLocaleString()})]},P))})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Traffic Sources"}),n.jsx("div",{className:"space-y-3",children:(D=u.trafficSources)==null?void 0:D.map((R,P)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-900",children:R.source}),n.jsx("span",{className:"text-sm font-semibold text-green-600",children:R.visits.toLocaleString()})]},P))})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Total Pages"}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Published"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.filter(R=>R.status==="published").length})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Draft"}),n.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:e.filter(R=>R.status==="draft").length})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Website Pages"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Page"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Views"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"Loading..."})}):e.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"No pages found"})}):e.map(R=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.title}),n.jsxs("div",{className:"text-sm text-gray-500",children:["/",R.slug]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${R.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:R.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:R.page_views||0}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(R.updated_at).toLocaleDateString()}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[c.isConnected&&n.jsx("button",{onClick:()=>window.open(`${c.url}/${R.slug}`,"_blank"),className:"text-gray-600 hover:text-gray-900 mr-3",children:n.jsx(Ar,{size:16})}),n.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:n.jsx(ws,{size:16})}),n.jsx("button",{onClick:()=>C(R.id),className:"text-red-600 hover:text-red-900",children:n.jsx(ci,{size:16})})]})]},R.id))})]})})]}),l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(Or,{size:24,className:"text-blue-600"}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Connect Your Website"})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Enter your website details to track analytics and traffic"})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website Name *"}),n.jsx("input",{type:"text",value:m.websiteName,onChange:R=>x({...m,websiteName:R.target.value}),placeholder:"My Business Website",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website URL *"}),n.jsx("input",{type:"url",value:m.websiteUrl,onChange:R=>x({...m,websiteUrl:R.target.value}),placeholder:"https://yourwebsite.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Analytics Platform"}),n.jsxs("select",{value:m.platform,onChange:R=>x({...m,platform:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"google_analytics",children:"Google Analytics"}),n.jsx("option",{value:"plausible",children:"Plausible"}),n.jsx("option",{value:"matomo",children:"Matomo"}),n.jsx("option",{value:"custom",children:"Custom"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site ID / Property ID"}),n.jsx("input",{type:"text",value:m.siteId,onChange:R=>x({...m,siteId:R.target.value}),placeholder:"UA-XXXXXXXXX-X or G-XXXXXXXXXX",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key (Optional)"}),n.jsx("input",{type:"password",value:m.apiKey,onChange:R=>x({...m,apiKey:R.target.value}),placeholder:"Enter your analytics API key",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex gap-3",children:[n.jsx(us,{size:20,className:"text-blue-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-gray-700",children:[n.jsx("p",{className:"font-medium text-gray-900 mb-1",children:"Sample Data"}),n.jsx("p",{children:"We'll generate sample analytics data for demonstration. Connect your real analytics API for live data."})]})]})]}),n.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-200 flex gap-3",children:[n.jsx("button",{onClick:()=>{o(!1),x({websiteUrl:"",websiteName:"",platform:"google_analytics",apiKey:"",siteId:""})},className:"flex-1 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:p,disabled:!m.websiteUrl.trim()||!m.websiteName.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Connect"})]})]})}),a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full my-8",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(mt,{size:24,className:"text-green-600"}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Create New Page"})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Add a new page to your website"})]}),n.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Page Title *"}),n.jsx("input",{type:"text",value:v.title,onChange:R=>w({...v,title:R.target.value}),placeholder:"About Us",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL Slug *"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-gray-500 text-sm mr-2",children:"/"}),n.jsx("input",{type:"text",value:v.slug,onChange:R=>w({...v,slug:R.target.value.toLowerCase().replace(/\s+/g,"-")}),placeholder:"about-us",required:!0,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Page Content"}),n.jsx("textarea",{value:v.content,onChange:R=>w({...v,content:R.target.value}),placeholder:"Enter your page content here...",rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Title"}),n.jsx("input",{type:"text",value:v.meta_title,onChange:R=>w({...v,meta_title:R.target.value}),placeholder:"SEO title",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{value:v.status,onChange:R=>w({...v,status:R.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[n.jsx("option",{value:"draft",children:"Draft"}),n.jsx("option",{value:"published",children:"Published"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description"}),n.jsx("textarea",{value:v.meta_description,onChange:R=>w({...v,meta_description:R.target.value}),placeholder:"SEO description",rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),n.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-200 flex gap-3",children:[n.jsx("button",{type:"button",onClick:()=>{i(!1),w({title:"",slug:"",content:"",meta_title:"",meta_description:"",status:"draft"})},className:"flex-1 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:N,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Create Page"})]})]})})]})}function Ob(){const e=[{keyword:"organic mangoes pakistan",rank:3,volume:1200,difficulty:45},{keyword:"fresh farm vegetables",rank:5,volume:890,difficulty:38},{keyword:"stem n root farm",rank:1,volume:450,difficulty:25},{keyword:"sustainable farming",rank:8,volume:2100,difficulty:62}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"SEO Management"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Track keywords and optimize search rankings"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Tracked Keywords",value:e.length,color:"blue"},{label:"Avg Rank",value:"4.3",color:"green"},{label:"Top 10 Keywords",value:"12",color:"purple"},{label:"Backlinks",value:"245",color:"orange"}].map((t,r)=>n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:t.label}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t.value})]},r))}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Keyword Rankings"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Keyword"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Rank"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Search Volume"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Difficulty"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map((t,r)=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-4 text-sm font-medium text-gray-900",children:t.keyword}),n.jsx("td",{className:"px-4 py-4 text-sm",children:n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.rank<=3?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:["#",t.rank]})}),n.jsxs("td",{className:"px-4 py-4 text-sm text-gray-900",children:[t.volume.toLocaleString(),"/mo"]}),n.jsxs("td",{className:"px-4 py-4 text-sm text-gray-900",children:[t.difficulty,"/100"]}),n.jsx("td",{className:"px-4 py-4 text-sm",children:n.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:n.jsx(Lt,{size:16})})})]},r))})]})})]})]})}function Lb({isOpen:e,onClose:t,onSuccess:r}){const[s,a]=y.useState("Facebook"),[i,l]=y.useState(""),[o,c]=y.useState(""),[d,u]=y.useState([]),[h,m]=y.useState(null),[x,v]=y.useState(!1),[w,k]=y.useState("");if(!e)return null;const g=async j=>{j.preventDefault(),k(""),v(!0);try{const{error:N}=await $.from("social_media_posts").insert({platform:s,post_text:i,status:o?"scheduled":"draft",scheduled_time:o||null,media_urls:d.length>0?d:null});if(N)throw N;r(),f()}catch(N){k(N.message||"Failed to create post")}finally{v(!1)}},f=()=>{a("Facebook"),l(""),c(""),u([]),m(null),k(""),t()},p=j=>{const N=document.createElement("input");N.type="file",N.accept=j==="image"?"image/*":j==="video"?"video/*":"*/*",N.multiple=!0,N.onchange=C=>{const A=C.target.files;if(A){const F=Array.from(A).map(S=>URL.createObjectURL(S));u(S=>[...S,...F]),m(j)}},N.click()},b=j=>{u(N=>N.filter((C,A)=>A!==j)),d.length===1&&m(null)};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Post"}),n.jsx("button",{onClick:f,className:"text-gray-400 hover:text-gray-600",children:n.jsx(gt,{size:24})})]}),n.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[w&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:w}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform"}),n.jsxs("select",{value:s,onChange:j=>a(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"Facebook",children:"Facebook"}),n.jsx("option",{value:"Instagram",children:"Instagram"}),n.jsx("option",{value:"Twitter",children:"Twitter"}),n.jsx("option",{value:"TikTok",children:"TikTok"}),n.jsx("option",{value:"LinkedIn",children:"LinkedIn"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Post Content"}),n.jsx("textarea",{value:i,onChange:j=>l(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:6,required:!0,placeholder:"What would you like to share?"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Media Attachments"}),n.jsxs("div",{className:"flex gap-2 mb-3",children:[n.jsxs("button",{type:"button",onClick:()=>p("image"),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(Lc,{size:18}),"Image"]}),n.jsxs("button",{type:"button",onClick:()=>p("video"),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(Li,{size:18}),"Video"]}),n.jsxs("button",{type:"button",onClick:()=>p("file"),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(vb,{size:18}),"File"]})]}),d.length>0&&n.jsx("div",{className:"grid grid-cols-3 gap-2",children:d.map((j,N)=>n.jsxs("div",{className:"relative group",children:[h==="image"?n.jsx("img",{src:j,alt:"Preview",className:"w-full h-24 object-cover rounded-lg"}):h==="video"?n.jsx("video",{src:j,className:"w-full h-24 object-cover rounded-lg"}):n.jsx("div",{className:"w-full h-24 bg-gray-100 rounded-lg flex items-center justify-center",children:n.jsx(oe,{size:24,className:"text-gray-400"})}),n.jsx("button",{type:"button",onClick:()=>b(N),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(gt,{size:14})})]},N))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule Time (Optional)"}),n.jsx("input",{type:"datetime-local",value:o,onChange:j=>c(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:f,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:x,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:x?"Creating...":"Create Post"})]})]})]})})}function Ib(){const[e,t]=y.useState([]),[r,s]=y.useState(!0),[a,i]=y.useState(!1);y.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:c}=await $.from("social_media_posts").select("*").order("created_at",{ascending:!1}).limit(10);c&&t(c)}catch(c){console.error("Error fetching posts:",c)}finally{s(!1)}},o=[{name:"Facebook",icon:hb,followers:"3.2K",engagement:"4.5%",color:"blue"},{name:"Instagram",icon:mb,followers:"5.1K",engagement:"6.2%",color:"pink"},{name:"Twitter",icon:Tb,followers:"1.8K",engagement:"3.1%",color:"sky"},{name:"TikTok",icon:Li,followers:"12.5K",engagement:"8.7%",color:"slate"},{name:"YouTube",icon:Rb,followers:"850",engagement:"5.8%",color:"red"}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Social Media Marketing"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your social media presence"})]}),n.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(mt,{size:20,className:"mr-2"}),"New Post"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:o.map(c=>{const d=c.icon;return n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx(d,{size:24,className:`text-${c.color}-500`}),n.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Connected"})]}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c.name}),n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Followers"}),n.jsx("span",{className:"font-semibold",children:c.followers})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Engagement"}),n.jsx("span",{className:"font-semibold",children:c.engagement})]})]})]},c.name)})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Posts"})}),n.jsx("div",{className:"divide-y divide-gray-200",children:r?n.jsx("div",{className:"p-6 text-center text-gray-500",children:"Loading..."}):e.length===0?n.jsx("div",{className:"p-6 text-center text-gray-500",children:"No posts found"}):e.map(c=>{var d;return n.jsx("div",{className:"p-6 hover:bg-gray-50",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:c.platform}),n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:c.status})]}),n.jsxs("p",{className:"text-gray-900 mb-2",children:[(d=c.post_text)==null?void 0:d.substring(0,150),"..."]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[n.jsxs("span",{children:["Reach: ",c.reach||0]}),n.jsxs("span",{children:["Likes: ",c.likes||0]}),n.jsxs("span",{children:["Comments: ",c.comments||0]}),n.jsxs("span",{children:["Shares: ",c.shares||0]})]})]}),n.jsx("div",{className:"ml-4 text-right",children:n.jsx("p",{className:"text-sm text-gray-500",children:c.published_time?new Date(c.published_time).toLocaleDateString():"Scheduled"})})]})},c.id)})})]}),n.jsx(Lb,{isOpen:a,onClose:()=>i(!1),onSuccess:l})]})}function $b(){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Website traffic and user behavior analytics"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Page Views",value:"45.2K",icon:Or,trend:"+12%"},{label:"Unique Visitors",value:"12.8K",icon:Ke,trend:"+8%"},{label:"Bounce Rate",value:"42%",icon:Me,trend:"-3%"},{label:"Avg Session",value:"3m 24s",icon:Rr,trend:"+15%"}].map((e,t)=>{const r=e.icon;return n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:e.label}),n.jsx(r,{size:20,className:"text-green-600"})]}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.value}),n.jsx("p",{className:"text-sm text-green-600 mt-2",children:e.trend})]},t)})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Traffic Sources"}),n.jsx("div",{className:"space-y-3",children:[{source:"Organic Search",value:"45%",color:"green"},{source:"Direct",value:"25%",color:"blue"},{source:"Social Media",value:"20%",color:"purple"},{source:"Referral",value:"10%",color:"orange"}].map((e,t)=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-600",children:e.source}),n.jsx("span",{className:"font-semibold",children:e.value})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`bg-${e.color}-500 h-2 rounded-full`,style:{width:e.value}})})]},t))})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Pages"}),n.jsx("div",{className:"space-y-3",children:[{page:"/products/mangoes",views:8945,percent:18.5},{page:"/about",views:6234,percent:12.9},{page:"/blog/organic-farming",views:4567,percent:9.4},{page:"/contact",views:3892,percent:8.1}].map((e,t)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.page}),n.jsxs("p",{className:"text-xs text-gray-500",children:[e.views.toLocaleString()," views"]})]}),n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[e.percent,"%"]})]},t))})]})]})]})}const Ou=[{id:"newsletter",name:"Newsletter",preview:"Modern newsletter layout with header, content sections, and footer",html:`
      <div style="max-width: 600px; margin: 0 auto; font-family: Arial, sans-serif;">
        <div style="background: #16a34a; color: white; padding: 20px; text-align: center;">
          <h1 style="margin: 0;">{{COMPANY_NAME}}</h1>
        </div>
        <div style="padding: 30px; background: #f9fafb;">
          <h2 style="color: #111827;">{{SUBJECT}}</h2>
          <p style="color: #4b5563; line-height: 1.6;">{{CONTENT}}</p>
        </div>
        <div style="background: #e5e7eb; padding: 20px; text-align: center; font-size: 12px; color: #6b7280;">
          <p> {{YEAR}} {{COMPANY_NAME}}. All rights reserved.</p>
        </div>
      </div>
    `},{id:"promotion",name:"Promotional",preview:"Eye-catching promo template with call-to-action button",html:`
      <div style="max-width: 600px; margin: 0 auto; font-family: Arial, sans-serif; background: #ffffff;">
        <div style="padding: 40px; text-align: center;">
          <h1 style="color: #16a34a; font-size: 32px; margin: 0 0 20px 0;">{{SUBJECT}}</h1>
          <p style="color: #4b5563; font-size: 16px; line-height: 1.6; margin: 0 0 30px 0;">{{CONTENT}}</p>
          <a href="{{CTA_LINK}}" style="display: inline-block; background: #16a34a; color: white; padding: 15px 40px; text-decoration: none; border-radius: 5px; font-weight: bold;">{{CTA_TEXT}}</a>
        </div>
      </div>
    `},{id:"simple",name:"Simple Text",preview:"Clean, minimal text-based template",html:`
      <div style="max-width: 600px; margin: 0 auto; font-family: Arial, sans-serif; padding: 40px; background: #ffffff;">
        <h2 style="color: #111827; margin: 0 0 20px 0;">{{SUBJECT}}</h2>
        <div style="color: #4b5563; line-height: 1.8;">{{CONTENT}}</div>
        <hr style="margin: 30px 0; border: none; border-top: 1px solid #e5e7eb;">
        <p style="color: #9ca3af; font-size: 12px;">{{COMPANY_NAME}}</p>
      </div>
    `},{id:"announcement",name:"Announcement",preview:"Bold announcement template with large heading",html:`
      <div style="max-width: 600px; margin: 0 auto; font-family: Arial, sans-serif;">
        <div style="background: linear-gradient(135deg, #16a34a 0%, #15803d 100%); padding: 60px 40px; text-align: center;">
          <h1 style="color: white; font-size: 36px; margin: 0;">{{SUBJECT}}</h1>
        </div>
        <div style="padding: 40px; background: #ffffff;">
          <p style="color: #4b5563; font-size: 16px; line-height: 1.8;">{{CONTENT}}</p>
        </div>
      </div>
    `}];function Mb({isOpen:e,onClose:t,onSuccess:r}){const[s,a]=y.useState(""),[i,l]=y.useState(""),[o,c]=y.useState(""),[d,u]=y.useState(""),[h,m]=y.useState(""),[x,v]=y.useState(""),[w,k]=y.useState(""),[g,f]=y.useState(!1),[p,b]=y.useState(!1),[j,N]=y.useState(""),[C,A]=y.useState("details");if(!e)return null;const F=async P=>{P.preventDefault(),N(""),b(!0);try{let E=o;if(d){const O=Ou.find(T=>T.id===d);O&&(E=O.html.replace(/{{SUBJECT}}/g,s).replace(/{{CONTENT}}/g,o).replace(/{{COMPANY_NAME}}/g,"Your Company").replace(/{{YEAR}}/g,new Date().getFullYear().toString()).replace(/{{CTA_TEXT}}/g,"Learn More").replace(/{{CTA_LINK}}/g,"#"))}const z={name:s,subject:s,preview_text:i,body_html:E,status:h?"scheduled":"draft",scheduled_time:h||null};g&&(z.mailchimp_api_key=x,z.mailchimp_list_id=w);const{error:_}=await $.from("email_campaigns").insert(z);if(_)throw _;r(),S()}catch(E){N(E.message||"Failed to create email campaign")}finally{b(!1)}},S=()=>{a(""),l(""),c(""),u(""),m(""),v(""),k(""),f(!1),A("details"),N(""),t()},D=()=>{switch(C){case"details":return n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Name / Subject Line"}),n.jsx("input",{type:"text",value:s,onChange:P=>a(P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,placeholder:"e.g., Fresh Organic Produce Available Now"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview Text"}),n.jsx("input",{type:"text",value:i,onChange:P=>l(P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"This appears in inbox preview"})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:S,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"button",onClick:()=>A("template"),disabled:!s,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:"Next: Choose Template"})]})]});case"template":return n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Choose Email Template"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ou.map(P=>n.jsx("button",{type:"button",onClick:()=>u(P.id),className:`p-4 border-2 rounded-lg text-left transition-all ${d===P.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[n.jsx(oe,{size:20,className:"text-green-600 flex-shrink-0 mt-1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:P.name}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:P.preview})]})]})},P.id))})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>A("details"),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Back"}),n.jsx("button",{type:"button",onClick:()=>A("content"),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Next: Add Content"})]})]});case"content":return n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Content"}),n.jsx("textarea",{value:o,onChange:P=>c(P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:8,required:!0,placeholder:"Enter your email content here. If you selected a template, this will be automatically formatted."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule Time (Optional)"}),n.jsx("input",{type:"datetime-local",value:h,onChange:P=>m(P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Leave empty to save as draft"})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>A("template"),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Back"}),n.jsx("button",{type:"button",onClick:()=>A("integration"),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Next: Integration"})]})]});case"integration":return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(It,{size:20,className:"text-blue-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Mailchimp Integration"}),n.jsx("p",{className:"text-sm text-blue-700",children:"Connect with Mailchimp to send campaigns to your audience. You'll need your API key and List ID."})]})]})}),n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("input",{type:"checkbox",id:"useMailchimp",checked:g,onChange:P=>f(P.target.checked),className:"w-4 h-4 text-green-600 rounded focus:ring-green-500"}),n.jsx("label",{htmlFor:"useMailchimp",className:"ml-2 text-sm font-medium text-gray-700",children:"Enable Mailchimp Integration"})]}),g&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mailchimp API Key"}),n.jsx("input",{type:"password",value:x,onChange:P=>v(P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter your Mailchimp API key"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:n.jsx("a",{href:"https://mailchimp.com/help/about-api-keys/",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700",children:"Where to find your API key"})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Audience/List ID"}),n.jsx("input",{type:"text",value:w,onChange:P=>k(P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter your Mailchimp List ID"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:n.jsx("a",{href:"https://mailchimp.com/help/find-audience-id/",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700",children:"How to find your List ID"})})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>A("content"),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Back"}),n.jsx("button",{type:"submit",disabled:p||g&&(!x||!w),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:p?"Creating...":"Create Campaign"})]})]})}},R=()=>{switch(C){case"details":return"Campaign Details";case"template":return"Choose Template";case"content":return"Email Content";case"integration":return"Integration Settings";default:return"Create Email Campaign"}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:R()}),n.jsx("div",{className:"flex items-center gap-2 mt-2",children:["details","template","content","integration"].map((P,E)=>n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${C===P?"bg-green-600 text-white":["details","template","content","integration"].indexOf(C)>E?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,children:E+1}),E<3&&n.jsx("div",{className:`w-8 h-0.5 ${["details","template","content","integration"].indexOf(C)>E?"bg-green-600":"bg-gray-200"}`})]},P))})]}),n.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600",children:n.jsx(gt,{size:24})})]}),n.jsxs("form",{onSubmit:F,className:"p-6 space-y-4",children:[j&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:j}),D()]})]})})}function zb(){const[e,t]=y.useState([]),[r,s]=y.useState([]),[a,i]=y.useState(!0),[l,o]=y.useState(!1);y.useEffect(()=>{c()},[]);const c=async()=>{try{const[x,v]=await Promise.all([$.from("email_campaigns").select("*").order("created_at",{ascending:!1}),$.from("email_subscribers").select("*",{count:"exact"})]);x.data&&t(x.data),v.data&&s(v.data)}catch(x){console.error("Error fetching email data:",x)}finally{i(!1)}},d=x=>({sent:"bg-green-100 text-green-800",scheduled:"bg-blue-100 text-blue-800",draft:"bg-gray-100 text-gray-800",sending:"bg-yellow-100 text-yellow-800"})[x]||"bg-gray-100 text-gray-800",u=e.filter(x=>x.status==="sent").reduce((x,v)=>x+(v.sent_count||0),0),h=e.filter(x=>x.status==="sent").reduce((x,v)=>x+(v.open_rate||0),0)/Math.max(e.filter(x=>x.status==="sent").length,1),m=e.filter(x=>x.status==="sent").reduce((x,v)=>x+(v.click_rate||0),0)/Math.max(e.filter(x=>x.status==="sent").length,1);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Email Marketing"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage email campaigns"})]}),n.jsxs("button",{onClick:()=>o(!0),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(mt,{size:20,className:"mr-2"}),"New Campaign"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Total Subscribers",value:r.length,icon:Ke},{label:"Emails Sent",value:u.toLocaleString(),icon:Sb},{label:"Avg Open Rate",value:`${h.toFixed(1)}%`,icon:It},{label:"Avg Click Rate",value:`${m.toFixed(1)}%`,icon:So}].map((x,v)=>{const w=x.icon;return n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:x.label}),n.jsx(w,{size:20,className:"text-green-600"})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.value})]},v)})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Email Campaigns"})}),n.jsx("div",{className:"divide-y divide-gray-200",children:a?n.jsx("div",{className:"p-6 text-center text-gray-500",children:"Loading..."}):e.length===0?n.jsx("div",{className:"p-6 text-center text-gray-500",children:"No campaigns found"}):e.map(x=>{var v,w,k;return n.jsx("div",{className:"p-6 hover:bg-gray-50",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:x.subject}),n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d(x.status)}`,children:x.status})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:x.preview_text}),x.status==="sent"&&n.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[n.jsxs("span",{children:["Sent: ",(v=x.sent_count)==null?void 0:v.toLocaleString()]}),n.jsxs("span",{children:["Opens: ",(w=x.open_rate)==null?void 0:w.toFixed(1),"%"]}),n.jsxs("span",{children:["Clicks: ",(k=x.click_rate)==null?void 0:k.toFixed(1),"%"]}),n.jsxs("span",{children:["Unsubscribes: ",x.unsubscribe_count||0]})]}),x.status==="scheduled"&&x.scheduled_time&&n.jsxs("p",{className:"text-sm text-gray-500",children:["Scheduled for: ",new Date(x.scheduled_time).toLocaleString()]})]}),n.jsx("div",{className:"ml-4 text-right",children:n.jsx("p",{className:"text-sm text-gray-500",children:new Date(x.created_at).toLocaleDateString()})})]})},x.id)})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Campaigns"}),n.jsx("div",{className:"space-y-3",children:e.filter(x=>x.status==="sent").sort((x,v)=>(v.open_rate||0)-(x.open_rate||0)).slice(0,5).map(x=>{var v,w;return n.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x.subject}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(x.created_at).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[n.jsxs("span",{className:"text-gray-600",children:["Opens: ",n.jsxs("strong",{children:[(v=x.open_rate)==null?void 0:v.toFixed(1),"%"]})]}),n.jsxs("span",{className:"text-gray-600",children:["Clicks: ",n.jsxs("strong",{children:[(w=x.click_rate)==null?void 0:w.toFixed(1),"%"]})]})]})]},x.id)})})]}),n.jsx(Mb,{isOpen:l,onClose:()=>o(!1),onSuccess:c})]})}function Db({isOpen:e,onClose:t,onSuccess:r}){const[s,a]=y.useState(""),[i,l]=y.useState("Facebook"),[o,c]=y.useState("Awareness"),[d,u]=y.useState(""),[h,m]=y.useState(""),[x,v]=y.useState(""),[w,k]=y.useState(!1),[g,f]=y.useState("");if(!e)return null;const p=async j=>{j.preventDefault(),f(""),k(!0);try{const{error:N}=await $.from("campaigns").insert({name:s,channel:i,objective:o,budget:parseFloat(d),status:"draft",start_date:h,end_date:x||null});if(N)throw N;r(),b()}catch(N){f(N.message||"Failed to create campaign")}finally{k(!1)}},b=()=>{a(""),l("Facebook"),c("Awareness"),u(""),m(""),v(""),f(""),t()};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Campaign"}),n.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600",children:n.jsx(gt,{size:24})})]}),n.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[g&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:g}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Campaign Name"}),n.jsx("input",{type:"text",value:s,onChange:j=>a(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,placeholder:"e.g., Summer Harvest Sale"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Channel"}),n.jsxs("select",{value:i,onChange:j=>l(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"Facebook",children:"Facebook"}),n.jsx("option",{value:"Instagram",children:"Instagram"}),n.jsx("option",{value:"Google Ads",children:"Google Ads"}),n.jsx("option",{value:"Email",children:"Email"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Objective"}),n.jsxs("select",{value:o,onChange:j=>c(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"Awareness",children:"Awareness"}),n.jsx("option",{value:"Traffic",children:"Traffic"}),n.jsx("option",{value:"Engagement",children:"Engagement"}),n.jsx("option",{value:"Leads",children:"Leads"}),n.jsx("option",{value:"Sales",children:"Sales"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget (PKR)"}),n.jsx("input",{type:"number",value:d,onChange:j=>u(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,min:"0",step:"100",placeholder:"e.g., 10000"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),n.jsx("input",{type:"date",value:h,onChange:j=>m(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date (Optional)"}),n.jsx("input",{type:"date",value:x,onChange:j=>v(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:b,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:w,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:w?"Creating...":"Create Campaign"})]})]})]})})}function Ub(){const[e,t]=y.useState([]),[r,s]=y.useState({}),[a,i]=y.useState(!0),[l,o]=y.useState(!1),[c,d]=y.useState("all"),[u,h]=y.useState("all");y.useEffect(()=>{m()},[]);const m=async()=>{try{const[E,z]=await Promise.all([$.from("campaigns").select("*").order("start_date",{ascending:!1}),$.from("campaign_performance").select("*")]);if(E.data&&t(E.data),z.data){const _={};z.data.forEach(O=>{_[O.campaign_id]||(_[O.campaign_id]={campaign_id:O.campaign_id,impressions:0,clicks:0,conversions:0,revenue:0,ctr:0,cpc:0,cpa:0,roas:0}),_[O.campaign_id].impressions+=O.impressions||0,_[O.campaign_id].clicks+=O.clicks||0,_[O.campaign_id].conversions+=O.conversions||0,_[O.campaign_id].revenue+=O.revenue||0}),Object.keys(_).forEach(O=>{var W;const T=_[O];T.ctr=T.impressions>0?T.clicks/T.impressions*100:0;const L=(W=E.data)==null?void 0:W.find(V=>V.id===O),B=(L==null?void 0:L.spent)||0;T.cpc=T.clicks>0?B/T.clicks:0,T.cpa=T.conversions>0?B/T.conversions:0,T.roas=B>0?T.revenue/B*100:0}),s(_)}}catch(E){console.error("Error fetching campaigns:",E)}finally{i(!1)}},x=async E=>{try{await $.from("campaigns").update({status:"paused"}).eq("id",E),m()}catch(z){console.error("Error pausing campaign:",z)}},v=async E=>{try{await $.from("campaigns").update({status:"active"}).eq("id",E),m()}catch(z){console.error("Error resuming campaign:",z)}},w=async E=>{if(confirm("Are you sure you want to delete this campaign?"))try{await $.from("campaigns").delete().eq("id",E),m()}catch(z){console.error("Error deleting campaign:",z)}},k=async E=>{try{const z={...E,name:`${E.name} (Copy)`,status:"draft",id:void 0,created_at:void 0};await $.from("campaigns").insert([z]),m(),alert("Campaign duplicated successfully!")}catch(z){console.error("Error duplicating campaign:",z)}},g=E=>({Facebook:"bg-blue-100 text-blue-800","Google Ads":"bg-red-100 text-red-800",Email:"bg-green-100 text-green-800",Instagram:"bg-pink-100 text-pink-800",LinkedIn:"bg-cyan-100 text-cyan-800",Twitter:"bg-sky-100 text-sky-800",TikTok:"bg-purple-100 text-purple-800"})[E]||"bg-gray-100 text-gray-800",f=E=>({active:"bg-green-100 text-green-800",paused:"bg-yellow-100 text-yellow-800",completed:"bg-gray-100 text-gray-800",draft:"bg-blue-100 text-blue-800"})[E]||"bg-gray-100 text-gray-800",p=E=>{switch(E){case"active":return hs;case"paused":return vl;case"completed":return hs;case"draft":return ii;default:return us}},b=e.filter(E=>{const z=c==="all"||E.status===c,_=u==="all"||E.channel===u;return z&&_}),j=e.reduce((E,z)=>E+Number(z.budget||0),0),N=e.reduce((E,z)=>E+Number(z.spent||0),0),C=Object.values(r).reduce((E,z)=>E+z.impressions,0),A=Object.values(r).reduce((E,z)=>E+z.clicks,0),F=Object.values(r).reduce((E,z)=>E+z.conversions,0),S=Object.values(r).reduce((E,z)=>E+z.revenue,0),D=C>0?A/C*100:0,R=N>0?S/N*100:0,P=[...new Set(e.map(E=>E.channel))];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Advertising Campaigns"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Create, manage and optimize your online advertising campaigns"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:m,className:"flex items-center px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(js,{size:20,className:"mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>o(!0),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(mt,{size:20,className:"mr-2"}),"New Campaign"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Budget"}),n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(ut,{size:20,className:"text-blue-600"})})]}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["PKR ",j.toLocaleString()]}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Spent: PKR ",N.toLocaleString()]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Impressions"}),n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(Ar,{size:20,className:"text-purple-600"})})]}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(C/1e3).toFixed(1),"K"]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Across all campaigns"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Clicks"}),n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(Ic,{size:20,className:"text-green-600"})})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.toLocaleString()}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["CTR: ",D.toFixed(2),"%"]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Conversions"}),n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(or,{size:20,className:"text-orange-600"})})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["ROAS: ",R.toFixed(0),"%"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx(or,{size:20,className:"text-gray-700"}),n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Campaigns"})]}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx(Pu,{size:20,className:"text-green-600"}),n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Active"})]}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.filter(E=>E.status==="active").length})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx(vl,{size:20,className:"text-yellow-600"}),n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Paused"})]}),n.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:e.filter(E=>E.status==="paused").length})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx(ii,{size:20,className:"text-blue-600"}),n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Draft"})]}),n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.filter(E=>E.status==="draft").length})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Eo,{size:20,className:"text-yellow-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performing Campaigns"})]}),n.jsx("div",{className:"space-y-3",children:e.filter(E=>r[E.id]).sort((E,z)=>{var _,O;return(((_=r[z.id])==null?void 0:_.roas)||0)-(((O=r[E.id])==null?void 0:O.roas)||0)}).slice(0,5).map(E=>{const z=r[E.id];return n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:E.name}),n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${g(E.channel)}`,children:E.channel})]}),n.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[n.jsxs("span",{children:["Impressions: ",(z.impressions/1e3).toFixed(1),"K"]}),n.jsxs("span",{children:["Clicks: ",z.clicks]}),n.jsxs("span",{children:["CTR: ",z.ctr.toFixed(2),"%"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"ROAS"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[z.roas.toFixed(0),"%"]})]})]},E.id)})})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Im,{size:20,className:"text-gray-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"})]}),n.jsxs("select",{value:c,onChange:E=>d(E.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"paused",children:"Paused"}),n.jsx("option",{value:"draft",children:"Draft"}),n.jsx("option",{value:"completed",children:"Completed"})]}),n.jsxs("select",{value:u,onChange:E=>h(E.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Channels"}),P.map(E=>n.jsx("option",{value:E,children:E},E))]}),n.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[n.jsx(li,{size:16}),"Export"]})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["All Campaigns (",b.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600"})})})}):b.length===0?n.jsx("tr",{children:n.jsxs("td",{colSpan:6,className:"px-6 py-8 text-center",children:[n.jsx(or,{size:48,className:"mx-auto text-gray-400 mb-2"}),n.jsx("p",{className:"text-gray-500",children:"No campaigns found"}),n.jsx("button",{onClick:()=>o(!0),className:"mt-4 text-green-600 hover:text-green-700 font-medium",children:"Create your first campaign"})]})}):b.map(E=>{const z=p(E.status),_=r[E.id],O=E.budget>0?E.spent/E.budget*100:0;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${g(E.channel)}`,children:E.channel}),n.jsx("span",{className:"text-xs text-gray-500",children:E.objective})]})]})})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full ${f(E.status)}`,children:[n.jsx(z,{size:12}),E.status]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_?n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"text-gray-900 font-medium",children:[(_.impressions/1e3).toFixed(1),"K impressions"]}),n.jsxs("div",{className:"text-gray-500 text-xs",children:[_.clicks," clicks  CTR ",_.ctr.toFixed(2),"%  ",_.conversions," conv."]})]}):n.jsx("span",{className:"text-sm text-gray-400",children:"No data"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"text-gray-900 font-medium",children:["PKR ",E.budget.toLocaleString()]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-1.5",children:n.jsx("div",{className:`h-1.5 rounded-full ${O>90?"bg-red-600":O>70?"bg-yellow-600":"bg-green-600"}`,style:{width:`${Math.min(O,100)}%`}})}),n.jsxs("span",{className:"text-xs text-gray-500",children:[O.toFixed(0),"%"]})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[n.jsx("div",{children:new Date(E.start_date).toLocaleDateString()}),n.jsxs("div",{className:"text-xs text-gray-400",children:["to ",E.end_date?new Date(E.end_date).toLocaleDateString():"Ongoing"]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[E.status==="active"?n.jsx("button",{onClick:()=>x(E.id),className:"text-yellow-600 hover:text-yellow-900",title:"Pause",children:n.jsx(vl,{size:18})}):E.status==="paused"?n.jsx("button",{onClick:()=>v(E.id),className:"text-green-600 hover:text-green-900",title:"Resume",children:n.jsx(Pu,{size:18})}):null,n.jsx("button",{onClick:()=>k(E),className:"text-blue-600 hover:text-blue-900",title:"Duplicate",children:n.jsx(Lm,{size:18})}),n.jsx("button",{className:"text-gray-600 hover:text-gray-900",title:"Edit",children:n.jsx(ws,{size:18})}),n.jsx("button",{onClick:()=>w(E.id),className:"text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(ci,{size:18})})]})})]},E.id)})})]})})]}),n.jsx(Db,{isOpen:l,onClose:()=>o(!1),onSuccess:m})]})}function Fb({isOpen:e,onClose:t,onSuccess:r}){const[s,a]=y.useState(""),[i,l]=y.useState(""),[o,c]=y.useState(""),[d,u]=y.useState(""),[h,m]=y.useState("Website"),[x,v]=y.useState(""),[w,k]=y.useState(!1),[g,f]=y.useState("");if(!e)return null;const p=async j=>{j.preventDefault(),f(""),k(!0);try{const{error:N}=await $.from("leads").insert({name:s,email:i,phone:o,company:d,source:h,status:"new",notes:x});if(N)throw N;r(),b()}catch(N){f(N.message||"Failed to create lead")}finally{k(!1)}},b=()=>{a(""),l(""),c(""),u(""),m("Website"),v(""),f(""),t()};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add New Lead"}),n.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600",children:n.jsx(gt,{size:24})})]}),n.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[g&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:g}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),n.jsx("input",{type:"text",value:s,onChange:j=>a(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,placeholder:"Enter lead's full name"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),n.jsx("input",{type:"email",value:i,onChange:j=>l(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,placeholder:"email@example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),n.jsx("input",{type:"tel",value:o,onChange:j=>c(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"+92 300 1234567"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company (Optional)"}),n.jsx("input",{type:"text",value:d,onChange:j=>u(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Company name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Source"}),n.jsxs("select",{value:h,onChange:j=>m(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"Website",children:"Website"}),n.jsx("option",{value:"Facebook",children:"Facebook"}),n.jsx("option",{value:"Instagram",children:"Instagram"}),n.jsx("option",{value:"Referral",children:"Referral"}),n.jsx("option",{value:"Google Ads",children:"Google Ads"}),n.jsx("option",{value:"Email",children:"Email"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),n.jsx("textarea",{value:x,onChange:j=>v(j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:3,placeholder:"Additional information about the lead"})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:b,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:w,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:w?"Adding...":"Add Lead"})]})]})]})})}function Bb(){const[e,t]=y.useState([]),[r,s]=y.useState(!0),[a,i]=y.useState(!1);y.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:u}=await $.from("leads").select("*").order("created_at",{ascending:!1});u&&t(u)}catch(u){console.error("Error fetching leads:",u)}finally{s(!1)}},o=u=>({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-green-100 text-green-800",converted:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"})[u]||"bg-gray-100 text-gray-800",c=u=>({Website:"bg-blue-100 text-blue-800",Facebook:"bg-blue-100 text-blue-800",Instagram:"bg-pink-100 text-pink-800",Referral:"bg-green-100 text-green-800","Google Ads":"bg-red-100 text-red-800",Email:"bg-gray-100 text-gray-800"})[u]||"bg-gray-100 text-gray-800",d={new:e.filter(u=>u.status==="new").length,contacted:e.filter(u=>u.status==="contacted").length,qualified:e.filter(u=>u.status==="qualified").length,converted:e.filter(u=>u.status==="converted").length};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Lead Management"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage your sales leads"})]}),n.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(mt,{size:20,className:"mr-2"}),"Add Lead"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"New Leads",value:d.new,color:"blue"},{label:"Contacted",value:d.contacted,color:"yellow"},{label:"Qualified",value:d.qualified,color:"green"},{label:"Converted",value:d.converted,color:"green"}].map((u,h)=>n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:u.label}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:u.value})]},h))}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"All Leads"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"Loading..."})}):e.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"No leads found"})}):e.map(u=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-green-100 flex items-center justify-center",children:n.jsx(Ru,{size:20,className:"text-green-600"})}),n.jsxs("div",{className:"ml-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:u.name}),n.jsx("div",{className:"text-sm text-gray-500",children:u.company||"N/A"})]})]})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm text-gray-900 flex items-center",children:[n.jsx(It,{size:14,className:"mr-1 text-gray-400"}),u.email]}),u.phone&&n.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[n.jsx(wb,{size:14,className:"mr-1 text-gray-400"}),u.phone]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${c(u.source)}`,children:u.source})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${o(u.status)}`,children:u.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:n.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${u.lead_score||0}%`}})}),n.jsx("span",{className:"text-sm text-gray-900",children:u.lead_score||0})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(En,{size:14,className:"mr-1 text-gray-400"}),new Date(u.created_at).toLocaleDateString()]})})]},u.id))})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Leads by Source"}),n.jsx("div",{className:"space-y-3",children:Object.entries(e.reduce((u,h)=>(u[h.source]=(u[h.source]||0)+1,u),{})).map(([u,h])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:u}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2 mr-3",children:n.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${h/e.length*100}%`}})}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:h})]})]},u))})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),n.jsx("div",{className:"space-y-3",children:e.slice(0,5).map(u=>n.jsxs("div",{className:"flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-green-100 flex items-center justify-center",children:n.jsx(Ru,{size:16,className:"text-green-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:["New lead from ",u.source,"  ",new Date(u.created_at).toLocaleDateString()]})]})]},u.id))})]})]}),n.jsx(Fb,{isOpen:a,onClose:()=>i(!1),onSuccess:l})]})}function Wb({isOpen:e,onClose:t,onSuccess:r}){const[s,a]=y.useState(""),[i,l]=y.useState("blog"),[o,c]=y.useState("Website"),[d,u]=y.useState(""),[h,m]=y.useState(""),[x,v]=y.useState(""),[w,k]=y.useState(""),[g,f]=y.useState(!1),[p,b]=y.useState(!1),[j,N]=y.useState("");if(!e)return null;const C=async S=>{S.preventDefault(),N(""),b(!0);try{const D={title:s,content_type:i,platform:o,status:"draft",scheduled_date:d,body_text:h};g&&(D.canva_design_url=x,D.canva_api_key=w,D.canva_integration_status="connected");const{error:R}=await $.from("content_calendar").insert(D);if(R)throw R;r(),A()}catch(D){N(D.message||"Failed to create content")}finally{b(!1)}},A=()=>{a(""),l("blog"),c("Website"),u(""),m(""),v(""),k(""),f(!1),N(""),t()},F=()=>{window.open("https://www.canva.com/design/new","_blank")};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add New Content"}),n.jsx("button",{onClick:A,className:"text-gray-400 hover:text-gray-600",children:n.jsx(gt,{size:24})})]}),n.jsxs("form",{onSubmit:C,className:"p-6 space-y-4",children:[j&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:j}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Title"}),n.jsx("input",{type:"text",value:s,onChange:S=>a(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,placeholder:"e.g., How to Grow Organic Vegetables"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Type"}),n.jsxs("select",{value:i,onChange:S=>l(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"blog",children:"Blog Post"}),n.jsx("option",{value:"tweet",children:"Social Media"}),n.jsx("option",{value:"instagram",children:"Instagram"}),n.jsx("option",{value:"facebook",children:"Facebook"}),n.jsx("option",{value:"youtube",children:"Video"}),n.jsx("option",{value:"email",children:"Email Newsletter"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform"}),n.jsxs("select",{value:o,onChange:S=>c(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"Website",children:"Website"}),n.jsx("option",{value:"Facebook",children:"Facebook"}),n.jsx("option",{value:"Instagram",children:"Instagram"}),n.jsx("option",{value:"Twitter",children:"Twitter"}),n.jsx("option",{value:"YouTube",children:"YouTube"}),n.jsx("option",{value:"Email",children:"Email"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Description"}),n.jsx("textarea",{value:h,onChange:S=>m(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",rows:4,placeholder:"Brief description or notes about this content..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scheduled Date"}),n.jsx("input",{type:"date",value:d,onChange:S=>u(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-4 mb-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(oi,{size:20,className:"text-purple-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-purple-900 mb-1",children:"Canva Integration"}),n.jsx("p",{className:"text-sm text-purple-700 mb-3",children:"Connect your content calendar with Canva designs. Create stunning graphics and link them to your scheduled content."}),n.jsxs("button",{type:"button",onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm font-medium",children:[n.jsx(oi,{size:16}),"Open Canva Designer",n.jsx(Lt,{size:14})]})]})]})}),n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("input",{type:"checkbox",id:"useCanva",checked:g,onChange:S=>f(S.target.checked),className:"w-4 h-4 text-green-600 rounded focus:ring-green-500"}),n.jsx("label",{htmlFor:"useCanva",className:"ml-2 text-sm font-medium text-gray-700",children:"Link Canva Design to this Content"})]}),g&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Canva Design URL"}),n.jsx("input",{type:"url",value:x,onChange:S=>v(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"https://www.canva.com/design/..."}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Copy the URL from your Canva design and paste it here. This creates a direct link between your content and design."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Canva API Key (Optional)"}),n.jsx("input",{type:"password",value:w,onChange:S=>k(S.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter your Canva API key for advanced integration"}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:n.jsx("a",{href:"https://www.canva.com/developers/docs/apps/authentication/",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700",children:"How to get your Canva API key"})})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-3",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(oe,{size:16,className:"text-blue-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-blue-900 font-medium",children:"Pro Tip:"}),n.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"With the Canva link, you can quickly access your design when it's time to publish. The API key enables automatic export and sync features."})]})]})})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:A,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:p||g&&!x,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:p?"Adding...":"Add Content"})]})]})]})})}function Vb(){const[e,t]=y.useState([]),[r,s]=y.useState(!0),[a,i]=y.useState(!1);y.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:h}=await $.from("content_calendar").select("*").order("scheduled_date",{ascending:!0});h&&t(h)}catch(h){console.error("Error fetching content:",h)}finally{s(!1)}},o=h=>({scheduled:"bg-blue-100 text-blue-800",draft:"bg-gray-100 text-gray-800",published:"bg-green-100 text-green-800",in_review:"bg-yellow-100 text-yellow-800"})[h]||"bg-gray-100 text-gray-800",c=h=>({blog:oe,social:En,email:oe,video:oe})[h]||oe,d={scheduled:e.filter(h=>h.status==="scheduled").length,draft:e.filter(h=>h.status==="draft").length,published:e.filter(h=>h.status==="published").length,in_review:e.filter(h=>h.status==="in_review").length},u=e.filter(h=>h.status==="scheduled"&&new Date(h.scheduled_date)>=new Date).slice(0,7);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Content Calendar"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Plan and schedule your content"})]}),n.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(mt,{size:20,className:"mr-2"}),"New Content"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Scheduled",value:d.scheduled,icon:ii,color:"blue"},{label:"In Review",value:d.in_review,icon:oe,color:"yellow"},{label:"Published",value:d.published,icon:hs,color:"green"},{label:"Drafts",value:d.draft,icon:oe,color:"gray"}].map((h,m)=>{const x=h.icon;return n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:h.label}),n.jsx(x,{size:20,className:"text-green-600"})]}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:h.value})]},m)})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Content"})}),n.jsx("div",{className:"divide-y divide-gray-200",children:r?n.jsx("div",{className:"p-6 text-center text-gray-500",children:"Loading..."}):u.length===0?n.jsx("div",{className:"p-6 text-center text-gray-500",children:"No upcoming content scheduled"}):u.map(h=>{const m=c(h.content_type);return n.jsx("div",{className:"p-6 hover:bg-gray-50",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-50 flex items-center justify-center",children:n.jsx(m,{size:24,className:"text-green-600"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:h.title}),n.jsx("span",{className:`ml-2 px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${o(h.status)}`,children:h.status})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:h.description}),n.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(En,{size:12,className:"mr-1"}),new Date(h.scheduled_date).toLocaleDateString()]}),n.jsx("span",{className:"capitalize",children:h.content_type}),n.jsx("span",{children:h.platform})]})]})]})},h.id)})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"This Week"}),n.jsx("div",{className:"space-y-3",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((h,m)=>{const x=e.filter(v=>new Date(v.scheduled_date).getDay()===m&&v.status==="scheduled").length;return n.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:h}),n.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:x>0?`${x} scheduled`:"-"})]},h)})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Content by Type"}),n.jsx("div",{className:"space-y-3",children:Object.entries(e.reduce((h,m)=>(h[m.content_type]=(h[m.content_type]||0)+1,h),{})).map(([h,m])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 capitalize",children:h}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:m})]},h))})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"All Content"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Platform"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scheduled"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"Loading..."})}):e.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"No content found"})}):e.map(h=>{var m;return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.title}),n.jsxs("div",{className:"text-sm text-gray-500",children:[(m=h.description)==null?void 0:m.substring(0,50),"..."]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-900 capitalize",children:h.content_type})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h.platform}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${o(h.status)}`,children:h.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(h.scheduled_date).toLocaleDateString()})]},h.id)})})]})})]}),n.jsx(Wb,{isOpen:a,onClose:()=>i(!1),onSuccess:l})]})}function Kb(){const[e,t]=y.useState([]),[r,s]=y.useState([]),[a,i]=y.useState(!0),[l,o]=y.useState(!1);y.useState("https://stemnroot.com");const[c]=y.useState("https://stemnroot.com/shop/");y.useEffect(()=>{d()},[]);const d=async()=>{try{const[f,p]=await Promise.all([$.from("orders").select("*").order("created_at",{ascending:!1}),$.from("products").select("*")]);f.data&&t(f.data),p.data&&s(p.data)}catch(f){console.error("Error fetching e-commerce data:",f)}finally{i(!1)}},u=async()=>{o(!0);try{console.log("Syncing with stemnroot.com/shop/..."),await new Promise(f=>setTimeout(f,2e3)),await d(),alert("Sync completed! Products and orders from stemnroot.com/shop/ are up to date.")}catch(f){console.error("Error syncing with website:",f),alert("Sync failed. Please try again.")}finally{o(!1)}},h=f=>{const p=f.website_url||c;window.open(p,"_blank")},m=()=>{window.open(c,"_blank")},x=f=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-green-100 text-green-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[f]||"bg-gray-100 text-gray-800",v=e.reduce((f,p)=>f+Number(p.total_amount||0),0),w=e.length>0?v/e.length:0,k=r.length,g=r.filter(f=>f.stock_quantity<10).length;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"E-commerce"}),n.jsxs("p",{className:"text-gray-600 mt-1",children:["Connected to ",n.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-700 font-medium",children:"stemnroot.com/shop"})]})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:u,disabled:l,className:"flex items-center px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:[n.jsx(js,{size:20,className:`mr-2 ${l?"animate-spin":""}`}),l?"Syncing...":"Sync Shop"]}),n.jsxs("button",{onClick:m,className:"flex items-center px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(Ze,{size:20,className:"mr-2"}),"Visit Shop"]}),n.jsxs("button",{className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(mt,{size:20,className:"mr-2"}),"New Order"]})]})]}),n.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6 mb-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:n.jsx(Ze,{size:32,className:"text-green-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Shop Integration Active"}),n.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:["Your dashboard is connected to ",n.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-green-600 hover:text-green-700 underline",children:"stemnroot.com/shop"}),". Orders and products are automatically synced from your online shop."]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n.jsx("span",{className:"text-gray-600",children:"Live Connection"})]}),n.jsxs("button",{onClick:u,disabled:l,className:"flex items-center gap-1 text-green-600 hover:text-green-700 font-medium",children:[n.jsx(js,{size:14,className:l?"animate-spin":""}),l?"Syncing...":"Sync Now"]}),n.jsxs("button",{onClick:m,className:"flex items-center gap-1 text-green-600 hover:text-green-700 font-medium",children:[n.jsx(Lt,{size:14}),"Open Shop"]})]})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Total Revenue",value:`PKR ${v.toLocaleString()}`,icon:ut,trend:"+12%"},{label:"Total Orders",value:e.length,icon:Ze,trend:"+8%"},{label:"Avg Order Value",value:`PKR ${Math.round(w).toLocaleString()}`,icon:Me,trend:"+5%"},{label:"Products",value:k,icon:Tt,trend:`${g} low stock`}].map((f,p)=>{const b=f.icon;return n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:f.label}),n.jsx(b,{size:20,className:"text-green-600"})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.value}),n.jsx("p",{className:"text-sm text-green-600 mt-2",children:f.trend})]},p)})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"Loading..."})}):e.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"No orders found"})}):e.slice(0,10).map(f=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",f.id.substring(0,8)]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:f.customer_name}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["PKR ",Number(f.total_amount).toLocaleString()]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x(f.status)}`,children:f.status})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(f.created_at||f.order_date).toLocaleDateString()})]},f.id))})]})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Status"}),n.jsx("div",{className:"space-y-3",children:Object.entries(e.reduce((f,p)=>(f[p.status]=(f[p.status]||0)+1,f),{})).map(([f,p])=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 capitalize",children:f}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:p})]},f))})]}),n.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-sm p-6 text-white",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-white bg-opacity-20 rounded-lg hover:bg-opacity-30 transition-colors",children:[n.jsx("span",{className:"text-sm",children:"View All Products"}),n.jsx(Ar,{size:16})]}),n.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-white bg-opacity-20 rounded-lg hover:bg-opacity-30 transition-colors",children:[n.jsx("span",{className:"text-sm",children:"Manage Inventory"}),n.jsx(Tt,{size:16})]}),n.jsxs("button",{className:"w-full flex items-center justify-between p-3 bg-white bg-opacity-20 rounded-lg hover:bg-opacity-30 transition-colors",children:[n.jsx("span",{className:"text-sm",children:"Sales Report"}),n.jsx(Me,{size:16})]})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Products from stemnroot.com/shop"}),n.jsxs("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-sm text-green-600 hover:text-green-700",children:["View All in Shop",n.jsx(Lt,{size:14,className:"ml-1"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:r.slice(0,4).map(f=>{var p;return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:f.name}),n.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${f.stock_quantity>10?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[f.stock_quantity," left"]})]}),n.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[(p=f.description)==null?void 0:p.substring(0,50),"..."]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["PKR ",Number(f.price).toLocaleString()]}),n.jsx("button",{onClick:()=>h(f),className:"text-green-600 hover:text-green-700",title:"View on website",children:n.jsx(Lt,{size:16})})]})]},f.id)})})]})]})}function Hb(){const[e,t]=y.useState(!0),[r,s]=y.useState({campaigns:0,leads:0,orders:0,revenue:0,emailCampaigns:0,socialPosts:0,websitePages:0});y.useEffect(()=>{a()},[]);const a=async()=>{var c,d,u,h,m,x,v;try{const[w,k,g,f,p,b]=await Promise.all([$.from("campaigns").select("*"),$.from("leads").select("*"),$.from("orders").select("*"),$.from("email_campaigns").select("*"),$.from("social_media_posts").select("*"),$.from("website_pages").select("*")]),j=((c=g.data)==null?void 0:c.reduce((N,C)=>N+Number(C.total_amount||0),0))||0;s({campaigns:((d=w.data)==null?void 0:d.length)||0,leads:((u=k.data)==null?void 0:u.length)||0,orders:((h=g.data)==null?void 0:h.length)||0,revenue:j,emailCampaigns:((m=f.data)==null?void 0:m.length)||0,socialPosts:((x=p.data)==null?void 0:x.length)||0,websitePages:((v=b.data)==null?void 0:v.length)||0})}catch(w){console.error("Error fetching report data:",w)}finally{t(!1)}},i=c=>{alert(`Generating ${c} report... This will download a PDF/CSV file with detailed analytics.`)},l=[{id:"sales",title:"Sales & Revenue Report",description:"Comprehensive overview of sales performance, revenue trends, and order analytics",icon:ut,color:"green",metrics:[{label:"Total Orders",value:r.orders},{label:"Total Revenue",value:`PKR ${r.revenue.toLocaleString()}`}]},{id:"marketing",title:"Marketing Performance Report",description:"Campaign effectiveness, ROI, and engagement metrics across all channels",icon:Me,color:"blue",metrics:[{label:"Active Campaigns",value:r.campaigns},{label:"Email Campaigns",value:r.emailCampaigns}]},{id:"leads",title:"Lead Generation Report",description:"Lead sources, conversion rates, and pipeline analysis",icon:Ke,color:"purple",metrics:[{label:"Total Leads",value:r.leads},{label:"Conversion Rate",value:"23%"}]},{id:"social",title:"Social Media Report",description:"Engagement metrics, reach, and performance across social platforms",icon:Rr,color:"pink",metrics:[{label:"Total Posts",value:r.socialPosts},{label:"Avg Engagement",value:"145"}]},{id:"website",title:"Website Analytics Report",description:"Traffic analysis, page performance, and user behavior insights",icon:Ar,color:"indigo",metrics:[{label:"Total Pages",value:r.websitePages},{label:"Avg Page Views",value:"1.2K"}]},{id:"email",title:"Email Marketing Report",description:"Email campaign performance, open rates, and subscriber growth",icon:It,color:"orange",metrics:[{label:"Campaigns Sent",value:r.emailCampaigns},{label:"Avg Open Rate",value:"32%"}]}],o={green:{bg:"bg-green-50",text:"text-green-600",border:"border-green-200",hover:"hover:bg-green-100"},blue:{bg:"bg-blue-50",text:"text-blue-600",border:"border-blue-200",hover:"hover:bg-blue-100"},purple:{bg:"bg-purple-50",text:"text-purple-600",border:"border-purple-200",hover:"hover:bg-purple-100"},pink:{bg:"bg-pink-50",text:"text-pink-600",border:"border-pink-200",hover:"hover:bg-pink-100"},indigo:{bg:"bg-indigo-50",text:"text-indigo-600",border:"border-indigo-200",hover:"hover:bg-indigo-100"},orange:{bg:"bg-orange-50",text:"text-orange-600",border:"border-orange-200",hover:"hover:bg-orange-100"}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Generate comprehensive reports across all marketing channels"})]}),n.jsxs("button",{onClick:()=>i("Master"),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(li,{size:20,className:"mr-2"}),"Export All Data"]})]}),n.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 border border-gray-200 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:n.jsx(oe,{size:32,className:"text-gray-700"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Automated Reporting System"}),n.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Access detailed reports for all your marketing activities. Each report includes real-time data, trends analysis, and actionable insights to optimize your campaigns."}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(En,{size:14,className:"text-gray-600"}),n.jsx("span",{className:"text-gray-600",children:"Last updated: Today"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rr,{size:14,className:"text-gray-600"}),n.jsx("span",{className:"text-gray-600",children:"Real-time data"})]})]})]})]})}),e?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),n.jsx("p",{className:"text-gray-600 mt-4",children:"Loading report data..."})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.map(c=>{const d=c.icon,u=o[c.color];return n.jsxs("div",{className:`bg-white border ${u.border} rounded-xl overflow-hidden transition-all hover:shadow-lg`,children:[n.jsxs("div",{className:`${u.bg} p-6 border-b ${u.border}`,children:[n.jsx("div",{className:"flex items-start justify-between mb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm",children:n.jsx(d,{size:24,className:u.text})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:c.title}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:c.description})]})]})}),n.jsx("div",{className:"grid grid-cols-2 gap-4 mt-4",children:c.metrics.map((h,m)=>n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-1",children:h.label}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:h.value})]},m))})]}),n.jsxs("div",{className:"p-4 bg-white flex items-center justify-between",children:[n.jsxs("button",{onClick:()=>i(c.title),className:`flex items-center gap-2 px-4 py-2 ${u.bg} ${u.text} rounded-lg ${u.hover} transition-colors font-medium text-sm`,children:[n.jsx(li,{size:16}),"Generate Report"]}),n.jsx("span",{className:"text-xs text-gray-500",children:"PDF & CSV"})]})]},c.id)})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Custom Report Builder"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create custom reports by selecting specific date ranges, metrics, and data sources."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),n.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[n.jsx("option",{children:"Last 7 Days"}),n.jsx("option",{children:"Last 30 Days"}),n.jsx("option",{children:"Last 90 Days"}),n.jsx("option",{children:"This Year"}),n.jsx("option",{children:"Custom Range"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Type"}),n.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[n.jsx("option",{children:"Overview"}),n.jsx("option",{children:"Detailed Analytics"}),n.jsx("option",{children:"Comparison Report"}),n.jsx("option",{children:"Executive Summary"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Format"}),n.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[n.jsx("option",{children:"PDF Document"}),n.jsx("option",{children:"CSV Spreadsheet"}),n.jsx("option",{children:"Excel Workbook"}),n.jsx("option",{children:"PowerPoint"})]})]})]}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsxs("button",{onClick:()=>i("Custom"),className:"flex items-center gap-2 px-6 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors font-medium",children:[n.jsx(oe,{size:18}),"Build Custom Report"]})})]})]})}function qb(){const[e,t]=y.useState([]),[r,s]=y.useState(!0),[a,i]=y.useState(!1),[l,o]=y.useState(null),[c,d]=y.useState("");y.useEffect(()=>{u()},[]);const u=async()=>{var g,f,p,b,j,N,C,A,F,S,D,R,P,E,z,_,O,T,L,B,W,V,Le,Ne,nt,ve,Q,ke,zr,Ps,Un,Fn,Bn,Wn,Vn,Kn,Hn,qn,Gn,Rs,As,Os,X,de,Wt,zc,Dc,Uc,Fc,Bc,Wc,Vc,Kc,Hc,qc,Gc;try{const{data:Ls,error:Jc}=await $.from("integrations").select("*");if(Jc)throw Jc;const K=new Map((Ls==null?void 0:Ls.map(Qc=>[Qc.service,Qc]))||[]),Mm=[{id:"mailchimp",name:"Mailchimp",category:"Email Marketing",description:"Sync email campaigns, subscribers, and analytics",icon:It,color:"yellow",isConnected:((g=K.get("mailchimp"))==null?void 0:g.is_active)||!1,apiKey:(p=(f=K.get("mailchimp"))==null?void 0:f.credentials)==null?void 0:p.apiKey,lastSync:(b=K.get("mailchimp"))==null?void 0:b.last_sync},{id:"woocommerce",name:"WooCommerce",category:"E-commerce",description:"Sync products, orders, and customer data from your shop",icon:Ze,color:"purple",isConnected:((j=K.get("woocommerce"))==null?void 0:j.is_active)||!1,apiKey:(C=(N=K.get("woocommerce"))==null?void 0:N.credentials)==null?void 0:C.apiKey,lastSync:(A=K.get("woocommerce"))==null?void 0:A.last_sync},{id:"stripe",name:"Stripe",category:"Payments",description:"Track payments, subscriptions, and revenue",icon:ut,color:"blue",isConnected:((F=K.get("stripe"))==null?void 0:F.is_active)||!1,apiKey:(D=(S=K.get("stripe"))==null?void 0:S.credentials)==null?void 0:D.apiKey,lastSync:(R=K.get("stripe"))==null?void 0:R.last_sync},{id:"google-analytics",name:"Google Analytics",category:"Analytics",description:"Import website traffic and user behavior data",icon:ab,color:"orange",isConnected:((P=K.get("google-analytics"))==null?void 0:P.is_active)||!1,apiKey:(z=(E=K.get("google-analytics"))==null?void 0:E.credentials)==null?void 0:z.apiKey,lastSync:(_=K.get("google-analytics"))==null?void 0:_.last_sync},{id:"facebook",name:"Facebook Business",category:"Social Media",description:"Manage pages, ads, and track social engagement",icon:Tn,color:"blue",isConnected:((O=K.get("facebook"))==null?void 0:O.is_active)||!1,apiKey:(L=(T=K.get("facebook"))==null?void 0:T.credentials)==null?void 0:L.apiKey,lastSync:(B=K.get("facebook"))==null?void 0:B.last_sync},{id:"instagram",name:"Instagram Business",category:"Social Media",description:"Post content and track engagement metrics",icon:Tn,color:"pink",isConnected:((W=K.get("instagram"))==null?void 0:W.is_active)||!1,apiKey:(Le=(V=K.get("instagram"))==null?void 0:V.credentials)==null?void 0:Le.apiKey,lastSync:(Ne=K.get("instagram"))==null?void 0:Ne.last_sync},{id:"google-ads",name:"Google Ads",category:"Advertising",description:"Monitor ad performance and campaign metrics",icon:Or,color:"green",isConnected:((nt=K.get("google-ads"))==null?void 0:nt.is_active)||!1,apiKey:(Q=(ve=K.get("google-ads"))==null?void 0:ve.credentials)==null?void 0:Q.apiKey,lastSync:(ke=K.get("google-ads"))==null?void 0:ke.last_sync},{id:"hubspot",name:"HubSpot",category:"CRM",description:"Sync contacts, deals, and marketing automation",icon:Ke,color:"orange",isConnected:((zr=K.get("hubspot"))==null?void 0:zr.is_active)||!1,apiKey:(Un=(Ps=K.get("hubspot"))==null?void 0:Ps.credentials)==null?void 0:Un.apiKey,lastSync:(Fn=K.get("hubspot"))==null?void 0:Fn.last_sync},{id:"salesforce",name:"Salesforce",category:"CRM",description:"Integrate customer data and sales pipeline",icon:Ke,color:"blue",isConnected:((Bn=K.get("salesforce"))==null?void 0:Bn.is_active)||!1,apiKey:(Vn=(Wn=K.get("salesforce"))==null?void 0:Wn.credentials)==null?void 0:Vn.apiKey,lastSync:(Kn=K.get("salesforce"))==null?void 0:Kn.last_sync},{id:"slack",name:"Slack",category:"Communication",description:"Get notifications and updates in your workspace",icon:xb,color:"purple",isConnected:((Hn=K.get("slack"))==null?void 0:Hn.is_active)||!1,apiKey:(Gn=(qn=K.get("slack"))==null?void 0:qn.credentials)==null?void 0:Gn.apiKey,lastSync:(Rs=K.get("slack"))==null?void 0:Rs.last_sync},{id:"zapier",name:"Zapier",category:"Automation",description:"Connect with 5000+ apps through automated workflows",icon:Eo,color:"orange",isConnected:((As=K.get("zapier"))==null?void 0:As.is_active)||!1,apiKey:(X=(Os=K.get("zapier"))==null?void 0:Os.credentials)==null?void 0:X.apiKey,lastSync:(de=K.get("zapier"))==null?void 0:de.last_sync},{id:"wordpress",name:"WordPress",category:"Website",description:"Manage blog posts and website content",icon:Or,color:"blue",isConnected:((Wt=K.get("wordpress"))==null?void 0:Wt.is_active)||!1,apiKey:(Dc=(zc=K.get("wordpress"))==null?void 0:zc.credentials)==null?void 0:Dc.apiKey,lastSync:(Uc=K.get("wordpress"))==null?void 0:Uc.last_sync},{id:"splendid-account",name:"Splendid Account",category:"Accounting",description:"Sync financial data, invoices, and accounting records",icon:oe,color:"green",isConnected:((Fc=K.get("splendid-account"))==null?void 0:Fc.is_active)||!1,apiKey:(Wc=(Bc=K.get("splendid-account"))==null?void 0:Bc.credentials)==null?void 0:Wc.apiKey,lastSync:(Vc=K.get("splendid-account"))==null?void 0:Vc.last_sync},{id:"shipkardo",name:"ShipKardo",category:"Logistics",description:"Manage shipments, track orders, and sync delivery status",icon:Ze,color:"blue",isConnected:((Kc=K.get("shipkardo"))==null?void 0:Kc.is_active)||!1,apiKey:(qc=(Hc=K.get("shipkardo"))==null?void 0:Hc.credentials)==null?void 0:qc.apiKey,lastSync:(Gc=K.get("shipkardo"))==null?void 0:Gc.last_sync}];t(Mm)}catch(Ls){console.error("Error fetching integrations:",Ls)}finally{s(!1)}},h=g=>{o(g),d(g.apiKey||""),i(!0)},m=async()=>{if(l)try{const{error:g}=await $.from("integrations").upsert({service:l.id,credentials:{apiKey:c},is_active:!0,last_sync:new Date().toISOString()},{onConflict:"service"});if(g)throw g;alert(`${l.name} connected successfully!`),i(!1),u()}catch(g){console.error("Error saving integration:",g),alert("Failed to save integration. Please try again.")}},x=async g=>{try{const{error:f}=await $.from("integrations").update({is_active:!1}).eq("service",g);if(f)throw f;alert("Integration disconnected successfully!"),u()}catch(f){console.error("Error disconnecting integration:",f)}},v=async g=>{alert(`Syncing ${g.name}... This will fetch the latest data.`);try{const{error:f}=await $.from("integrations").update({last_sync:new Date().toISOString()}).eq("service",g.id);if(f)throw f;u()}catch(f){console.error("Error syncing integration:",f)}},w={yellow:{bg:"bg-yellow-50",text:"text-yellow-600",border:"border-yellow-200"},purple:{bg:"bg-purple-50",text:"text-purple-600",border:"border-purple-200"},blue:{bg:"bg-blue-50",text:"text-blue-600",border:"border-blue-200"},orange:{bg:"bg-orange-50",text:"text-orange-600",border:"border-orange-200"},green:{bg:"bg-green-50",text:"text-green-600",border:"border-green-200"},pink:{bg:"bg-pink-50",text:"text-pink-600",border:"border-pink-200"}},k=Array.from(new Set(e.map(g=>g.category)));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Business Integrations"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Connect your favorite tools and automate your workflow"})]}),n.jsxs("button",{onClick:u,className:"flex items-center px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(js,{size:20,className:"mr-2"}),"Refresh"]})]}),n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:n.jsx(Eo,{size:32,className:"text-blue-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Streamline Your Marketing Stack"}),n.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Connect all your business tools in one place. Sync data automatically, eliminate manual work, and get a complete view of your marketing performance across all platforms."}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wt,{size:14,className:"text-green-600"}),n.jsxs("span",{className:"text-gray-600",children:[e.filter(g=>g.isConnected).length," Active Integrations"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(db,{size:14,className:"text-blue-600"}),n.jsx("span",{className:"text-gray-600",children:"Secure Data Sync"})]})]})]})]})}),r?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"text-gray-600 mt-4",children:"Loading integrations..."})]}):n.jsx("div",{className:"space-y-8",children:k.map(g=>n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:g}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.filter(f=>f.category===g).map(f=>{const p=f.icon,b=w[f.color];return n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:`${b.bg} p-4 border-b ${b.border}`,children:[n.jsx("div",{className:"flex items-start justify-between mb-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm",children:n.jsx(p,{size:24,className:b.text})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:f.name}),f.isConnected&&n.jsxs("span",{className:"inline-flex items-center text-xs text-green-600",children:[n.jsx(wt,{size:12,className:"mr-1"}),"Connected"]})]})]})}),n.jsx("p",{className:"text-sm text-gray-600",children:f.description})]}),n.jsx("div",{className:"p-4 bg-white",children:f.isConnected?n.jsxs("div",{className:"space-y-3",children:[f.lastSync&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Last synced: ",new Date(f.lastSync).toLocaleString()]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>v(f),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[n.jsx(js,{size:14}),"Sync"]}),n.jsxs("button",{onClick:()=>h(f),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[n.jsx($c,{size:14}),"Settings"]}),n.jsx("button",{onClick:()=>x(f.id),className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors text-sm",children:n.jsx(gt,{size:14})})]})]}):n.jsxs("button",{onClick:()=>h(f),className:`w-full flex items-center justify-center gap-2 px-4 py-2 ${b.bg} ${b.text} rounded-lg hover:opacity-80 transition-colors font-medium text-sm`,children:["Connect ",f.name]})})]},f.id)})})]},g))}),a&&l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[(()=>{const g=l.icon;return n.jsx(g,{size:24,className:"text-gray-700"})})(),n.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Configure ",l.name]})]}),n.jsx("p",{className:"text-sm text-gray-600",children:l.description})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex gap-3",children:[n.jsx(us,{size:20,className:"text-blue-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-gray-700",children:[n.jsx("p",{className:"font-medium text-gray-900 mb-1",children:"API Key Required"}),n.jsxs("p",{children:["You'll need to get your API key from ",l.name,"'s dashboard. Visit their documentation for instructions."]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key / Access Token"}),n.jsx("input",{type:"password",value:c,onChange:g=>d(g.target.value),placeholder:`Enter your ${l.name} API key`,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("a",{href:"#",className:"flex items-center text-sm text-blue-600 hover:text-blue-700",children:[n.jsx(Lt,{size:14,className:"mr-1"}),"How to get API key for ",l.name]})]}),n.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-200 flex gap-3",children:[n.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:m,disabled:!c.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Connect"})]})]})})]})}function Gb(){var F;const[e,t]=y.useState([]),[r,s]=y.useState(!0),[a,i]=y.useState(!1),[l,o]=y.useState(null),[c,d]=y.useState(""),[u,h]=y.useState(""),[m,x]=y.useState(!1),[v,w]=y.useState("dashboard");y.useEffect(()=>{k()},[]);const k=async()=>{var S,D,R,P,E,z;try{const{data:_,error:O}=await $.from("business_accounts").select("*");if(O)throw O;const T=[{id:"splendid-account",service:"Splendid Account",username:((S=_==null?void 0:_.find(L=>L.service==="splendid-account"))==null?void 0:S.username)||"",isConnected:((D=_==null?void 0:_.find(L=>L.service==="splendid-account"))==null?void 0:D.is_connected)||!1,lastLogin:(R=_==null?void 0:_.find(L=>L.service==="splendid-account"))==null?void 0:R.last_login},{id:"shipkardo",service:"ShipKardo",username:((P=_==null?void 0:_.find(L=>L.service==="shipkardo"))==null?void 0:P.username)||"",isConnected:((E=_==null?void 0:_.find(L=>L.service==="shipkardo"))==null?void 0:E.is_connected)||!1,lastLogin:(z=_==null?void 0:_.find(L=>L.service==="shipkardo"))==null?void 0:z.last_login}];t(T)}catch(_){console.error("Error fetching business accounts:",_)}finally{s(!1)}},g=S=>{const D=e.find(R=>R.id===S);o(S),d((D==null?void 0:D.username)||""),h(""),x(!1),i(!0)},f=async()=>{var S;if(!l||!c||!u){alert("Please fill in all fields");return}try{const{error:D}=await $.from("business_accounts").upsert({service:l,username:c,password_encrypted:u,is_connected:!0,last_login:new Date().toISOString()},{onConflict:"service"});if(D)throw D;alert(`Successfully logged in to ${(S=e.find(R=>R.id===l))==null?void 0:S.service}!`),i(!1),k()}catch(D){console.error("Error saving login:",D),alert("Failed to save login credentials. Please try again.")}},p=async S=>{try{const{error:D}=await $.from("business_accounts").update({is_connected:!1}).eq("service",S);if(D)throw D;alert("Successfully logged out!"),k()}catch(D){console.error("Error logging out:",D)}},b=(S,D)=>{window.open(S,"_blank","noopener,noreferrer")},j=e.find(S=>S.id==="splendid-account"),N=e.find(S=>S.id==="shipkardo"),C=[{name:"Dashboard",icon:Rr,color:"green"},{name:"Invoices",icon:oe,color:"blue"},{name:"Expenses",icon:ws,color:"orange"},{name:"Customers",icon:Ke,color:"purple"},{name:"Reports",icon:Me,color:"teal"},{name:"Settings",icon:$c,color:"gray"}],A=[{name:"Shipments",icon:Tt,color:"blue"},{name:"Tracking",icon:Tu,color:"red"},{name:"Orders",icon:Ze,color:"green"},{name:"Delivery",icon:xa,color:"orange"},{name:"Warehouse",icon:lb,color:"purple"},{name:"Alerts",icon:ib,color:"yellow"}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Business Tools"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your accounting and logistics platforms"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>w("dashboard"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${v==="dashboard"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Dashboard"}),n.jsx("button",{onClick:()=>w("accounts"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${v==="accounts"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Accounts"})]})]}),v==="dashboard"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(ut,{size:20,className:"text-green-600"})})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"PKR 2.4M"}),n.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center gap-1",children:[n.jsx(Me,{size:14}),"+18% vs last month"]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Active Shipments"}),n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(xa,{size:20,className:"text-blue-600"})})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"42"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"12 in transit"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Invoices"}),n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(oe,{size:20,className:"text-purple-600"})})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"156"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"23 pending"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(Ze,{size:20,className:"text-orange-600"})})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"328"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This month"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b border-green-200 p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:n.jsx(oe,{size:24,className:"text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Splendid Account Analytics"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Financial overview and insights"})]})]}),j!=null&&j.isConnected?n.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700",children:[n.jsx(wt,{size:14,className:"mr-1"}),"Connected"]}):n.jsx("button",{onClick:()=>g("splendid-account"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:"Connect"})]})}),n.jsx("div",{className:"p-6",children:j!=null&&j.isConnected?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ut,{size:18,className:"text-green-600"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Monthly Revenue"})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"PKR 2.4M"}),n.jsxs("div",{className:"mt-2 flex items-center gap-1 text-sm text-green-600",children:[n.jsx(Me,{size:14}),n.jsx("span",{children:"+18% from last month"})]})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(oe,{size:18,className:"text-blue-600"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Invoices Issued"})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"156"}),n.jsx("div",{className:"mt-2 text-sm text-gray-500",children:"23 pending payment"})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ke,{size:18,className:"text-purple-600"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Active Customers"})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"89"}),n.jsx("div",{className:"mt-2 text-sm text-gray-500",children:"12 new this month"})]})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Recent Financial Activity"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-50 rounded",children:n.jsx(ut,{size:16,className:"text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Payment Received"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Invoice #1234 - Acme Corp"})]})]}),n.jsx("span",{className:"text-sm font-semibold text-green-600",children:"+PKR 125,000"})]}),n.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-50 rounded",children:n.jsx(oe,{size:16,className:"text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Invoice Created"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Invoice #1235 - Tech Solutions"})]})]}),n.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"PKR 85,000"})]}),n.jsxs("div",{className:"flex items-center justify-between py-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-50 rounded",children:n.jsx(ws,{size:16,className:"text-orange-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Expense Recorded"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Office Supplies"})]})]}),n.jsx("span",{className:"text-sm font-semibold text-red-600",children:"-PKR 12,500"})]})]})]})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(us,{size:48,className:"mx-auto text-gray-400 mb-3"}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connect Splendid Account"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Login to view your financial analytics and insights"}),n.jsx("button",{onClick:()=>g("splendid-account"),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Connect Now"})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 border-b border-blue-200 p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:n.jsx(xa,{size:24,className:"text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"ShipKardo Analytics"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Logistics and shipping overview"})]})]}),N!=null&&N.isConnected?n.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-700",children:[n.jsx(wt,{size:14,className:"mr-1"}),"Connected"]}):n.jsx("button",{onClick:()=>g("shipkardo"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Connect"})]})}),n.jsx("div",{className:"p-6",children:N!=null&&N.isConnected?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Tt,{size:18,className:"text-blue-600"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Active Shipments"})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"42"}),n.jsx("div",{className:"mt-2 text-sm text-blue-600",children:"12 in transit"})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(wt,{size:18,className:"text-green-600"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Delivered Today"})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"18"}),n.jsx("div",{className:"mt-2 text-sm text-gray-500",children:"95% on-time rate"})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Tu,{size:18,className:"text-red-600"}),n.jsx("span",{className:"text-sm text-gray-600",children:"Cities Covered"})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"24"}),n.jsx("div",{className:"mt-2 text-sm text-gray-500",children:"Across Pakistan"})]})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Recent Shipment Activity"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-50 rounded",children:n.jsx(wt,{size:16,className:"text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Delivered"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Tracking #SK-2024-001234 - Karachi"})]})]}),n.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full",children:"Completed"})]}),n.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-50 rounded",children:n.jsx(xa,{size:16,className:"text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"In Transit"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Tracking #SK-2024-001235 - Lahore"})]})]}),n.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full",children:"Active"})]}),n.jsxs("div",{className:"flex items-center justify-between py-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-yellow-50 rounded",children:n.jsx(Tt,{size:16,className:"text-yellow-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Picked Up"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Tracking #SK-2024-001236 - Islamabad"})]})]}),n.jsx("span",{className:"text-xs px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full",children:"Processing"})]})]})]})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(us,{size:48,className:"mx-auto text-gray-400 mb-3"}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connect ShipKardo"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Login to view your shipment analytics and tracking"}),n.jsx("button",{onClick:()=>g("shipkardo"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Connect Now"})]})})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:n.jsx(Om,{size:32,className:"text-green-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Integrated Business Management"}),n.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Access your accounting and logistics platforms directly from your dashboard. Login once and manage all your business operations in one place."}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wt,{size:14,className:"text-green-600"}),n.jsx("span",{className:"text-gray-600",children:"Secure credential storage"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wt,{size:14,className:"text-green-600"}),n.jsx("span",{className:"text-gray-600",children:"Quick access to tools"})]})]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 border-b border-green-200",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:n.jsx(oe,{size:28,className:"text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Splendid Account"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Accounting & Financial Management"})]})]}),(j==null?void 0:j.isConnected)&&n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[n.jsx(wt,{size:12,className:"mr-1"}),"Connected"]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ut,{size:16,className:"text-green-600"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Revenue"})]}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:"PKR 2.4M"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(oe,{size:16,className:"text-blue-600"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Invoices"})]}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:"156"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Me,{size:16,className:"text-orange-600"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Growth"})]}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:"+18%"})]})]})]}),n.jsxs("div",{className:"p-6 bg-white",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Manage your financial records, invoices, expenses, and accounting reports."}),j!=null&&j.isConnected?n.jsxs("div",{className:"space-y-4",children:[j.lastLogin&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Last login: ",new Date(j.lastLogin).toLocaleString()]}),n.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:C.map(S=>{const D=S.icon;return n.jsxs("button",{onClick:()=>b("https://app.splendidaccounts.com/"),className:"flex flex-col items-center gap-2 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-gray-300 transition-all group",children:[n.jsx("div",{className:`p-2 rounded-lg bg-${S.color}-50 group-hover:bg-${S.color}-100 transition-colors`,children:n.jsx(D,{size:20,className:`text-${S.color}-600`})}),n.jsx("span",{className:"text-xs font-medium text-gray-700",children:S.name})]},S.name)})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>b("https://app.splendidaccounts.com/"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:[n.jsx(Lt,{size:16}),"Open Splendid Account"]}),n.jsx("button",{onClick:()=>p("splendid-account"),className:"px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:n.jsx(gt,{size:16})})]})]}):n.jsxs("button",{onClick:()=>g("splendid-account"),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:[n.jsx(yl,{size:16}),"Login to Splendid Account"]})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-6 border-b border-blue-200",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:n.jsx(Tt,{size:28,className:"text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"ShipKardo"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Logistics & Shipping Management"})]})]}),(N==null?void 0:N.isConnected)&&n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:[n.jsx(wt,{size:12,className:"mr-1"}),"Connected"]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Tt,{size:16,className:"text-blue-600"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Shipments"})]}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:"342"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ze,{size:16,className:"text-green-600"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Delivered"})]}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:"298"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Me,{size:16,className:"text-orange-600"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Transit"})]}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:"44"})]})]})]}),n.jsxs("div",{className:"p-6 bg-white",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Track shipments, manage deliveries, and optimize your logistics operations."}),N!=null&&N.isConnected?n.jsxs("div",{className:"space-y-4",children:[N.lastLogin&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Last login: ",new Date(N.lastLogin).toLocaleString()]}),n.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:A.map(S=>{const D=S.icon;return n.jsxs("button",{onClick:()=>b("https://app.shipkardo.pk/"),className:"flex flex-col items-center gap-2 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-gray-300 transition-all group",children:[n.jsx("div",{className:`p-2 rounded-lg bg-${S.color}-50 group-hover:bg-${S.color}-100 transition-colors`,children:n.jsx(D,{size:20,className:`text-${S.color}-600`})}),n.jsx("span",{className:"text-xs font-medium text-gray-700",children:S.name})]},S.name)})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>b("https://app.shipkardo.pk/"),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[n.jsx(Lt,{size:16}),"Open ShipKardo"]}),n.jsx("button",{onClick:()=>p("shipkardo"),className:"px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:n.jsx(gt,{size:16})})]})]}):n.jsxs("button",{onClick:()=>g("shipkardo"),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[n.jsx(yl,{size:16}),"Login to ShipKardo"]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("button",{onClick:()=>(j==null?void 0:j.isConnected)&&b("https://app.splendidaccounts.com/"),disabled:!(j!=null&&j.isConnected),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(oe,{size:24,className:"text-green-600 mb-2"}),n.jsx("p",{className:"font-medium text-gray-900",children:"Create Invoice"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Generate new invoice in Splendid"})]}),n.jsxs("button",{onClick:()=>(N==null?void 0:N.isConnected)&&b("https://app.shipkardo.pk/"),disabled:!(N!=null&&N.isConnected),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Tt,{size:24,className:"text-blue-600 mb-2"}),n.jsx("p",{className:"font-medium text-gray-900",children:"Book Shipment"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Create new shipment in ShipKardo"})]}),n.jsxs("button",{onClick:()=>{j!=null&&j.isConnected&&(N!=null&&N.isConnected)?(b("https://app.splendidaccounts.com/"),setTimeout(()=>b("https://app.shipkardo.pk/"),500)):j!=null&&j.isConnected?b("https://app.splendidaccounts.com/"):N!=null&&N.isConnected&&b("https://app.shipkardo.pk/")},disabled:!(j!=null&&j.isConnected)&&!(N!=null&&N.isConnected),className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Me,{size:24,className:"text-orange-600 mb-2"}),n.jsx("p",{className:"font-medium text-gray-900",children:"View Reports"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Access financial & logistics reports"})]})]})]})]}),a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(yl,{size:24,className:"text-gray-700"}),n.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Login to ",(F=e.find(S=>S.id===l))==null?void 0:F.service]})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Enter your credentials to connect your account"})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username / Email"}),n.jsx("input",{type:"text",value:c,onChange:S=>d(S.target.value),placeholder:"Enter your username or email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:m?"text":"password",value:u,onChange:S=>h(S.target.value),placeholder:"Enter your password",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10"}),n.jsx("button",{type:"button",onClick:()=>x(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:m?n.jsx(ub,{size:18}):n.jsx(Ar,{size:18})})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex gap-3",children:[n.jsx(us,{size:20,className:"text-blue-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-gray-700",children:[n.jsx("p",{className:"font-medium text-gray-900 mb-1",children:"Secure Storage"}),n.jsx("p",{children:"Your credentials are encrypted and stored securely. We never share your login information."})]})]})]}),n.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-200 flex gap-3",children:[n.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:f,disabled:!c.trim()||!u.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Login"})]})]})})]})}function Jb({isOpen:e,onClose:t,onSuccess:r}){const[s,a]=y.useState({name:"",type:"image",platform:"Facebook",format:"1200x628",headline:"",description:"",cta_text:"Learn More",image_url:"",video_url:"",status:"draft"}),[i,l]=y.useState(!1),[o,c]=y.useState(""),d=["Facebook","Instagram","Google Ads","YouTube","LinkedIn","Twitter","TikTok"],u={Facebook:["1200x628","1080x1080","1200x1500","1080x1920"],Instagram:["1080x1080","1080x1920","1080x566"],"Google Ads":["1200x628","300x250","728x90","160x600"],YouTube:["1920x1080","1280x720"],LinkedIn:["1200x627","1080x1080"],Twitter:["1200x675","1080x1080"],TikTok:["1080x1920","1080x1350"]},h=["Learn More","Shop Now","Sign Up","Download","Get Started","Subscribe","Contact Us","Watch Now","Book Now","Apply Now"],m=async w=>{w.preventDefault(),c(""),l(!0);try{const{data:{user:k}}=await $.auth.getUser();if(!k){c("You must be logged in to create ads");return}if(!s.name.trim()){c("Ad name is required");return}if(!s.headline.trim()){c("Headline is required");return}if(!s.description.trim()){c("Description is required");return}const{error:g}=await $.from("ad_creatives").insert([{user_id:k.id,name:s.name,type:s.type,platform:s.platform,format:s.format,headline:s.headline,description:s.description,cta_text:s.cta_text,image_url:s.image_url||null,video_url:s.video_url||null,status:s.status}]);if(g)throw g;a({name:"",type:"image",platform:"Facebook",format:"1200x628",headline:"",description:"",cta_text:"Learn More",image_url:"",video_url:"",status:"draft"}),r(),t()}catch(k){c(k.message||"Failed to create ad")}finally{l(!1)}},x=w=>{a({...s,type:w}),w==="text"&&a(k=>({...k,image_url:"",video_url:""}))},v=w=>{a({...s,platform:w,format:u[w][0]})};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Ad"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(gt,{size:24})})]}),n.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[o&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:o}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad Name *"}),n.jsx("input",{type:"text",value:s.name,onChange:w=>a({...s,name:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"e.g., Summer Sale Campaign - Image 1",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ad Type *"}),n.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{value:"image",label:"Image",icon:Lc},{value:"video",label:"Video",icon:Li},{value:"carousel",label:"Carousel",icon:$m},{value:"text",label:"Text",icon:Mc}].map(w=>{const k=w.icon;return n.jsxs("button",{type:"button",onClick:()=>x(w.value),className:`p-4 border-2 rounded-lg flex flex-col items-center gap-2 transition-colors ${s.type===w.value?"border-green-600 bg-green-50 text-green-700":"border-gray-300 text-gray-600 hover:border-gray-400"}`,children:[n.jsx(k,{size:24}),n.jsx("span",{className:"text-sm font-medium",children:w.label})]},w.value)})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform *"}),n.jsx("select",{value:s.platform,onChange:w=>v(w.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:d.map(w=>n.jsx("option",{value:w,children:w},w))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Format (Dimensions) *"}),n.jsx("select",{value:s.format,onChange:w=>a({...s,format:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:u[s.platform].map(w=>n.jsx("option",{value:w,children:w},w))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Headline *"}),n.jsx("input",{type:"text",value:s.headline,onChange:w=>a({...s,headline:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"e.g., Get 50% Off All Products",maxLength:100,required:!0}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[s.headline.length,"/100 characters"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),n.jsx("textarea",{value:s.description,onChange:w=>a({...s,description:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"e.g., Limited time offer on all our premium products...",rows:3,maxLength:300,required:!0}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[s.description.length,"/300 characters"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Call to Action *"}),n.jsx("select",{value:s.cta_text,onChange:w=>a({...s,cta_text:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",required:!0,children:h.map(w=>n.jsx("option",{value:w,children:w},w))})]}),s.type!=="text"&&n.jsxs(n.Fragment,{children:[(s.type==="image"||s.type==="carousel")&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),n.jsx("input",{type:"url",value:s.image_url,onChange:w=>a({...s,image_url:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a public image URL or use stock photos from Pexels"})]}),s.type==="video"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video URL"}),n.jsx("input",{type:"url",value:s.video_url,onChange:w=>a({...s,video_url:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"https://example.com/video.mp4"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter a public video URL"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{value:s.status,onChange:w=>a({...s,status:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[n.jsx("option",{value:"draft",children:"Draft"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"paused",children:"Paused"})]})]}),n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Ad Preview"}),n.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-4",children:[s.image_url&&n.jsx("img",{src:s.image_url,alt:"Preview",className:"w-full h-48 object-cover rounded-lg mb-3",onError:w=>{w.target.style.display="none"}}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:s.headline||"Your headline here"}),n.jsx("p",{className:"text-sm text-gray-600",children:s.description||"Your description here"}),n.jsx("button",{type:"button",className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium",children:s.cta_text})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:i,children:"Cancel"}),n.jsx("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:i,children:i?"Creating...":"Create Ad"})]})]})]})}):null}function Qb(){const[e,t]=y.useState([]),[r,s]=y.useState([]),[a,i]=y.useState({}),[l,o]=y.useState(!0),[c,d]=y.useState("ads"),[u,h]=y.useState(!1),[m,x]=y.useState("all"),[v,w]=y.useState("all");y.useEffect(()=>{k()},[]);const k=async()=>{try{o(!0);const{data:{user:_}}=await $.auth.getUser();if(!_){o(!1);return}const{data:O}=await $.from("ad_creatives").select("*").eq("user_id",_.id).order("created_at",{ascending:!1}),{data:T}=await $.from("ad_performance").select("*");if(O&&O.length>0)t(O);else{const W=[{id:"1",name:"Summer Sale Banner",type:"image",platform:"Facebook",format:"1200x628",headline:"Summer Sale - 50% Off",description:"Get incredible deals on all products this summer",cta_text:"Shop Now",image_url:"https://images.pexels.com/photos/1292241/pexels-photo-1292241.jpeg?auto=compress&cs=tinysrgb&w=800",status:"active",created_at:new Date().toISOString()},{id:"2",name:"Product Demo Video",type:"video",platform:"YouTube",format:"1920x1080",headline:"See Our Product in Action",description:"Watch how easy it is to use our amazing product",cta_text:"Learn More",video_url:"https://example.com/video.mp4",status:"active",created_at:new Date().toISOString()},{id:"3",name:"Carousel Ad - Products",type:"carousel",platform:"Instagram",format:"1080x1080",headline:"Discover Our Collection",description:"Swipe to see all our amazing products",cta_text:"View Collection",status:"draft",created_at:new Date().toISOString()}];t(W)}const L={};T&&T.length>0?(T.forEach(W=>{L[W.ad_id]||(L[W.ad_id]={ad_id:W.ad_id,impressions:0,clicks:0,conversions:0,spend:0,ctr:0,cpc:0,cpa:0}),L[W.ad_id].impressions+=W.impressions||0,L[W.ad_id].clicks+=W.clicks||0,L[W.ad_id].conversions+=W.conversions||0,L[W.ad_id].spend+=Number(W.spend)||0}),Object.keys(L).forEach(W=>{const V=L[W];V.ctr=V.impressions>0?V.clicks/V.impressions*100:0,V.cpc=V.clicks>0?V.spend/V.clicks:0,V.cpa=V.conversions>0?V.spend/V.conversions:0})):(L[1]={ad_id:"1",impressions:125e3,clicks:3750,conversions:225,spend:5e3,ctr:3,cpc:1.33,cpa:22.22},L[2]={ad_id:"2",impressions:85e3,clicks:2550,conversions:178,spend:3800,ctr:3,cpc:1.49,cpa:21.35});const B=[{id:"1",name:"Young Professionals",size:25e5,demographics:{age:"25-34",gender:"all"},interests:["Technology","Business","Career Development"],locations:["Pakistan","India","UAE"]},{id:"2",name:"Parents & Families",size:18e5,demographics:{age:"30-45",gender:"all"},interests:["Family","Education","Parenting"],locations:["Pakistan","United States"]},{id:"3",name:"Tech Enthusiasts",size:95e4,demographics:{age:"18-35",gender:"all"},interests:["Technology","Gaming","Innovation"],locations:["Worldwide"]}];i(L),s(B)}catch(_){console.error("Error fetching ads data:",_)}finally{o(!1)}},g=_=>{switch(_){case"image":return Lc;case"video":return Li;case"carousel":return $m;case"text":return Mc;default:return xl}},f=_=>{switch(_){case"image":return"bg-blue-100 text-blue-800";case"video":return"bg-purple-100 text-purple-800";case"carousel":return"bg-pink-100 text-pink-800";case"text":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},p=_=>({Facebook:"bg-blue-100 text-blue-800",Instagram:"bg-pink-100 text-pink-800","Google Ads":"bg-red-100 text-red-800",YouTube:"bg-red-100 text-red-800",LinkedIn:"bg-cyan-100 text-cyan-800",Twitter:"bg-sky-100 text-sky-800",TikTok:"bg-purple-100 text-purple-800"})[_]||"bg-gray-100 text-gray-800",b=_=>{switch(_){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"draft":return"bg-gray-100 text-gray-800";case"archived":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},j=async _=>{if(confirm("Are you sure you want to delete this ad?"))try{const{error:O}=await $.from("ad_creatives").delete().eq("id",_);if(O)throw O;k()}catch(O){console.error("Error deleting ad:",O),alert("Failed to delete ad")}},N=async(_,O)=>{const T=O==="active"?"paused":"active";try{const{error:L}=await $.from("ad_creatives").update({status:T}).eq("id",_);if(L)throw L;k()}catch(L){console.error("Error updating ad status:",L),alert("Failed to update ad status")}},C=async _=>{try{const{data:{user:O}}=await $.auth.getUser();if(!O)return;const T={user_id:O.id,name:`${_.name} (Copy)`,type:_.type,platform:_.platform,format:_.format,headline:_.headline,description:_.description,cta_text:_.cta_text,image_url:_.image_url,video_url:_.video_url,status:"draft"},{error:L}=await $.from("ad_creatives").insert([T]);if(L)throw L;k(),alert("Ad duplicated successfully!")}catch(O){console.error("Error duplicating ad:",O),alert("Failed to duplicate ad")}},A=e.filter(_=>{const O=m==="all"||_.platform===m,T=v==="all"||_.status===v;return O&&T}),F=[...new Set(e.map(_=>_.platform))],S=Object.values(a).reduce((_,O)=>_+O.impressions,0),D=Object.values(a).reduce((_,O)=>_+O.clicks,0),R=Object.values(a).reduce((_,O)=>_+O.conversions,0),P=Object.values(a).reduce((_,O)=>_+O.spend,0),E=S>0?D/S*100:0,z=D>0?P/D:0;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Online Ads"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage ad creatives across all platforms"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:k,className:"flex items-center px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(js,{size:20,className:"mr-2"}),"Refresh"]}),n.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[n.jsx(mt,{size:20,className:"mr-2"}),"Create Ad"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Impressions"}),n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(Ar,{size:20,className:"text-purple-600"})})]}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(S/1e3).toFixed(1),"K"]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Across all ads"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Clicks"}),n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Ic,{size:20,className:"text-blue-600"})})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.toLocaleString()}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["CTR: ",E.toFixed(2),"%"]})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Conversions"}),n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(or,{size:20,className:"text-green-600"})})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:R}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"From all creatives"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Spend"}),n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(ut,{size:20,className:"text-orange-600"})})]}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["PKR ",P.toLocaleString()]}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["CPC: PKR ",z.toFixed(2)]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("nav",{className:"flex -mb-px",children:[n.jsx("button",{onClick:()=>d("ads"),className:`px-6 py-4 text-sm font-medium border-b-2 ${c==="ads"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xl,{size:18}),"Ad Creatives (",e.length,")"]})}),n.jsx("button",{onClick:()=>d("audiences"),className:`px-6 py-4 text-sm font-medium border-b-2 ${c==="audiences"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ke,{size:18}),"Audiences (",r.length,")"]})}),n.jsx("button",{onClick:()=>d("abtest"),className:`px-6 py-4 text-sm font-medium border-b-2 ${c==="abtest"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(So,{size:18}),"A/B Testing"]})})]})}),n.jsxs("div",{className:"p-6",children:[c==="ads"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Im,{size:20,className:"text-gray-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"})]}),n.jsxs("select",{value:m,onChange:_=>x(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Platforms"}),F.map(_=>n.jsx("option",{value:_,children:_},_))]}),n.jsxs("select",{value:v,onChange:_=>w(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"paused",children:"Paused"}),n.jsx("option",{value:"draft",children:"Draft"}),n.jsx("option",{value:"archived",children:"Archived"})]}),n.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm ml-auto",children:[n.jsx(li,{size:16}),"Export"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l?n.jsx("div",{className:"col-span-3 flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):A.length===0?n.jsxs("div",{className:"col-span-3 text-center py-12",children:[n.jsx(xl,{size:48,className:"mx-auto text-gray-400 mb-2"}),n.jsx("p",{className:"text-gray-500",children:"No ads found"}),n.jsx("button",{onClick:()=>h(!0),className:"mt-4 text-green-600 hover:text-green-700 font-medium",children:"Create your first ad"})]}):A.map(_=>{const O=g(_.type),T=a[_.id];return n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"relative h-48 bg-gray-100 flex items-center justify-center",children:[_.image_url?n.jsx("img",{src:_.image_url,alt:_.name,className:"w-full h-full object-cover"}):n.jsxs("div",{className:"text-center p-6",children:[n.jsx(O,{size:48,className:"mx-auto text-gray-400 mb-2"}),n.jsxs("p",{className:"text-sm text-gray-500",children:[_.type," ad"]})]}),n.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${f(_.type)}`,children:_.type}),n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${b(_.status)}`,children:_.status})]})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:_.name}),n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${p(_.platform)}`,children:_.platform})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:_.headline}),n.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:_.description}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-xs px-2 py-1 bg-blue-50 text-blue-700 rounded",children:["CTA: ",_.cta_text]}),n.jsx("span",{className:"text-xs text-gray-500",children:_.format})]})]}),T&&n.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Impressions"}),n.jsxs("p",{className:"text-sm font-bold text-gray-900",children:[(T.impressions/1e3).toFixed(1),"K"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Clicks"}),n.jsx("p",{className:"text-sm font-bold text-gray-900",children:T.clicks})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Conv."}),n.jsx("p",{className:"text-sm font-bold text-gray-900",children:T.conversions})]})]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-600 text-center",children:["CTR: ",T.ctr.toFixed(2),"%  CPC: PKR ",T.cpc.toFixed(2)]})]}),n.jsxs("div",{className:"mt-4 flex items-center justify-between pt-3 border-t border-gray-200",children:[n.jsxs("div",{className:"flex gap-2",children:[_.status==="active"?n.jsx("button",{onClick:()=>N(_.id,_.status),className:"p-1 text-yellow-600 hover:text-yellow-900",title:"Pause",children:n.jsx(bb,{size:16})}):n.jsx("button",{onClick:()=>N(_.id,_.status),className:"p-1 text-green-600 hover:text-green-900",title:"Activate",children:n.jsx(jb,{size:16})}),n.jsx("button",{onClick:()=>C(_),className:"p-1 text-blue-600 hover:text-blue-900",title:"Duplicate",children:n.jsx(Lm,{size:16})}),n.jsx("button",{className:"p-1 text-gray-600 hover:text-gray-900",title:"Edit",children:n.jsx(ws,{size:16})})]}),n.jsx("button",{onClick:()=>j(_.id),className:"p-1 text-red-600 hover:text-red-900",title:"Delete",children:n.jsx(ci,{size:16})})]})]})]},_.id)})})]}),c==="audiences"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Manage your target audiences for ad campaigns"}),n.jsxs("button",{className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[n.jsx(mt,{size:16,className:"mr-2"}),"Create Audience"]})]}),n.jsx("div",{className:"space-y-4",children:r.map(_=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.name}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Estimated reach: ",n.jsxs("span",{className:"font-medium text-gray-900",children:[(_.size/1e6).toFixed(1),"M people"]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"p-2 text-blue-600 hover:text-blue-900",children:n.jsx(ws,{size:18})}),n.jsx("button",{className:"p-2 text-red-600 hover:text-red-900",children:n.jsx(ci,{size:18})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Demographics"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded",children:["Age: ",_.demographics.age]}),n.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded",children:_.demographics.gender})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Interests"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:_.interests.map((O,T)=>n.jsx("span",{className:"px-2 py-1 bg-purple-50 text-purple-700 text-xs rounded",children:O},T))})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Locations"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:_.locations.map((O,T)=>n.jsx("span",{className:"px-2 py-1 bg-green-50 text-green-700 text-xs rounded",children:O},T))})]})]})]},_.id))})]}),c==="abtest"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Test different ad variations to optimize performance"}),n.jsxs("button",{className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[n.jsx(mt,{size:16,className:"mr-2"}),"New A/B Test"]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-8 text-center",children:[n.jsx(So,{size:48,className:"mx-auto text-blue-600 mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"A/B Testing"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Create A/B tests to compare different ad creatives and find what works best"}),n.jsx("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Start Your First A/B Test"})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"A/B Testing Best Practices"}),n.jsxs("ul",{className:"space-y-3",children:[n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx(hs,{size:20,className:"text-green-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Test one variable at a time"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Change only one element between versions to identify what drives results"})]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx(hs,{size:20,className:"text-green-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Run tests for sufficient duration"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Allow at least 7 days to gather meaningful data"})]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx(hs,{size:20,className:"text-green-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Use similar audience sizes"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Ensure both variants reach comparable audience segments"})]})]})]})]})]})]})]}),n.jsx(Jb,{isOpen:u,onClose:()=>h(!1),onSuccess:k})]})}function Yb(){const[e,t]=y.useState({appName:"STEM N ROOT",appLogo:"",primaryColor:"#16a34a",secondaryColor:"#10b981",accentColor:"#059669",tagline:"Digital Marketing Dashboard",contactEmail:"",companyUrl:""}),[r,s]=y.useState(!0),[a,i]=y.useState(!1),[l,o]=y.useState("");y.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:h,error:m}=await $.from("app_settings").select("*").maybeSingle();if(m)throw m;h&&(t({appName:h.app_name||"STEM N ROOT",appLogo:h.app_logo||"",primaryColor:h.primary_color||"#16a34a",secondaryColor:h.secondary_color||"#10b981",accentColor:h.accent_color||"#059669",tagline:h.tagline||"Digital Marketing Dashboard",contactEmail:h.contact_email||"",companyUrl:h.company_url||""}),o(h.app_logo||""))}catch(h){console.error("Error fetching settings:",h)}finally{s(!1)}},d=async()=>{i(!0);try{const{error:h}=await $.from("app_settings").upsert({id:1,app_name:e.appName,app_logo:e.appLogo,primary_color:e.primaryColor,secondary_color:e.secondaryColor,accent_color:e.accentColor,tagline:e.tagline,contact_email:e.contactEmail,company_url:e.companyUrl,updated_at:new Date().toISOString()});if(h)throw h;alert("Settings saved successfully! Refresh the page to see changes.")}catch(h){console.error("Error saving settings:",h),alert("Failed to save settings. Please try again.")}finally{i(!1)}},u=h=>{t({...e,appLogo:h}),o(h)};return r?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Admin Settings"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Customize your application appearance and branding"})]}),n.jsxs("button",{onClick:d,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[n.jsx(kb,{size:20}),a?"Saving...":"Save Changes"]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(Mc,{size:24,className:"text-green-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Branding"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Application Name"}),n.jsx("input",{type:"text",value:e.appName,onChange:h=>t({...e,appName:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"STEM N ROOT"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tagline"}),n.jsx("input",{type:"text",value:e.tagline,onChange:h=>t({...e,tagline:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Digital Marketing Dashboard"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo URL"}),n.jsx("div",{className:"flex gap-2",children:n.jsx("input",{type:"url",value:e.appLogo,onChange:h=>u(h.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"https://example.com/logo.png"})}),l&&n.jsxs("div",{className:"mt-3 p-4 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Logo Preview:"}),n.jsx("img",{src:l,alt:"Logo preview",className:"h-12 object-contain",onError:()=>o("")})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(oi,{size:24,className:"text-green-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Theme Colors"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Color"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"color",value:e.primaryColor,onChange:h=>t({...e,primaryColor:h.target.value}),className:"w-16 h-10 rounded border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:e.primaryColor,onChange:h=>t({...e,primaryColor:h.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Secondary Color"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"color",value:e.secondaryColor,onChange:h=>t({...e,secondaryColor:h.target.value}),className:"w-16 h-10 rounded border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:e.secondaryColor,onChange:h=>t({...e,secondaryColor:h.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accent Color"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"color",value:e.accentColor,onChange:h=>t({...e,accentColor:h.target.value}),className:"w-16 h-10 rounded border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:e.accentColor,onChange:h=>t({...e,accentColor:h.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),n.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Color Preview:"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"flex-1 h-16 rounded-lg",style:{backgroundColor:e.primaryColor}}),n.jsx("div",{className:"flex-1 h-16 rounded-lg",style:{backgroundColor:e.secondaryColor}}),n.jsx("div",{className:"flex-1 h-16 rounded-lg",style:{backgroundColor:e.accentColor}})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[n.jsx(Co,{size:24,className:"text-green-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Company Information"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email"}),n.jsx("input",{type:"email",value:e.contactEmail,onChange:h=>t({...e,contactEmail:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"contact@example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Website"}),n.jsx("input",{type:"url",value:e.companyUrl,onChange:h=>t({...e,companyUrl:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"https://www.example.com"})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl border border-blue-200 p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Cb,{size:24,className:"text-blue-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Important Notes"})]}),n.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mt-2"}),n.jsx("p",{children:"Changes will take effect after saving and refreshing the page"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mt-2"}),n.jsx("p",{children:"Logo URL must be a valid image URL (PNG, JPG, SVG)"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mt-2"}),n.jsx("p",{children:"Theme colors use hexadecimal format (#RRGGBB)"})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full mt-2"}),n.jsx("p",{children:"Only admin users can access and modify these settings"})]})]})]})]})]})}const Xb=[{id:"dashboard",name:"Executive Dashboard",icon:fb},{id:"website",name:"Website",icon:Or},{id:"seo",name:"SEO",icon:_b},{id:"social",name:"Social Media",icon:Tn},{id:"analytics",name:"Analytics",icon:Me},{id:"campaigns",name:"Campaigns",icon:or},{id:"email",name:"Email Marketing",icon:It},{id:"leads",name:"Leads",icon:Ke},{id:"content",name:"Content Calendar",icon:oe},{id:"ecommerce",name:"E-commerce",icon:Ze},{id:"ads",name:"Online Ads",icon:ut},{id:"business",name:"Business Tools",icon:Om},{id:"integrations",name:"Integrations",icon:Nb},{id:"reports",name:"Reports",icon:Rr},{id:"settings",name:"Admin Settings",icon:$c}],Zb=[{name:"Green",primary:"#16a34a",secondary:"#10b981"},{name:"Blue",primary:"#2563eb",secondary:"#3b82f6"},{name:"Purple",primary:"#9333ea",secondary:"#a855f7"},{name:"Red",primary:"#dc2626",secondary:"#ef4444"},{name:"Orange",primary:"#ea580c",secondary:"#f97316"},{name:"Teal",primary:"#0d9488",secondary:"#14b8a6"}];function ew(){const[e,t]=y.useState("dashboard"),[r,s]=y.useState(!1),[a,i]=y.useState(!1),[l,o]=y.useState(!1),[c,d]=y.useState({primary:"#16a34a",secondary:"#10b981"}),[u,h]=y.useState({appName:"STEM N ROOT",appLogo:"",tagline:"Digital Marketing Dashboard"}),{signOut:m,user:x,userRole:v}=Oc();y.useEffect(()=>{w()},[]);const w=async()=>{try{const{data:b,error:j}=await $.from("app_settings").select("*").maybeSingle();if(j)throw j;b&&(h({appName:b.app_name||"STEM N ROOT",appLogo:b.app_logo||"",tagline:b.tagline||"Digital Marketing Dashboard"}),d({primary:b.primary_color||"#16a34a",secondary:b.secondary_color||"#10b981"}),k(b.primary_color||"#16a34a",b.secondary_color||"#10b981"))}catch(b){console.error("Error loading app settings:",b)}},k=(b,j)=>{document.documentElement.style.setProperty("--color-primary",b),document.documentElement.style.setProperty("--color-secondary",j)},g=async b=>{d({primary:b.primary,secondary:b.secondary}),k(b.primary,b.secondary);try{await $.from("app_settings").update({primary_color:b.primary,secondary_color:b.secondary,updated_at:new Date().toISOString()}).eq("id",1)}catch(j){console.error("Error saving theme:",j)}o(!1)},f=()=>{switch(e){case"dashboard":return n.jsx(Au,{});case"website":return n.jsx(Ab,{});case"seo":return n.jsx(Ob,{});case"social":return n.jsx(Ib,{});case"analytics":return n.jsx($b,{});case"campaigns":return n.jsx(Ub,{});case"email":return n.jsx(zb,{});case"leads":return n.jsx(Bb,{});case"content":return n.jsx(Vb,{});case"ecommerce":return n.jsx(Kb,{});case"ads":return n.jsx(Qb,{});case"reports":return n.jsx(Hb,{});case"integrations":return n.jsx(qb,{});case"business":return n.jsx(Gb,{});case"settings":return n.jsx(Yb,{});default:return n.jsx(Au,{})}},p=async()=>{try{await m()}catch(b){console.error("Sign out error:",b)}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:n.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{onClick:()=>s(!r),className:"lg:hidden p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:r?n.jsx(gt,{size:24}):n.jsx(gb,{size:24})}),n.jsxs("div",{className:"flex items-center ml-2 lg:ml-0",children:[u.appLogo?n.jsx("img",{src:u.appLogo,alt:u.appName,className:"h-8 w-auto"}):n.jsx("div",{className:"h-8 w-8 bg-green-600 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-sm",children:u.appName.split(" ").map(b=>b[0]).join("").substring(0,2)})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h1",{className:"text-lg font-bold text-gray-900",children:u.appName}),n.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:u.tagline})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>o(!l),className:"p-2 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Change Theme",children:n.jsx(oi,{size:20})}),l&&n.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[n.jsx("div",{className:"p-3 border-b border-gray-200",children:n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Select Theme"})}),n.jsx("div",{className:"p-2 space-y-1",children:Zb.map(b=>n.jsxs("button",{onClick:()=>g(b),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:b.name}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("div",{className:"w-6 h-6 rounded border border-gray-200",style:{backgroundColor:b.primary}}),n.jsx("div",{className:"w-6 h-6 rounded border border-gray-200",style:{backgroundColor:b.secondary}})]})]},b.name))})]})]}),n.jsxs("div",{className:"hidden sm:block text-right",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:x==null?void 0:x.email}),n.jsx("p",{className:"text-xs text-gray-500 capitalize",children:v})]}),n.jsxs("button",{onClick:p,className:"flex items-center px-3 py-2 text-sm text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[n.jsx(pb,{size:16,className:"mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]})]})})}),n.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[n.jsxs("aside",{className:`${r?"translate-x-0":"-translate-x-full"} lg:translate-x-0 fixed lg:static inset-y-0 left-0 z-40 ${a?"w-16":"w-64"} bg-white border-r border-gray-200 transition-all duration-300 ease-in-out overflow-y-auto`,children:[n.jsx("div",{className:"hidden lg:flex justify-end p-2 border-b border-gray-200",children:n.jsx("button",{onClick:()=>i(!a),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:a?"Expand Sidebar":"Collapse Sidebar",children:a?n.jsx(cb,{size:20}):n.jsx(ob,{size:20})})}),n.jsx("nav",{className:"px-3 py-4 space-y-1",children:Xb.map(b=>{const j=b.icon,N=e===b.id;return n.jsxs("button",{onClick:()=>{t(b.id),s(!1)},className:`w-full flex items-center ${a?"justify-center px-2":"px-3"} py-2 text-sm font-medium rounded-lg transition-colors ${N?"bg-green-50 text-green-700":"text-gray-700 hover:bg-gray-50"}`,title:a?b.name:"",children:[n.jsx(j,{size:20,className:a?"":"mr-3"}),!a&&n.jsx("span",{children:b.name})]},b.id)})})]}),n.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 lg:p-8",children:f()})]}),r&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>s(!1)})]})}function tw(){const[e,t]=y.useState(""),[r,s]=y.useState(""),[a,i]=y.useState(""),[l,o]=y.useState(""),[c,d]=y.useState(!1),[u,h]=y.useState(!1),{signIn:m}=Oc(),x=async v=>{v.preventDefault(),o(""),d(!0);try{if(u){const{data:w,error:k}=await $.auth.signUp({email:e,password:r,options:{data:{name:a,role:"admin"}}});if(k)throw k;w.user&&(await $.from("users").insert({id:w.user.id,email:e,name:a,role:"admin",password_hash:"managed_by_supabase_auth"}),await m(e,r))}else await m(e,r)}catch(w){o(w.message||"An error occurred")}finally{d(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-blue-50 px-4",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto h-16 w-16 bg-green-600 rounded-xl flex items-center justify-center mb-4",children:n.jsx("svg",{className:"h-10 w-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"STEM N ROOT Farm"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Digital Marketing Dashboard"})]}),n.jsxs("form",{className:"mt-8 space-y-6 bg-white p-8 rounded-2xl shadow-lg",onSubmit:x,children:[l&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:l}),n.jsxs("div",{className:"space-y-4",children:[u&&n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),n.jsx("input",{id:"name",type:"text",required:!0,value:a,onChange:v=>i(v.target.value),className:"appearance-none relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter your full name"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),n.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:v=>t(v.target.value),className:"appearance-none relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter your email"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),n.jsx("input",{id:"password",type:"password",required:!0,value:r,onChange:v=>s(v.target.value),className:"appearance-none relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Enter your password"})]})]}),n.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?u?"Creating account...":"Signing in...":u?"Create Account":"Sign In"}),n.jsx("div",{className:"text-center",children:n.jsx("button",{type:"button",onClick:()=>{h(!u),o("")},className:"text-sm text-green-600 hover:text-green-700 font-medium",children:u?"Already have an account? Sign in":"Need an account? Sign up"})})]})]})})}function rw(){const{user:e,loading:t}=Oc();return t?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):e?n.jsx(ew,{}):n.jsx(tw,{})}function sw(){return n.jsx(eb,{children:n.jsx(rw,{})})}bl.createRoot(document.getElementById("root")).render(n.jsx(tp.StrictMode,{children:n.jsx(Cx,{children:n.jsx(sw,{})})}));
